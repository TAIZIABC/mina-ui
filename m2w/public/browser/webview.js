! function (e) {
  var t = {};
  // webview  code
  function A(r) {
    if (t[r]) return t[r].exports;
    var n = t[r] = {
      i: r,
      l: !1,
      exports: {}
    };
    return e[r].call(n.exports, n, n.exports, A), n.l = !0, n.exports
  }
  A.m = e, A.c = t, A.d = function (e, t, r) {
    A.o(e, t) || Object.defineProperty(e, t, {
      enumerable: !0,
      get: r
    })
  }, A.r = function (e) {
    "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
      value: "Module"
    }), Object.defineProperty(e, "__esModule", {
      value: !0
    })
  }, A.t = function (e, t) {
    if (1 & t && (e = A(e)), 8 & t) return e;
    if (4 & t && "object" == typeof e && e && e.__esModule) return e;
    var r = Object.create(null);
    if (A.r(r), Object.defineProperty(r, "default", {
        enumerable: !0,
        value: e
      }), 2 & t && "string" != typeof e)
      for (var n in e) A.d(r, n, function (t) {
        return e[t]
      }.bind(null, n));
    return r
  }, A.n = function (e) {
    var t = e && e.__esModule ? function () {
      return e.default
    } : function () {
      return e
    };
    return A.d(t, "a", t), t
  }, A.o = function (e, t) {
    return Object.prototype.hasOwnProperty.call(e, t)
  }, A.p = "", A(A.s = 222)
}([, , , function (e, t, A) {
      "use strict";
      var r = this && this.__importDefault || function (e) {
        return e && e.__esModule ? e : {
          default: e
        }
      };
      Object.defineProperty(t, "__esModule", {
        value: !0
      });
      const n = r(A(61)),
        i = r(A(42)),
        o = r(A(19)),
        s = r(A(24)),
        a = r(A(4));
      const l = n.default("ticket"),
        u = n.default("testTicket");
      __wxConfig.isTestTicket = !1, l && (__wxConfig.ticket = l), !l && u && (__wxConfig.ticket = u, __wxConfig.isTestTicket = !0), a.default(__wxConfig.proxy) && 0 === __wxConfig.proxy.length && (__wxConfig.proxy = [`${__wxConfig.baseUrl}/proxy`]), __wxConfig.windowWidth = i.default() ? window.innerWidth : 375;
      const c = location.hash;
      o.default(c, "#!") && Object.assign(__wxConfig.appLaunchInfo, function (e) {
        const t = e.split("?");
        let A = {};
        return t[1] && (A = s.default.parse(t[1])), {
          path: t[0],
          query: A
        }
      }(c.replace("#!", "")));
      const d = n.default("scene");
      d && (__wxConfig.appLaunchInfo.scene = d), 4 === __wxConfig.appType && (__wxConfig.devicePixelRatio = window.devicePixelRatio), t.default = __wxConfig
    }, function (e, t, A) {
      var r = A(8);
      t = Array.isArray || function (e) {
        return "[object Array]" === r(e)
      }, e.exports = t
    }, function (e, t) {
      var A, r, n = e.exports = {};

      function i() {
        throw new Error("setTimeout has not been defined")
      }

      function o() {
        throw new Error("clearTimeout has not been defined")
      }

      function s(e) {
        if (A === setTimeout) return setTimeout(e, 0);
        if ((A === i || !A) && setTimeout) return A = setTimeout, setTimeout(e, 0);
        try {
          return A(e, 0)
        } catch (t) {
          try {
            return A.call(null, e, 0)
          } catch (t) {
            return A.call(this, e, 0)
          }
        }
      }! function () {
        try {
          A = "function" == typeof setTimeout ? setTimeout : i
        } catch (e) {
          A = i
        }
        try {
          r = "function" == typeof clearTimeout ? clearTimeout : o
        } catch (e) {
          r = o
        }
      }();
      var a, l = [],
        u = !1,
        c = -1;

      function d() {
        u && a && (u = !1, a.length ? l = a.concat(l) : c = -1, l.length && f())
      }

      function f() {
        if (!u) {
          var e = s(d);
          u = !0;
          for (var t = l.length; t;) {
            for (a = l, l = []; ++c < t;) a && a[c].run();
            c = -1, t = l.length
          }
          a = null, u = !1,
            function (e) {
              if (r === clearTimeout) return clearTimeout(e);
              if ((r === o || !r) && clearTimeout) return r = clearTimeout, clearTimeout(e);
              try {
                r(e)
              } catch (t) {
                try {
                  return r.call(null, e)
                } catch (t) {
                  return r.call(this, e)
                }
              }
            }(e)
        }
      }

      function h(e, t) {
        this.fun = e, this.array = t
      }

      function p() {}
      n.nextTick = function (e) {
        var t = new Array(arguments.length - 1);
        if (arguments.length > 1)
          for (var A = 1; A < arguments.length; A++) t[A - 1] = arguments[A];
        l.push(new h(e, t)), 1 !== l.length || u || s(f)
      }, h.prototype.run = function () {
        this.fun.apply(null, this.array)
      }, n.title = "browser", n.browser = !0, n.env = {}, n.argv = [], n.version = "", n.versions = {}, n.on = p, n.addListener = p, n.once = p, n.off = p, n.removeListener = p, n.removeAllListeners = p, n.emit = p, n.prependListener = p, n.prependOnceListener = p, n.listeners = function (e) {
        return []
      }, n.binding = function (e) {
        throw new Error("process.binding is not supported")
      }, n.cwd = function () {
        return "/"
      }, n.chdir = function (e) {
        throw new Error("process.chdir is not supported")
      }, n.umask = function () {
        return 0
      }
    }, , , function (e, t) {
      var A = Object.prototype.toString;
      t = function (e) {
        return A.call(e)
      }, e.exports = t
    }, function (e, t, A) {
      var r = A(14),
        n = A(13),
        i = A(36);
      A(27);
      t = function (e, t, A) {
        var o, s;
        if (t = i(t, A), r(e))
          for (o = 0, s = e.length; o < s; o++) t(e[o], o, e);
        else {
          var a = n(e);
          for (o = 0, s = a.length; o < s; o++) t(e[a[o]], a[o], e)
        }
        return e
      }, e.exports = t
    }, , , function (e, t, A) {
      var r = A(8);
      t = function (e) {
        return "[object String]" === r(e)
      }, e.exports = t
    }, function (e, t, A) {
      var r = A(25),
        n = A(63);
      t = Object.keys && !n() ? Object.keys : function (e) {
        var t, A = [];
        for (t in e) r(e, t) && A.push(t);
        return A
      }, e.exports = t
    }, function (e, t, A) {
      var r = A(41),
        n = A(22),
        i = Math.pow(2, 53) - 1;
      t = function (e) {
        if (!e) return !1;
        var t = e.length;
        return r(t) && t >= 0 && t <= i && !n(e)
      }, e.exports = t
    }, function (e, t) {
      var A;
      A = function () {
        return this
      }();
      try {
        A = A || new Function("return this")()
      } catch (e) {
        "object" == typeof window && (A = window)
      }
      e.exports = A
    }, function (e, t, A) {
      "use strict";
      var r, n = "object" == typeof Reflect ? Reflect : null,
        i = n && "function" == typeof n.apply ? n.apply : function (e, t, A) {
          return Function.prototype.apply.call(e, t, A)
        };
      r = n && "function" == typeof n.ownKeys ? n.ownKeys : Object.getOwnPropertySymbols ? function (e) {
        return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))
      } : function (e) {
        return Object.getOwnPropertyNames(e)
      };
      var o = Number.isNaN || function (e) {
        return e != e
      };

      function s() {
        s.init.call(this)
      }
      e.exports = s, s.EventEmitter = s, s.prototype._events = void 0, s.prototype._eventsCount = 0, s.prototype._maxListeners = void 0;
      var a = 10;

      function l(e) {
        return void 0 === e._maxListeners ? s.defaultMaxListeners : e._maxListeners
      }

      function u(e, t, A, r) {
        var n, i, o, s;
        if ("function" != typeof A) throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof A);
        if (void 0 === (i = e._events) ? (i = e._events = Object.create(null), e._eventsCount = 0) : (void 0 !== i.newListener && (e.emit("newListener", t, A.listener ? A.listener : A), i = e._events), o = i[t]), void 0 === o) o = i[t] = A, ++e._eventsCount;
        else if ("function" == typeof o ? o = i[t] = r ? [A, o] : [o, A] : r ? o.unshift(A) : o.push(A), (n = l(e)) > 0 && o.length > n && !o.warned) {
          o.warned = !0;
          var a = new Error("Possible EventEmitter memory leak detected. " + o.length + " " + String(t) + " listeners added. Use emitter.setMaxListeners() to increase limit");
          a.name = "MaxListenersExceededWarning", a.emitter = e, a.type = t, a.count = o.length, s = a, console && console.warn && console.warn(s)
        }
        return e
      }

      function c(e, t, A) {
        var r = {
            fired: !1,
            wrapFn: void 0,
            target: e,
            type: t,
            listener: A
          },
          n = function () {
            for (var e = [], t = 0; t < arguments.length; t++) e.push(arguments[t]);
            this.fired || (this.target.removeListener(this.type, this.wrapFn), this.fired = !0, i(this.listener, this.target, e))
          }.bind(r);
        return n.listener = A, r.wrapFn = n, n
      }

      function d(e, t, A) {
        var r = e._events;
        if (void 0 === r) return [];
        var n = r[t];
        return void 0 === n ? [] : "function" == typeof n ? A ? [n.listener || n] : [n] : A ? function (e) {
          for (var t = new Array(e.length), A = 0; A < t.length; ++A) t[A] = e[A].listener || e[A];
          return t
        }(n) : h(n, n.length)
      }

      function f(e) {
        var t = this._events;
        if (void 0 !== t) {
          var A = t[e];
          if ("function" == typeof A) return 1;
          if (void 0 !== A) return A.length
        }
        return 0
      }

      function h(e, t) {
        for (var A = new Array(t), r = 0; r < t; ++r) A[r] = e[r];
        return A
      }
      Object.defineProperty(s, "defaultMaxListeners", {
        enumerable: !0,
        get: function () {
          return a
        },
        set: function (e) {
          if ("number" != typeof e || e < 0 || o(e)) throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + e + ".");
          a = e
        }
      }), s.init = function () {
        void 0 !== this._events && this._events !== Object.getPrototypeOf(this)._events || (this._events = Object.create(null), this._eventsCount = 0), this._maxListeners = this._maxListeners || void 0
      }, s.prototype.setMaxListeners = function (e) {
        if ("number" != typeof e || e < 0 || o(e)) throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + e + ".");
        return this._maxListeners = e, this
      }, s.prototype.getMaxListeners = function () {
        return l(this)
      }, s.prototype.emit = function (e) {
        for (var t = [], A = 1; A < arguments.length; A++) t.push(arguments[A]);
        var r = "error" === e,
          n = this._events;
        if (void 0 !== n) r = r && void 0 === n.error;
        else if (!r) return !1;
        if (r) {
          var o;
          if (t.length > 0 && (o = t[0]), o instanceof Error) throw o;
          var s = new Error("Unhandled error." + (o ? " (" + o.message + ")" : ""));
          throw s.context = o, s
        }
        var a = n[e];
        if (void 0 === a) return !1;
        if ("function" == typeof a) i(a, this, t);
        else {
          var l = a.length,
            u = h(a, l);
          for (A = 0; A < l; ++A) i(u[A], this, t)
        }
        return !0
      }, s.prototype.addListener = function (e, t) {
        return u(this, e, t, !1)
      }, s.prototype.on = s.prototype.addListener, s.prototype.prependListener = function (e, t) {
        return u(this, e, t, !0)
      }, s.prototype.once = function (e, t) {
        if ("function" != typeof t) throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof t);
        return this.on(e, c(this, e, t)), this
      }, s.prototype.prependOnceListener = function (e, t) {
        if ("function" != typeof t) throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof t);
        return this.prependListener(e, c(this, e, t)), this
      }, s.prototype.removeListener = function (e, t) {
        var A, r, n, i, o;
        if ("function" != typeof t) throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof t);
        if (void 0 === (r = this._events)) return this;
        if (void 0 === (A = r[e])) return this;
        if (A === t || A.listener === t) 0 == --this._eventsCount ? this._events = Object.create(null) : (delete r[e], r.removeListener && this.emit("removeListener", e, A.listener || t));
        else if ("function" != typeof A) {
          for (n = -1, i = A.length - 1; i >= 0; i--)
            if (A[i] === t || A[i].listener === t) {
              o = A[i].listener, n = i;
              break
            } if (n < 0) return this;
          0 === n ? A.shift() : function (e, t) {
            for (; t + 1 < e.length; t++) e[t] = e[t + 1];
            e.pop()
          }(A, n), 1 === A.length && (r[e] = A[0]), void 0 !== r.removeListener && this.emit("removeListener", e, o || t)
        }
        return this
      }, s.prototype.off = s.prototype.removeListener, s.prototype.removeAllListeners = function (e) {
        var t, A, r;
        if (void 0 === (A = this._events)) return this;
        if (void 0 === A.removeListener) return 0 === arguments.length ? (this._events = Object.create(null), this._eventsCount = 0) : void 0 !== A[e] && (0 == --this._eventsCount ? this._events = Object.create(null) : delete A[e]), this;
        if (0 === arguments.length) {
          var n, i = Object.keys(A);
          for (r = 0; r < i.length; ++r) "removeListener" !== (n = i[r]) && this.removeAllListeners(n);
          return this.removeAllListeners("removeListener"), this._events = Object.create(null), this._eventsCount = 0, this
        }
        if ("function" == typeof (t = A[e])) this.removeListener(e, t);
        else if (void 0 !== t)
          for (r = t.length - 1; r >= 0; r--) this.removeListener(e, t[r]);
        return this
      }, s.prototype.listeners = function (e) {
        return d(this, e, !0)
      }, s.prototype.rawListeners = function (e) {
        return d(this, e, !1)
      }, s.listenerCount = function (e, t) {
        return "function" == typeof e.listenerCount ? e.listenerCount(t) : f.call(e, t)
      }, s.prototype.listenerCount = f, s.prototype.eventNames = function () {
        return this._eventsCount > 0 ? r(this._events) : []
      }
    }, function (e, t, A) {
      "use strict";
      var r = this && this.__importDefault || function (e) {
        return e && e.__esModule ? e : {
          default: e
        }
      };
      Object.defineProperty(t, "__esModule", {
        value: !0
      });
      const n = r(A(3)),
        i = r(A(47)),
        o = r(A(43)),
        s = r(A(77)),
        a = r(A(55)),
        l = r(A(23)),
        u = r(A(56)),
        c = r(A(19)),
        d = A(48),
        f = ["createRequestTask", "createSocketTask", "createUploadTask", "createLoadSubPackageTask", "createAudioInstance", "getSystemInfo", "getMenuButtonBoundingClientRect", "createDownloadTask", "enableAccelerometer", "enableCompass"];

      function h() {
        return 4 === __wxConfig.appType
      }

      function p(e) {
        const t = window.atob(e),
          A = t.length,
          r = new Uint8Array(A);
        for (let e = 0; e < A; e++) r[e] = t.charCodeAt(e);
        return r.buffer
      }
      t.isSyncApi = function (e) {
        return i.default(f, e) || o.default(e, "Sync")
      }, t.correctSrc = function (e) {
        return e = l.default(e), u.default(e) || c.default(e, "blob:") ? e : c.default(e, "/") ? `${n.default.baseUrl}/${n.default.programPath}/${n.default.id}` + e : window.parent !== window || o.default(location.pathname, "/") ? e : `${n.default.baseUrl}/${n.default.programPath}/${n.default.id}/` + e
      }, t.getProxy = function () {
        return d.isNull(n.default.proxy) ? null : n.default.proxy[a.default(0, n.default.proxy.length - 1)]
      }, t.simulateMobileScrollBar = function () {
        s.default("\n    ::-webkit-scrollbar {\n      width: 4px;\n      height: 4px;\n    }\n    ::-webkit-scrollbar-track {\n      border-radius: 10px;\n    }\n    ::-webkit-scrollbar-thumb {\n      opacity:0.1;\n      border-radius: 10px;\n      background: rgba(0,0,0,0.2); \n      box-shadow: inset 0 0 6px rgba(0,0,0,0.2); \n    }\n  ")
      }, t.getUa = function (e = "") {
        return e + " wechatdevtools/1.0 MicroMessenger/7.0.3"
      }, t.isGame = h, t.covertRes = function (e) {
        if (e && e.__cover) {
          for (const t in e.__cover) "base64" === t && (e[e.__cover[t]] = p(e.base64), delete e.base64);
          delete e.__cover
        }
      }
    }, function (e, t) {
      t = function (e) {
        return void 0 === e
      }, e.exports = t
    }, function (e, t) {
      t = function (e, t) {
        return 0 === e.indexOf(t)
      }, e.exports = t
    }, , function (e, t) {
      function A(e) {
        return (A = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
          return typeof e
        } : function (e) {
          return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
      }
      t = function (e) {
        var t = A(e);
        return !!e && ("function" === t || "object" === t)
      }, e.exports = t
    }, function (e, t, A) {
      var r = A(8);
      t = function (e) {
        var t = r(e);
        return "[object Function]" === t || "[object GeneratorFunction]" === t
      }, e.exports = t
    }, function (e, t, A) {
      var r = A(54),
        n = A(71),
        i = /^\s+|\s+$/g;
      t = function (e, t) {
        return null == t ? e.replace(i, "") : r(n(e, t), t)
      }, e.exports = t
    }, function (e, t, A) {
      var r = A(23),
        n = A(9),
        i = A(18),
        o = A(4),
        s = A(37),
        a = A(39),
        l = A(73),
        u = A(21);
      t = {
        parse: function (e) {
          var t = {};
          return e = r(e).replace(c, ""), n(e.split("&"), function (e) {
            var A = e.split("="),
              r = A.shift(),
              n = A.length > 0 ? A.join("=") : null;
            r = decodeURIComponent(r), n = decodeURIComponent(n), i(t[r]) ? t[r] = n : o(t[r]) ? t[r].push(n) : t[r] = [t[r], n]
          }), t
        },
        stringify: function (e, A) {
          return l(s(e, function (e, r) {
            return u(e) && a(e) ? "" : o(e) ? t.stringify(e, r) : (A ? encodeURIComponent(A) : encodeURIComponent(r)) + "=" + encodeURIComponent(e)
          }), function (e) {
            return e.length > 0
          }).join("&")
        }
      };
      var c = /^(\?|#|&)/g;
      e.exports = t
    }, function (e, t) {
      var A = Object.prototype.hasOwnProperty;
      t = function (e, t) {
        return A.call(e, t)
      }, e.exports = t
    }, function (e, t) {
      function A(e) {
        return (A = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
          return typeof e
        } : function (e) {
          return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
      }
      t = "object" === ("undefined" == typeof window ? "undefined" : A(window)) && "object" === ("undefined" == typeof document ? "undefined" : A(document)) && 9 === document.nodeType, e.exports = t
    }, function (e, t) {
      t = {}, e.exports = t
    }, function (e, t, A) {
      "use strict";
      var r = this && this.__importDefault || function (e) {
        return e && e.__esModule ? e : {
          default: e
        }
      };
      Object.defineProperty(t, "__esModule", {
        value: !0
      });
      const n = r(A(58)),
        i = r(A(12)),
        o = r(A(50));
      t.default = class {
        constructor(e) {
          this.logger = n.default(e)
        }
        enable() {
          this.logger.enabled = !0
        }
        disable() {
          this.logger.enabled = !1
        }
        error(...e) {
          this.logger.enabled && console.error.apply(console, e)
        }
        debug(e, ...t) {
          (function (e) {
            for (let t = 0, A = e.length; t < A; t++) {
              let A = e[t];
              if (i.default(A) && ((A = o.default(A)).indexOf("canvas") > -1 || A.indexOf("updatepositioningcontainer") > -1 || A.indexOf("sendautomessage") > -1)) return !0
            }
            return !1
          })(t.concat(e)) || this.logger(e, ...t)
        }
      }
    }, function (e, t, A) {
      var r = A(14),
        n = A(37),
        i = A(4),
        o = A(12);
      t = function (e) {
        return e ? i(e) ? e : r(e) && !o(e) ? n(e) : [e] : []
      }, e.exports = t
    }, function (e, t, A) {
      t = A(32)(A(52)), e.exports = t
    }, , function (e, t, A) {
      var r = A(18),
        n = A(9);
      t = function (e, t) {
        return function (A) {
          return n(arguments, function (i, o) {
            if (0 !== o) {
              var s = e(i);
              n(s, function (e) {
                t && !r(A[e]) || (A[e] = i[e])
              })
            }
          }), A
        }
      }, e.exports = t
    }, , , , function (e, t, A) {
      var r = A(18);
      t = function (e, t, A) {
        if (r(t)) return e;
        switch (null == A ? 3 : A) {
          case 1:
            return function (A) {
              return e.call(t, A)
            };
          case 3:
            return function (A, r, n) {
              return e.call(t, A, r, n)
            };
          case 4:
            return function (A, r, n, i) {
              return e.call(t, A, r, n, i)
            }
        }
        return function () {
          return e.apply(t, arguments)
        }
      }, e.exports = t
    }, function (e, t, A) {
      var r = A(38),
        n = A(13),
        i = A(14);
      A(27);
      t = function (e, t, A) {
        t = r(t, A);
        for (var o = !i(e) && n(e), s = (o || e).length, a = Array(s), l = 0; l < s; l++) {
          var u = o ? o[l] : l;
          a[l] = t(e[u], u, e)
        }
        return a
      }, e.exports = t
    }, function (e, t, A) {
      var r = A(22),
        n = A(21),
        i = A(36),
        o = A(64),
        s = A(67);
      t = function (e, t, A) {
        return null == e ? s : r(e) ? i(e, t, A) : n(e) ? o(e) : function (e) {
          return function (t) {
            return null == t ? void 0 : t[e]
          }
        }
      }, e.exports = t
    }, function (e, t, A) {
      var r = A(14),
        n = A(4),
        i = A(12),
        o = A(72),
        s = A(13);
      t = function (e) {
        return null == e || (r(e) && (n(e) || i(e) || o(e)) ? 0 === e.length : 0 === s(e).length)
      }, e.exports = t
    }, function (e, t, A) {
      var r = A(62),
        n = A(30),
        i = A(23),
        o = A(24),
        s = A(39),
        a = A(9),
        l = A(4),
        u = A(29),
        c = A(26),
        d = A(21);
      t = r({
        className: "Url",
        initialize: function (e) {
          !e && c && (e = window.location.href), n(this, t.parse(e || ""))
        },
        setQuery: function (e, t) {
          var A = this.query;
          return d(e) ? a(e, function (e, t) {
            A[t] = e
          }) : A[e] = t, this
        },
        rmQuery: function (e) {
          var t = this.query;
          return l(e) || (e = u(e)), a(e, function (e) {
            delete t[e]
          }), this
        },
        toString: function () {
          return t.stringify(this)
        }
      }, {
        parse: function (e) {
          var t = {
              protocol: "",
              auth: "",
              hostname: "",
              hash: "",
              query: {},
              port: "",
              pathname: "",
              slashes: !1
            },
            A = i(e),
            r = A.match(f);
          if (r && (r = r[0], t.protocol = r.toLowerCase(), A = A.substr(r.length)), r) {
            var n = "//" === A.substr(0, 2);
            n && (A = A.slice(2), t.slashes = !0)
          }
          if (n) {
            for (var s = -1, a = 0, l = p.length; a < l; a++) {
              var u = A.indexOf(p[a]); - 1 !== u && (-1 === s || u < s) && (s = u)
            }
            var c = A.slice(0, s);
            A = A.slice(s);
            var d = c.lastIndexOf("@"); - 1 !== d && (t.auth = decodeURIComponent(c.slice(0, d)), c = c.slice(d + 1)), t.hostname = c;
            var g = c.match(h);
            g && (":" !== (g = g[0]) && (t.port = g.substr(1)), t.hostname = c.substr(0, c.length - g.length))
          }
          var B = A.indexOf("#"); - 1 !== B && (t.hash = A.substr(B), A = A.slice(0, B));
          var m = A.indexOf("?");
          return -1 !== m && (t.query = o.parse(A.substr(m + 1)), A = A.slice(0, m)), t.pathname = A || "/", t
        },
        stringify: function (e) {
          var t = e.protocol + (e.slashes ? "//" : "") + (e.auth ? encodeURIComponent(e.auth) + "@" : "") + e.hostname + (e.port ? ":" + e.port : "") + e.pathname;
          return s(e.query) || (t += "?" + o.stringify(e.query)), e.hash && (t += e.hash), t
        }
      });
      var f = /^([a-z0-9.+-]+:)/i,
        h = /:[0-9]*$/,
        p = ["/", "?", "#"];
      e.exports = t
    }, function (e, t, A) {
      var r = A(8);
      t = function (e) {
        return "[object Number]" === r(e)
      }, e.exports = t
    }, function (e, t, A) {
      var r = A(26),
        n = A(74),
        i = /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,
        o = /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i;
      t = n(function (e) {
        return e = e || (r ? navigator.userAgent : ""), i.test(e) || o.test(e.substr(0, 4))
      }), e.exports = t
    }, function (e, t) {
      t = function (e, t) {
        var A = e.length - t.length;
        return A >= 0 && e.indexOf(t, A) === A
      }, e.exports = t
    }, , function (e, t, A) {
      "use strict";
      Object.defineProperty(t, "__esModule", {
        value: !0
      });
      const r = A(16);
      t.default = class extends r.EventEmitter {
        constructor() {
          super(), this.target = window, this.onCall = null, this.handleMsg = e => {
            e.source === this.target && this.emit("message", e.data || {})
          }
        }
        init(e, t) {
          if (this.target = e, window.addEventListener("message", this.handleMsg), !t) return;
          const A = window;
          A.onCalls = A.onCalls || [], t.target = e, this.onCall = t, A.onCalls.push(t)
        }
        destroy() {
          if (window.removeEventListener("message", this.handleMsg), !this.onCall) return;
          const e = window.onCalls;
          for (let t = 0, A = e.length; t < A; t++)
            if (e[t] === this.onCall) {
              e.splice(t, 1);
              break
            }
        }
        send(e) {
          this.target.postMessage(e, "*"), this.emit("send", e)
        }
        call(e) {
          const t = this.target.onCalls;
          if (t)
            for (let A = 0, r = t.length; A < r; A++) {
              const r = t[A];
              if (window === r.target) return r(e)
            }
        }
      }
    }, function (e, t) {
      t = function (e) {
        return null == e ? "" : e.toString()
      }, e.exports = t
    }, function (e, t, A) {
      var r = A(75),
        n = A(12),
        i = A(14),
        o = A(76);
      t = function (e, t) {
        return n(e) ? e.indexOf(t) > -1 : (i(e) || (e = o(e)), r(e, t) >= 0)
      }, e.exports = t
    }, function (e, t, A) {
      (function (e) {
        var r = Object.getOwnPropertyDescriptors || function (e) {
            for (var t = Object.keys(e), A = {}, r = 0; r < t.length; r++) A[t[r]] = Object.getOwnPropertyDescriptor(e, t[r]);
            return A
          },
          n = /%[sdj%]/g;
        t.format = function (e) {
          if (!B(e)) {
            for (var t = [], A = 0; A < arguments.length; A++) t.push(s(arguments[A]));
            return t.join(" ")
          }
          A = 1;
          for (var r = arguments, i = r.length, o = String(e).replace(n, function (e) {
              if ("%%" === e) return "%";
              if (A >= i) return e;
              switch (e) {
                case "%s":
                  return String(r[A++]);
                case "%d":
                  return Number(r[A++]);
                case "%j":
                  try {
                    return JSON.stringify(r[A++])
                  } catch (e) {
                    return "[Circular]"
                  }
                  default:
                    return e
              }
            }), a = r[A]; A < i; a = r[++A]) p(a) || !E(a) ? o += " " + a : o += " " + s(a);
          return o
        }, t.deprecate = function (A, r) {
          if (void 0 !== e && !0 === e.noDeprecation) return A;
          if (void 0 === e) return function () {
            return t.deprecate(A, r).apply(this, arguments)
          };
          var n = !1;
          return function () {
            if (!n) {
              if (e.throwDeprecation) throw new Error(r);
              e.traceDeprecation ? console.trace(r) : console.error(r), n = !0
            }
            return A.apply(this, arguments)
          }
        };
        var i, o = {};

        function s(e, A) {
          var r = {
            seen: [],
            stylize: l
          };
          return arguments.length >= 3 && (r.depth = arguments[2]), arguments.length >= 4 && (r.colors = arguments[3]), h(A) ? r.showHidden = A : A && t._extend(r, A), m(r.showHidden) && (r.showHidden = !1), m(r.depth) && (r.depth = 2), m(r.colors) && (r.colors = !1), m(r.customInspect) && (r.customInspect = !0), r.colors && (r.stylize = a), u(r, e, r.depth)
        }

        function a(e, t) {
          var A = s.styles[t];
          return A ? "[" + s.colors[A][0] + "m" + e + "[" + s.colors[A][1] + "m" : e
        }

        function l(e, t) {
          return e
        }

        function u(e, A, r) {
          if (e.customInspect && A && C(A.inspect) && A.inspect !== t.inspect && (!A.constructor || A.constructor.prototype !== A)) {
            var n = A.inspect(r, e);
            return B(n) || (n = u(e, n, r)), n
          }
          var i = function (e, t) {
            if (m(t)) return e.stylize("undefined", "undefined");
            if (B(t)) {
              var A = "'" + JSON.stringify(t).replace(/^"|"$/g, "").replace(/'/g, "\\'").replace(/\\"/g, '"') + "'";
              return e.stylize(A, "string")
            }
            if (g(t)) return e.stylize("" + t, "number");
            if (h(t)) return e.stylize("" + t, "boolean");
            if (p(t)) return e.stylize("null", "null")
          }(e, A);
          if (i) return i;
          var o = Object.keys(A),
            s = function (e) {
              var t = {};
              return e.forEach(function (e, A) {
                t[e] = !0
              }), t
            }(o);
          if (e.showHidden && (o = Object.getOwnPropertyNames(A)), y(A) && (o.indexOf("message") >= 0 || o.indexOf("description") >= 0)) return c(A);
          if (0 === o.length) {
            if (C(A)) {
              var a = A.name ? ": " + A.name : "";
              return e.stylize("[Function" + a + "]", "special")
            }
            if (w(A)) return e.stylize(RegExp.prototype.toString.call(A), "regexp");
            if (v(A)) return e.stylize(Date.prototype.toString.call(A), "date");
            if (y(A)) return c(A)
          }
          var l, E = "",
            U = !1,
            Q = ["{", "}"];
          (f(A) && (U = !0, Q = ["[", "]"]), C(A)) && (E = " [Function" + (A.name ? ": " + A.name : "") + "]");
          return w(A) && (E = " " + RegExp.prototype.toString.call(A)), v(A) && (E = " " + Date.prototype.toUTCString.call(A)), y(A) && (E = " " + c(A)), 0 !== o.length || U && 0 != A.length ? r < 0 ? w(A) ? e.stylize(RegExp.prototype.toString.call(A), "regexp") : e.stylize("[Object]", "special") : (e.seen.push(A), l = U ? function (e, t, A, r, n) {
            for (var i = [], o = 0, s = t.length; o < s; ++o) b(t, String(o)) ? i.push(d(e, t, A, r, String(o), !0)) : i.push("");
            return n.forEach(function (n) {
              n.match(/^\d+$/) || i.push(d(e, t, A, r, n, !0))
            }), i
          }(e, A, r, s, o) : o.map(function (t) {
            return d(e, A, r, s, t, U)
          }), e.seen.pop(), function (e, t, A) {
            if (e.reduce(function (e, t) {
                return 0, t.indexOf("\n") >= 0 && 0, e + t.replace(/\u001b\[\d\d?m/g, "").length + 1
              }, 0) > 60) return A[0] + ("" === t ? "" : t + "\n ") + " " + e.join(",\n  ") + " " + A[1];
            return A[0] + t + " " + e.join(", ") + " " + A[1]
          }(l, E, Q)) : Q[0] + E + Q[1]
        }

        function c(e) {
          return "[" + Error.prototype.toString.call(e) + "]"
        }

        function d(e, t, A, r, n, i) {
          var o, s, a;
          if ((a = Object.getOwnPropertyDescriptor(t, n) || {
              value: t[n]
            }).get ? s = a.set ? e.stylize("[Getter/Setter]", "special") : e.stylize("[Getter]", "special") : a.set && (s = e.stylize("[Setter]", "special")), b(r, n) || (o = "[" + n + "]"), s || (e.seen.indexOf(a.value) < 0 ? (s = p(A) ? u(e, a.value, null) : u(e, a.value, A - 1)).indexOf("\n") > -1 && (s = i ? s.split("\n").map(function (e) {
              return "  " + e
            }).join("\n").substr(2) : "\n" + s.split("\n").map(function (e) {
              return "   " + e
            }).join("\n")) : s = e.stylize("[Circular]", "special")), m(o)) {
            if (i && n.match(/^\d+$/)) return s;
            (o = JSON.stringify("" + n)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/) ? (o = o.substr(1, o.length - 2), o = e.stylize(o, "name")) : (o = o.replace(/'/g, "\\'").replace(/\\"/g, '"').replace(/(^"|"$)/g, "'"), o = e.stylize(o, "string"))
          }
          return o + ": " + s
        }

        function f(e) {
          return Array.isArray(e)
        }

        function h(e) {
          return "boolean" == typeof e
        }

        function p(e) {
          return null === e
        }

        function g(e) {
          return "number" == typeof e
        }
        // webview  code
        function B(e) {
          return "string" == typeof e
        }

        function m(e) {
          return void 0 === e
        }

        function w(e) {
          return E(e) && "[object RegExp]" === U(e)
        }

        function E(e) {
          return "object" == typeof e && null !== e
        }

        function v(e) {
          return E(e) && "[object Date]" === U(e)
        }

        function y(e) {
          return E(e) && ("[object Error]" === U(e) || e instanceof Error)
        }

        function C(e) {
          return "function" == typeof e
        }

        function U(e) {
          return Object.prototype.toString.call(e)
        }

        function Q(e) {
          return e < 10 ? "0" + e.toString(10) : e.toString(10)
        }
        t.debuglog = function (A) {
          if (m(i) && (i = e.env.NODE_DEBUG || ""), A = A.toUpperCase(), !o[A])
            if (new RegExp("\\b" + A + "\\b", "i").test(i)) {
              var r = e.pid;
              o[A] = function () {
                var e = t.format.apply(t, arguments);
                console.error("%s %d: %s", A, r, e)
              }
            } else o[A] = function () {};
          return o[A]
        }, t.inspect = s, s.colors = {
          bold: [1, 22],
          italic: [3, 23],
          underline: [4, 24],
          inverse: [7, 27],
          white: [37, 39],
          grey: [90, 39],
          black: [30, 39],
          blue: [34, 39],
          cyan: [36, 39],
          green: [32, 39],
          magenta: [35, 39],
          red: [31, 39],
          yellow: [33, 39]
        }, s.styles = {
          special: "cyan",
          number: "yellow",
          boolean: "yellow",
          undefined: "grey",
          null: "bold",
          string: "green",
          date: "magenta",
          regexp: "red"
        }, t.isArray = f, t.isBoolean = h, t.isNull = p, t.isNullOrUndefined = function (e) {
          return null == e
        }, t.isNumber = g, t.isString = B, t.isSymbol = function (e) {
          return "symbol" == typeof e
        }, t.isUndefined = m, t.isRegExp = w, t.isObject = E, t.isDate = v, t.isError = y, t.isFunction = C, t.isPrimitive = function (e) {
          return null === e || "boolean" == typeof e || "number" == typeof e || "string" == typeof e || "symbol" == typeof e || void 0 === e
        }, t.isBuffer = A(78);
        var F = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];

        function T() {
          var e = new Date,
            t = [Q(e.getHours()), Q(e.getMinutes()), Q(e.getSeconds())].join(":");
          return [e.getDate(), F[e.getMonth()], t].join(" ")
        }

        function b(e, t) {
          return Object.prototype.hasOwnProperty.call(e, t)
        }
        t.log = function () {
          console.log("%s - %s", T(), t.format.apply(t, arguments))
        }, t.inherits = A(79), t._extend = function (e, t) {
          if (!t || !E(t)) return e;
          for (var A = Object.keys(t), r = A.length; r--;) e[A[r]] = t[A[r]];
          return e
        };
        var S = "undefined" != typeof Symbol ? Symbol("util.promisify.custom") : void 0;

        function _(e, t) {
          if (!e) {
            var A = new Error("Promise was rejected with a falsy value");
            A.reason = e, e = A
          }
          return t(e)
        }
        t.promisify = function (e) {
          if ("function" != typeof e) throw new TypeError('The "original" argument must be of type Function');
          if (S && e[S]) {
            var t;
            if ("function" != typeof (t = e[S])) throw new TypeError('The "util.promisify.custom" argument must be of type Function');
            return Object.defineProperty(t, S, {
              value: t,
              enumerable: !1,
              writable: !1,
              configurable: !0
            }), t
          }

          function t() {
            for (var t, A, r = new Promise(function (e, r) {
                t = e, A = r
              }), n = [], i = 0; i < arguments.length; i++) n.push(arguments[i]);
            n.push(function (e, r) {
              e ? A(e) : t(r)
            });
            try {
              e.apply(this, n)
            } catch (e) {
              A(e)
            }
            return r
          }
          return Object.setPrototypeOf(t, Object.getPrototypeOf(e)), S && Object.defineProperty(t, S, {
            value: t,
            enumerable: !1,
            writable: !1,
            configurable: !0
          }), Object.defineProperties(t, r(e))
        }, t.promisify.custom = S, t.callbackify = function (t) {
          if ("function" != typeof t) throw new TypeError('The "original" argument must be of type Function');

          function A() {
            for (var A = [], r = 0; r < arguments.length; r++) A.push(arguments[r]);
            var n = A.pop();
            if ("function" != typeof n) throw new TypeError("The last argument must be of type Function");
            var i = this,
              o = function () {
                return n.apply(i, arguments)
              };
            t.apply(this, A).then(function (t) {
              e.nextTick(o, null, t)
            }, function (t) {
              e.nextTick(_, t, o)
            })
          }
          return Object.setPrototypeOf(A, Object.getPrototypeOf(t)), Object.defineProperties(A, r(t)), A
        }
      }).call(this, A(5))
    }, , function (e, t, A) {
      var r = A(46);
      t = function (e) {
        return r(e).toLocaleLowerCase()
      }, e.exports = t
    }, function (e, t, A) {
      (function (r) {
        var n = A(26);
        t = n ? window : r, e.exports = t
      }).call(this, A(15))
    }, function (e, t) {
      t = function (e) {
        var t, A = [];
        for (t in e) A.push(t);
        return A
      }, e.exports = t
    }, function (e, t, A) {
      var r = A(18),
        n = A(69);
      t = function (e, t) {
        var A;
        for (A = (t = n(t, e)).shift(); !r(A);) {
          if (null == (e = e[A])) return;
          A = t.shift()
        }
        return e
      }, e.exports = t
    }, function (e, t) {
      var A = /^\s+/;
      t = function (e, t) {
        if (null == t) return e.replace(A, "");
        for (var r, n, i = 0, o = e.length, s = t.length, a = !0; a && i < o;)
          for (a = !1, r = -1, n = e.charAt(i); ++r < s;)
            if (n === t[r]) {
              a = !0, i++;
              break
            } return i >= o ? "" : e.substr(i, o)
      }, e.exports = t
    }, function (e, t) {
      t = function (e, t, A) {
        null == t && (t = e, e = 0);
        var r = Math.random();
        return A || e % 1 || t % 1 ? Math.min(e + r * (t - e + parseFloat("1e-" + ((r + "").length - 1))), t) : e + Math.floor(r * (t - e + 1))
      }, e.exports = t
    }, function (e, t) {
      t = function (e) {
        return A.test(e)
      };
      var A = /^(?:\w+:)?\/\/([^\s.]+\.\S{2}|localhost[:?\d]*)\S*$/;
      e.exports = t
    }, , function (e, t, A) {
      (function (r) {
        t.log = function (...e) {
          return "object" == typeof console && console.log && console.log(...e)
        }, t.formatArgs = function (t) {
          if (t[0] = (this.useColors ? "%c" : "") + this.namespace + (this.useColors ? " %c" : " ") + t[0] + (this.useColors ? "%c " : " ") + "+" + e.exports.humanize(this.diff), !this.useColors) return;
          const A = "color: " + this.color;
          t.splice(1, 0, A, "color: inherit");
          let r = 0,
            n = 0;
          t[0].replace(/%[a-zA-Z%]/g, e => {
            "%%" !== e && (r++, "%c" === e && (n = r))
          }), t.splice(n, 0, A)
        }, t.save = function (e) {
          try {
            e ? t.storage.setItem("debug", e) : t.storage.removeItem("debug")
          } catch (e) {}
        }, t.load = function () {
          let e;
          try {
            e = t.storage.getItem("debug")
          } catch (e) {}!e && void 0 !== r && "env" in r && (e = r.env.DEBUG);
          return e
        }, t.useColors = function () {
          if ("undefined" != typeof window && window.process && ("renderer" === window.process.type || window.process.__nwjs)) return !0;
          if ("undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)) return !1;
          return "undefined" != typeof document && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || "undefined" != typeof window && window.console && (window.console.firebug || window.console.exception && window.console.table) || "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31 || "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)
        }, t.storage = function () {
          try {
            return localStorage
          } catch (e) {}
        }(), t.colors = ["#0000CC", "#0000FF", "#0033CC", "#0033FF", "#0066CC", "#0066FF", "#0099CC", "#0099FF", "#00CC00", "#00CC33", "#00CC66", "#00CC99", "#00CCCC", "#00CCFF", "#3300CC", "#3300FF", "#3333CC", "#3333FF", "#3366CC", "#3366FF", "#3399CC", "#3399FF", "#33CC00", "#33CC33", "#33CC66", "#33CC99", "#33CCCC", "#33CCFF", "#6600CC", "#6600FF", "#6633CC", "#6633FF", "#66CC00", "#66CC33", "#9900CC", "#9900FF", "#9933CC", "#9933FF", "#99CC00", "#99CC33", "#CC0000", "#CC0033", "#CC0066", "#CC0099", "#CC00CC", "#CC00FF", "#CC3300", "#CC3333", "#CC3366", "#CC3399", "#CC33CC", "#CC33FF", "#CC6600", "#CC6633", "#CC9900", "#CC9933", "#CCCC00", "#CCCC33", "#FF0000", "#FF0033", "#FF0066", "#FF0099", "#FF00CC", "#FF00FF", "#FF3300", "#FF3333", "#FF3366", "#FF3399", "#FF33CC", "#FF33FF", "#FF6600", "#FF6633", "#FF9900", "#FF9933", "#FFCC00", "#FFCC33"], e.exports = A(59)(t);
        const {
          formatters: n
        } = e.exports;
        n.j = function (e) {
          try {
            return JSON.stringify(e)
          } catch (e) {
            return "[UnexpectedJSONParseError]: " + e.message
          }
        }
      }).call(this, A(5))
    }, function (e, t, A) {
      e.exports = function (e) {
        function t(e) {
          let t = 0;
          for (let A = 0; A < e.length; A++) t = (t << 5) - t + e.charCodeAt(A), t |= 0;
          return r.colors[Math.abs(t) % r.colors.length]
        }

        function r(e) {
          let A;

          function o(...e) {
            if (!o.enabled) return;
            const t = o,
              n = Number(new Date),
              i = n - (A || n);
            t.diff = i, t.prev = A, t.curr = n, A = n, e[0] = r.coerce(e[0]), "string" != typeof e[0] && e.unshift("%O");
            let s = 0;
            e[0] = e[0].replace(/%([a-zA-Z%])/g, (A, n) => {
              if ("%%" === A) return A;
              s++;
              const i = r.formatters[n];
              if ("function" == typeof i) {
                const r = e[s];
                A = i.call(t, r), e.splice(s, 1), s--
              }
              return A
            }), r.formatArgs.call(t, e), (t.log || r.log).apply(t, e)
          }
          return o.namespace = e, o.enabled = r.enabled(e), o.useColors = r.useColors(), o.color = t(e), o.destroy = n, o.extend = i, "function" == typeof r.init && r.init(o), r.instances.push(o), o
        }

        function n() {
          const e = r.instances.indexOf(this);
          return -1 !== e && (r.instances.splice(e, 1), !0)
        }

        function i(e, t) {
          const A = r(this.namespace + (void 0 === t ? ":" : t) + e);
          return A.log = this.log, A
        }

        function o(e) {
          return e.toString().substring(2, e.toString().length - 2).replace(/\.\*\?$/, "*")
        }
        return r.debug = r, r.default = r, r.coerce = function (e) {
          return e instanceof Error ? e.stack || e.message : e
        }, r.disable = function () {
          const e = [...r.names.map(o), ...r.skips.map(o).map(e => "-" + e)].join(",");
          return r.enable(""), e
        }, r.enable = function (e) {
          let t;
          r.save(e), r.names = [], r.skips = [];
          const A = ("string" == typeof e ? e : "").split(/[\s,]+/),
            n = A.length;
          for (t = 0; t < n; t++) A[t] && ("-" === (e = A[t].replace(/\*/g, ".*?"))[0] ? r.skips.push(new RegExp("^" + e.substr(1) + "$")) : r.names.push(new RegExp("^" + e + "$")));
          for (t = 0; t < r.instances.length; t++) {
            const e = r.instances[t];
            e.enabled = r.enabled(e.namespace)
          }
        }, r.enabled = function (e) {
          if ("*" === e[e.length - 1]) return !0;
          let t, A;
          for (t = 0, A = r.skips.length; t < A; t++)
            if (r.skips[t].test(e)) return !1;
          for (t = 0, A = r.names.length; t < A; t++)
            if (r.names[t].test(e)) return !0;
          return !1
        }, r.humanize = A(60), Object.keys(e).forEach(t => {
          r[t] = e[t]
        }), r.instances = [], r.names = [], r.skips = [], r.formatters = {}, r.selectColor = t, r.enable(r.load()), r
      }
    }, function (e, t) {
      var A = 1e3,
        r = 60 * A,
        n = 60 * r,
        i = 24 * n,
        o = 7 * i,
        s = 365.25 * i;

      function a(e, t, A, r) {
        var n = t >= 1.5 * A;
        return Math.round(e / A) + " " + r + (n ? "s" : "")
      }
      e.exports = function (e, t) {
        t = t || {};
        var l = typeof e;
        if ("string" === l && e.length > 0) return function (e) {
          if ((e = String(e)).length > 100) return;
          var t = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);
          if (!t) return;
          var a = parseFloat(t[1]);
          switch ((t[2] || "ms").toLowerCase()) {
            case "years":
            case "year":
            case "yrs":
            case "yr":
            case "y":
              return a * s;
            case "weeks":
            case "week":
            case "w":
              return a * o;
            case "days":
            case "day":
            case "d":
              return a * i;
            case "hours":
            case "hour":
            case "hrs":
            case "hr":
            case "h":
              return a * n;
            case "minutes":
            case "minute":
            case "mins":
            case "min":
            case "m":
              return a * r;
            case "seconds":
            case "second":
            case "secs":
            case "sec":
            case "s":
              return a * A;
            case "milliseconds":
            case "millisecond":
            case "msecs":
            case "msec":
            case "ms":
              return a;
            default:
              return
          }
        }(e);
        if ("number" === l && isFinite(e)) return t.long ? function (e) {
          var t = Math.abs(e);
          if (t >= i) return a(e, t, i, "day");
          if (t >= n) return a(e, t, n, "hour");
          if (t >= r) return a(e, t, r, "minute");
          if (t >= A) return a(e, t, A, "second");
          return e + " ms"
        }(e) : function (e) {
          var t = Math.abs(e);
          if (t >= i) return Math.round(e / i) + "d";
          if (t >= n) return Math.round(e / n) + "h";
          if (t >= r) return Math.round(e / r) + "m";
          if (t >= A) return Math.round(e / A) + "s";
          return e + "ms"
        }(e);
        throw new Error("val is not a non-empty string or a valid number. val=" + JSON.stringify(e))
      }
    }, function (e, t, A) {
      var r = A(40);
      t = function (e, t) {
        return new r(t).query[e]
      }, e.exports = t
    }, function (e, t, A) {
      var r = A(30),
        n = A(29),
        i = A(68),
        o = A(53),
        s = A(70);
      var a = (t = function (e, t) {
        return a.extend(e, t)
      }).Base = function e(t, A, a) {
        a = a || {};
        var l, u = A.className || o(A, "initialize.name") || "";
        return delete A.className, l = s ? function () {
          var e = n(arguments);
          return this.initialize && this.initialize.apply(this, e) || this
        } : new Function("toArr", "return function " + u + "(){var args = toArr(arguments);return this.initialize ? this.initialize.apply(this, args) || this : this;};")(n), i(l, t), l.prototype.constructor = l, l.extend = function (t, A) {
          return e(l, t, A)
        }, l.inherits = function (e) {
          i(l, e)
        }, l.methods = function (e) {
          return r(l.prototype, e), l
        }, l.statics = function (e) {
          return r(l, e), l
        }, l.methods(A).statics(a), l
      }(Object, {
        className: "Base",
        callSuper: function (e, t, A) {
          return e.prototype[t].apply(this, A)
        },
        toString: function () {
          return this.constructor.name
        }
      });
      e.exports = t
    }, function (e, t, A) {
      var r = A(51);
      t = function () {
        for (var e = 0, t = n.length; e < t; e++) {
          var A = n[e];
          if ("function" != typeof r[A]) return !1
        }
        return !0
      };
      var n = ["afterEach", "after", "beforeEach", "before", "describe", "it"];
      e.exports = t
    }, function (e, t, A) {
      var r = A(65),
        n = A(66);
      t = function (e) {
        return e = r({}, e),
          function (t) {
            return n(t, e)
          }
      }, e.exports = t
    }, function (e, t, A) {
      var r = A(13);
      t = A(32)(r), e.exports = t
    }, function (e, t, A) {
      var r = A(13);
      t = function (e, t) {
        var A = r(t),
          n = A.length;
        if (null == e) return !n;
        e = Object(e);
        for (var i = 0; i < n; i++) {
          var o = A[i];
          if (t[o] !== e[o] || !(o in e)) return !1
        }
        return !0
      }, e.exports = t
    }, function (e, t) {
      t = function (e) {
        return e
      }, e.exports = t
    }, function (e, t) {
      t = function (e, t) {
        if (A) return e.prototype = A(t.prototype);
        r.prototype = t.prototype, e.prototype = new r
      };
      var A = Object.create;

      function r() {}
      e.exports = t
    }, function (e, t, A) {
      var r = A(25),
        n = A(4);
      t = function (e, t) {
        if (n(e)) return e;
        if (t && r(t, e)) return [e];
        var A = [];
        return e.replace(i, function (e, t, r, n) {
          A.push(r ? n.replace(o, "$1") : t || e)
        }), A
      };
      var i = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,
        o = /\\(\\)?/g;
      e.exports = t
    }, function (e, t, A) {
      var r = A(22);
      t = "undefined" != typeof wx && r(wx.openLocation), e.exports = t
    }, function (e, t) {
      var A = /\s+$/;
      t = function (e, t) {
        if (null == t) return e.replace(A, "");
        for (var r, n, i = e.length - 1, o = t.length, s = !0; s && i >= 0;)
          for (s = !1, r = -1, n = e.charAt(i); ++r < o;)
            if (n === t[r]) {
              s = !0, i--;
              break
            } return i >= 0 ? e.substring(0, i + 1) : ""
      }, e.exports = t
    }, function (e, t, A) {
      var r = A(8);
      t = function (e) {
        return "[object Arguments]" === r(e)
      }, e.exports = t
    }, function (e, t, A) {
      var r = A(38),
        n = A(9);
      A(27);
      t = function (e, t, A) {
        var i = [];
        return t = r(t, A), n(e, function (e, A, r) {
          t(e, A, r) && i.push(e)
        }), i
      }, e.exports = t
    }, function (e, t, A) {
      var r = A(25);
      t = function (e, t) {
        var A = function A(n) {
          var i = A.cache,
            o = "" + (t ? t.apply(this, arguments) : n);
          return r(i, o) || (i[o] = e.apply(this, arguments)), i[o]
        };
        return A.cache = {}, A
      }, e.exports = t
    }, function (e, t) {
      t = function (e, t, A) {
        return Array.prototype.indexOf.call(e, t, A)
      }, e.exports = t
    }, function (e, t, A) {
      var r = A(9);
      t = function (e) {
        var t = [];
        return r(e, function (e) {
          t.push(e)
        }), t
      }, e.exports = t
    }, function (e, t) {
      t = function (e) {
        var t = document.createElement("style");
        t.textContent = e, t.type = "text/css", document.head.appendChild(t)
      }, e.exports = t
    }, function (e, t) {
      e.exports = function (e) {
        return e && "object" == typeof e && "function" == typeof e.copy && "function" == typeof e.fill && "function" == typeof e.readUInt8
      }
    }, function (e, t) {
      "function" == typeof Object.create ? e.exports = function (e, t) {
        e.super_ = t, e.prototype = Object.create(t.prototype, {
          constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        })
      } : e.exports = function (e, t) {
        e.super_ = t;
        var A = function () {};
        A.prototype = t.prototype, e.prototype = new A, e.prototype.constructor = e
      }
    }, , , function (e, t, A) {
      (function (A, r) {
        function n(e) {
          return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
            return typeof e
          } : function (e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
          })(e)
        }

        function i(e) {
          if ("function" != typeof e) throw new TypeError(e + " is not a function");
          return e
        }
        t = "object" === (void 0 === A ? "undefined" : n(A)) && A.nextTick ? A.nextTick : "function" == typeof r ? function (e) {
          r(i(e))
        } : function (e) {
          setTimeout(i(e), 0)
        }, e.exports = t
      }).call(this, A(5), A(92).setImmediate)
    }, , , , function (e, t) {
      var A = 0;
      t = function (e) {
        var t = ++A + "";
        return e ? e + t : t
      }, e.exports = t
    }, , , , , , function (e, t, A) {
      (function (e) {
        var r = void 0 !== e && e || "undefined" != typeof self && self || window,
          n = Function.prototype.apply;

        function i(e, t) {
          this._id = e, this._clearFn = t
        }
        t.setTimeout = function () {
          return new i(n.call(setTimeout, r, arguments), clearTimeout)
        }, t.setInterval = function () {
          return new i(n.call(setInterval, r, arguments), clearInterval)
        }, t.clearTimeout = t.clearInterval = function (e) {
          e && e.close()
        }, i.prototype.unref = i.prototype.ref = function () {}, i.prototype.close = function () {
          this._clearFn.call(r, this._id)
        }, t.enroll = function (e, t) {
          clearTimeout(e._idleTimeoutId), e._idleTimeout = t
        }, t.unenroll = function (e) {
          clearTimeout(e._idleTimeoutId), e._idleTimeout = -1
        }, t._unrefActive = t.active = function (e) {
          clearTimeout(e._idleTimeoutId);
          var t = e._idleTimeout;
          t >= 0 && (e._idleTimeoutId = setTimeout(function () {
            e._onTimeout && e._onTimeout()
          }, t))
        }, A(133), t.setImmediate = "undefined" != typeof self && self.setImmediate || void 0 !== e && e.setImmediate || this && this.setImmediate, t.clearImmediate = "undefined" != typeof self && self.clearImmediate || void 0 !== e && e.clearImmediate || this && this.clearImmediate
      }).call(this, A(15))
    }, , , , , , , , , , , , , , , , , , , function (e, t, A) {
      "use strict";
      var r = this && this.__importDefault || function (e) {
        return e && e.__esModule ? e : {
          default: e
        }
      };
      Object.defineProperty(t, "__esModule", {
        value: !0
      });
      const n = A(17),
        i = r(A(4)),
        o = r(A(21)),
        s = r(A(43)),
        a = r(A(12));

      function l(e) {
        return u(e, e => {
          if (a.default(e)) e = (e = e).replace(//g, "");
          else if ("wx-image" === (e = e).tag || "wx-cover-image" === e.tag) e.attr.src && a.default(e.attr.src) && (e.attr.src = n.correctSrc(e.attr.src));
          else if ("wx-map" === e.tag) {
            const t = e.attr.markers;
            if (t && t.length > 0)
              for (let e = 0, A = t.length; e < A; e++) {
                const A = t[e];
                A.iconPath && (A.iconPath = n.correctSrc(A.iconPath))
              }
          }
          return e
        })
      }

      function u(e, t) {
        if (!i.default(e)) {
          e = t(e)
        }
        if (i.default(e)) {
          e = e;
          for (let A = 0; A < e.length; A++) {
            const r = u(e[A], t);
            e[A] = r
          }
        } else e && o.default(e) && (e = e).children && u((e = e).children, t);
        return e
      }
      t.default = function () {
        if (!window.Proxy) return;
        const e = new Proxy({}, {
          get: (e, t) => s.default(t, "wxml") ? function (...A) {
            const r = e[t];
            return i.default(r) && (e[t] = r[0](r[1])), l(e[t].apply(null, A))
          } : e[t]
        });
        let t;
        Object.defineProperty(window, "__wxAppCode__", {
          get: () => e
        }), Object.defineProperty(window, "__generateFunc__", {
          get: () => (function (...e) {
            return l(t.apply(null, e))
          }),
          set(e) {
            t = e
          }
        })
      }, t.traverse = u
    }, , , , , , , , , , , , , , , , , , , , , , function (e, t, A) {
      (function (e, t) {
        ! function (e, A) {
          "use strict";
          if (!e.setImmediate) {
            var r, n, i, o, s, a = 1,
              l = {},
              u = !1,
              c = e.document,
              d = Object.getPrototypeOf && Object.getPrototypeOf(e);
            d = d && d.setTimeout ? d : e, "[object process]" === {}.toString.call(e.process) ? r = function (e) {
              t.nextTick(function () {
                h(e)
              })
            } : ! function () {
              if (e.postMessage && !e.importScripts) {
                var t = !0,
                  A = e.onmessage;
                return e.onmessage = function () {
                  t = !1
                }, e.postMessage("", "*"), e.onmessage = A, t
              }
            }() ? e.MessageChannel ? ((i = new MessageChannel).port1.onmessage = function (e) {
              h(e.data)
            }, r = function (e) {
              i.port2.postMessage(e)
            }) : c && "onreadystatechange" in c.createElement("script") ? (n = c.documentElement, r = function (e) {
              var t = c.createElement("script");
              t.onreadystatechange = function () {
                h(e), t.onreadystatechange = null, n.removeChild(t), t = null
              }, n.appendChild(t)
            }) : r = function (e) {
              setTimeout(h, 0, e)
            } : (o = "setImmediate$" + Math.random() + "$", s = function (t) {
              t.source === e && "string" == typeof t.data && 0 === t.data.indexOf(o) && h(+t.data.slice(o.length))
            }, e.addEventListener ? e.addEventListener("message", s, !1) : e.attachEvent("onmessage", s), r = function (t) {
              e.postMessage(o + t, "*")
            }), d.setImmediate = function (e) {
              "function" != typeof e && (e = new Function("" + e));
              for (var t = new Array(arguments.length - 1), A = 0; A < t.length; A++) t[A] = arguments[A + 1];
              var n = {
                callback: e,
                args: t
              };
              return l[a] = n, r(a), a++
            }, d.clearImmediate = f
          }

          function f(e) {
            delete l[e]
          }

          function h(e) {
            if (u) setTimeout(h, 0, e);
            else {
              var t = l[e];
              if (t) {
                u = !0;
                try {
                  ! function (e) {
                    var t = e.callback,
                      r = e.args;
                    switch (r.length) {
                      case 0:
                        t();
                        break;
                      case 1:
                        t(r[0]);
                        break;
                      case 2:
                        t(r[0], r[1]);
                        break;
                      case 3:
                        t(r[0], r[1], r[2]);
                        break;
                      default:
                        t.apply(A, r)
                    }
                  }(t)
                } finally {
                  f(e), u = !1
                }
              }
            }
          }
        }("undefined" == typeof self ? void 0 === e ? this : e : self)
      }).call(this, A(15), A(5))
    }, function (e, t, A) {
      var r;
      ! function (n, i, o, s) {
        "use strict";
        var a, l, u = !1,
          c = {};

        function d(e, t, A, r, n) {
          r = r || 0, n = n || 0, this.identifier = t, this.target = e, this.clientX = A.clientX + r, this.clientY = A.clientY + n, this.screenX = A.screenX + r, this.screenY = A.screenY + n, this.pageX = A.pageX + r, this.pageY = A.pageY + n
        }

        function f() {
          var e = [];
          return e.item = function (e) {
            return this[e] || null
          }, e.identifiedTouch = function (e) {
            return this[e + 1] || null
          }, e
        }

        function h(e) {
          e.preventDefault(), e.stopPropagation()
        }

        function p(e) {
          return function (t) {
            h(t), 1 === t.which && (("mousedown" == t.type || !l || l && !l.dispatchEvent) && (l = t.target), u && !t.shiftKey && (g("touchend", t), u = !1), g(e, t), !u && t.shiftKey && (u = !0, a = {
              pageX: t.pageX,
              pageY: t.pageY,
              clientX: t.clientX,
              clientY: t.clientY,
              screenX: t.screenX,
              screenY: t.screenY
            }, g("touchstart", t)), "mouseup" == t.type && (a = null, u = !1, l = null))
          }
        }

        function g(e, t) {
          var A = i.createEvent("Event");
          A.initEvent(e, !0, !0), A.altKey = t.altKey, A.ctrlKey = t.ctrlKey, A.metaKey = t.metaKey, A.shiftKey = t.shiftKey, A.touches = m(t, e), A.targetTouches = m(t, e), A.changedTouches = function (e, t) {
            var A = B(e);
            !u || "mouseup" == e.type || "touchstart" != t && "touchend" != t || A.splice(0, 1);
            return A
          }(t, e), l.dispatchEvent(A)
        }

        function B(e) {
          var t = new f;
          if (u) {
            var A = E.multiTouchOffset,
              r = a.pageX - e.pageX,
              n = a.pageY - e.pageY;
            t.push(new d(l, 1, a, -1 * r - A, -1 * n + A)), t.push(new d(l, 2, a, r + A, n - A))
          } else t.push(new d(l, 1, e, 0, 0));
          return t
        }

        function m(e, t) {
          if ("mouseup" == e.type) return new f;
          var A = B(e);
          return u && "mouseup" != e.type && "touchend" == t && A.splice(1, 1), A
        }

        function w(e) {
          var t, A, r, n;
          for (A = 0; A < e.touches.length; A++)
            for (var o in t = e.touches[A], (r = c[t.identifier]) || (r = c[t.identifier] = i.createElement("div"), i.body.appendChild(r)), n = E.template(t)) r.style[o] = n[o];
          if ("touchend" == e.type || "touchcancel" == e.type)
            for (A = 0; A < e.changedTouches.length; A++) t = e.changedTouches[A], (r = c[t.identifier]) && (r.parentNode.removeChild(r), delete c[t.identifier])
        }

        function E() {
          "ontouchstart" in n || n.Modernizr && n.Modernizr.touch || (navigator.msMaxTouchPoints || navigator.maxTouchPoints) > 2 || (! function () {
            for (var e = [n, i.documentElement], t = ["ontouchstart", "ontouchmove", "ontouchcancel", "ontouchend"], A = 0; A < e.length; A++)
              for (var r = 0; r < t.length; r++) e[A] && e[A][t[r]] == s && (e[A][t[r]] = null)
          }(), n.addEventListener("mousedown", p("touchstart"), !0), n.addEventListener("mousemove", p("touchmove"), !0), n.addEventListener("mouseup", p("touchend"), !0), n.addEventListener("mouseenter", h, !0), n.addEventListener("mouseleave", h, !0), n.addEventListener("mouseout", h, !0), n.addEventListener("mouseover", h, !0), n.addEventListener("touchstart", w, !1), n.addEventListener("touchmove", w, !1), n.addEventListener("touchend", w, !1), n.addEventListener("touchcancel", w, !1))
        }
        i.createTouch || (i.createTouch = function (e, t, A, r, i, o, a, l, u) {
          return l != s && u != s || (l = r - n.pageXOffset, u = i - n.pageYOffset), new d(t, A, {
            pageX: r,
            pageY: i,
            screenX: o,
            screenY: a,
            clientX: l,
            clientY: u
          })
        }), i.createTouchList || (i.createTouchList = function () {
          for (var e = new f, t = 0; t < arguments.length; t++) e[t] = arguments[t];
          return e.length = arguments.length, e
        }), E.multiTouchOffset = 75, E.template = function (e) {
          var t = "translate(" + (e.clientX - 15) + "px, " + (e.clientY - 15) + "px)";
          return {
            position: "fixed",
            left: 0,
            top: 0,
            background: "#fff",
            border: "solid 1px #999",
            opacity: .6,
            borderRadius: "100%",
            height: "30px",
            width: "30px",
            padding: 0,
            margin: 0,
            display: "block",
            overflow: "hidden",
            pointerEvents: "none",
            webkitUserSelect: "none",
            mozUserSelect: "none",
            userSelect: "none",
            webkitTransform: t,
            mozTransform: t,
            transform: t
          }
        }, (r = function () {
          return E
        }.call(t, A, t, e)) === s || (e.exports = r)
      }(window, document)
    }, , , , , , , , , , , , , , , , , , , , , , , , , function (e, t, A) {
      "use strict";
      Object.defineProperty(t, "__esModule", {
        value: !0
      });
      const r = A(16),
        n = "data:image/gif;base64,R0lGODlhQAAMAMQZAPT09Orq6ubm5unp6dPT06ysrPz8/NbW1q+vr9fX1+vr687Ozv39/fr6+tXV1Z6ens3NzZ2dnZubm66urpycnKurq+Xl5czMzJmZmf///wAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDphODFiMWQ5My0wMDIwLTRiYmItYjVlMS04YjI4NTFkMzMzMjIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MjFEQzRGRkU4NkU4MTFFNjkwOTg4NjNGN0JEMzY0OTUiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjFEQzRGRkQ4NkU4MTFFNjkwOTg4NjNGN0JEMzY0OTUiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDplY2RjM2MyNC03NDBkLTQ1NzMtOTc0Ni1iZGQ2MzhlMjEyYjUiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo3MGUzZDU2Ny1jZTk1LTExNzktYWFmZC04MmQ1NzRhYmI2YzIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PDs6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQJFAAZACwAAAAAQAAMAAAFvmCWMQTyPAjBiGzrukOyLMnw3jegCIICtIACZkgs/HC3xuHCbB4ayJshYKlaA4aRkMgtZKOtZXPsALuo1nQgQ+C6MQSzaDCuX2xyQHpvASDeXAhyGQl2YwmDCnxpChKARBSDEIZNEIMCi1YCjo8YD5KUTAuXmVUCf52CcoWhiHKKpQptnXFydKF4ZnqlAAZbbxVfcg6UZYMZaHxrGUFvRscZSnYOUMdTysIkExEREyrQLAMHMwe54AABPAFHGSEAIfkECRQAGQAsAAAAAEAADAAABb9gJgKKICiAqK4syxDI8yAE097tkCxLMqyGgGVIDBhwOEABw2wWUshW43CpWg8NkZDIDURdy6a4cPyqqNa0IwPgui1QM0FMxxDMokF6fxko3lwKeBkIdWIIgwl8aQkCgEQCgxKGTRSDEItWEI6PFpF4k5QYD5eZVQt/nYJ4haKIeIqmCW2dcV9zond4eqY/W29egwZhdRVleA6ZaxlBwMd4SnVPgyJTfA5ZKgABJgG21C8TERETNdQrAwc8Bz8iIQAh+QQFFAAZACwAAAAAQAAMAAAFv2AmDsmyJIOormwLKIKgAG3dMgTyPAjBqI3DZUg8NGw2Q8DCbAYMyBqggKlaC7SMkMh1RFvLpjjwXTGo1nTBMOC6L6lyBiCuW7JlQnqPISTeXAlyGQp2YgqDCHxpCBCARBCDAoZNAoMSi1YUjo8XC5KUTJZymJkYD3+dgnKFoYhyiqYIbZ1xZXSheF96pgQZDo9egxlhdmSDBmh8FVBBbw5Hw0rGUMNTfFgrAwcmB7bDIgABMQG6wzgTERETPiIhADs=",
        i = "data:image/gif;base64,R0lGODlhQAAMAIABAP///////yH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDphODFiMWQ5My0wMDIwLTRiYmItYjVlMS04YjI4NTFkMzMzMjIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6M0Q5MjI2RkE4NkU1MTFFNkFDRDc5Mjc3OTE2NjVFRTMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6M0Q5MjI2Rjk4NkU1MTFFNkFDRDc5Mjc3OTE2NjVFRTMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDphODFiMWQ5My0wMDIwLTRiYmItYjVlMS04YjI4NTFkMzMzMjIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6YTgxYjFkOTMtMDAyMC00YmJiLWI1ZTEtOGIyODUxZDMzMzIyIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Af/+/fz7+vn49/b19PPy8fDv7u3s6+rp6Ofm5eTj4uHg397d3Nva2djX1tXU09LR0M/OzczLysnIx8bFxMPCwcC/vr28u7q5uLe2tbSzsrGwr66trKuqqainpqWko6KhoJ+enZybmpmYl5aVlJOSkZCPjo2Mi4qJiIeGhYSDgoGAf359fHt6eXh3dnV0c3JxcG9ubWxramloZ2ZlZGNiYWBfXl1cW1pZWFdWVVRTUlFQT05NTEtKSUhHRkVEQ0JBQD8+PTw7Ojk4NzY1NDMyMTAvLi0sKyopKCcmJSQjIiEgHx4dHBsaGRgXFhUUExIREA8ODQwLCgkIBwYFBAMCAQAAIfkECRQAAQAsAAAAAEAADAAAAkVMgInG7a7Wmy+CZhWlOe3ZLaH3YWEJnaOErhd6uCscj7Q8w+6Nn3re6nV4tp/QQvQFjxFaLeN8IqVNZzE5pbKi2SiVUQAAIfkECRQAAQAsAAAAAEAADAAAAkWMgWnL3QmBmy7KZSGlWe3aXeH1YSNZBqN6pkfrnjL6yS47h7cd53q/AvosO1hq2CkGj60l01kKQqM/ZYZBvGGvWpPGUAAAIfkEBRQAAQAsAAAAAEAADAAAAkWMgWnL7amcbBCuWufEVj+OHCDgfWDJjGqGBivZvm/rrrRsxzmKq/de6o1+Pp0QQxwah8Uk0smpnWjSKLVZDVFTrG02UgAAOw==",
        o = 100,
        s = 50;
      t.default = new class extends r.EventEmitter {
        constructor() {
          super(), this.isEnabled = !1, this.isTouch = !1, this.startY = 0, this.delta = 0, this.handleTouchStart = e => {
            0 === window.scrollY && (this.insertLoadingDom(), this.isTouch = !0, this.startY = e.touches[0].pageY, window.document.body.style.transition = "all linear 0", this.loadingDom.style.transition = "all linear 0")
          }, this.handleTouchMove = e => {
            if (!this.isTouch) return;
            let t = e.touches[0].pageY - this.startY;
            t = Math.max(0, t), t = Math.min(o, t), this.delta = t, window.document.body.style.marginTop = `${t}px`, this.loadingDom.style.height = `${t}px`
          }, this.handleTouchEnd = e => {
            this.isTouch = !1, this.delta > s ? (this.emit("pulldown-refresh"), this.delta = s, window.document.body.style.marginTop = `${this.delta}px`, this.loadingDom.style.height = `${this.delta}px`, setTimeout(() => {
              this.reset()
            }, 3e3)) : this.reset()
          }, this.loadingDom = document.createElement("div"), this.iconDom = document.createElement("i"), Object.assign(this.loadingDom.style, {
            height: "0px",
            width: "100%",
            position: "fixed",
            top: "0px"
          }), Object.assign(this.iconDom.style, {
            width: "32px",
            position: "absolute",
            height: "6px",
            left: "50%",
            bottom: "20px",
            backgroundRepeat: "no-repeat",
            marginLeft: "-16px",
            backgroundSize: "cover"
          }), this.loadingDom.appendChild(this.iconDom)
        }
        enable() {
          this.isEnabled = !0, this.bindEvents()
        }
        disable() {
          this.isEnabled = !1
        }
        toggle() {
          this.isEnabled ? this.disable() : this.enable()
        }
        trigger() {
          this.isEnabled && (this.insertLoadingDom(), this.loadingDom.style.height = `${s}px`, window.document.body.style.transition = "all linear 0", window.document.body.style.marginTop = `${s}px`, this.emit("pulldown-refresh"))
        }
        setStyle(e) {
          this.iconDom.style.backgroundImage = `url(${"light"!==e?n:i})`
        }
        setBackgroundColor(e) {
          this.loadingDom.style.backgroundColor = e
        }
        reset() {
          const e = window.document.body;
          e && (Object.assign(e.style, {
            transition: "all linear 0.3s",
            marginTop: "0px"
          }), Object.assign(this.loadingDom.style, {
            transition: "all linear 0.3s",
            height: "0px"
          }))
        }
        bindEvents() {
          window.addEventListener("touchstart", this.handleTouchStart, !0), window.addEventListener("touchmove", this.handleTouchMove, !0), window.addEventListener("touchend", this.handleTouchEnd, !0)
        }
        insertLoadingDom() {
          document.body.insertBefore(this.loadingDom, document.body.firstChild)
        }
      }
    }, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function (e, t, A) {
      "use strict";
      var r = this && this.__awaiter || function (e, t, A, r) {
          return new(A || (A = Promise))(function (n, i) {
            function o(e) {
              try {
                a(r.next(e))
              } catch (e) {
                i(e)
              }
            }

            function s(e) {
              try {
                a(r.throw(e))
              } catch (e) {
                i(e)
              }
            }

            function a(e) {
              e.done ? n(e.value) : new A(function (t) {
                t(e.value)
              }).then(o, s)
            }
            a((r = r.apply(e, t || [])).next())
          })
        },
        n = this && this.__importDefault || function (e) {
          return e && e.__esModule ? e : {
            default: e
          }
        };
      Object.defineProperty(t, "__esModule", {
        value: !0
      });
      const i = A(16),
        o = A(17),
        s = n(A(45)),
        a = n(A(223)),
        l = n(A(3)),
        u = n(A(224)),
        c = n(A(159)),
        d = n(A(111)),
        f = n(A(226)),
        h = A(17),
        p = n(A(29)),
        g = n(A(19)),
        B = n(A(42));
      class m extends i.EventEmitter {
        constructor() {
          super(), this.state = "wait", this.messenger = new s.default;
          const e = location.pathname.replace(`${l.default.baseUrl}/${l.default.programPath}/${l.default.id}/`, ""),
            t = l.default.page[e] || {
              window: {}
            };
          if (t.window = Object.assign({}, l.default.global.window, t.window), t.window.enablePullDownRefresh && (c.default.on("pulldown-refresh", () => {
              this.messenger.send({
                command: "PULLDOWN_REFRESH"
              })
            }), c.default.setBackgroundColor(t.window.backgroundColor), c.default.setStyle(t.window.backgroundTextStyle), c.default.enable()), this.rewriteUa(), this.initMessenger(), this.initBridge(), this.bindEvents(), !B.default()) {
            Object.defineProperty(window.screen, "width", {
              get: () => l.default.windowWidth
            }), window.screen.orientation && Object.defineProperty(window.screen.orientation, "type", {
              get: () => "portrait-primary"
            }), A(134)(), h.simulateMobileScrollBar()
          }
          d.default()
        }
        getElements(e) {
          let t = p.default(document.body.querySelectorAll("*"));
          return t = t.filter(t => {
            const A = t.__wxElement;
            if (!A) return !1;
            if (e) {
              const t = A.__wxEvents;
              return !!t && !(!e.clickable || !t.tap && !t.touchstart)
            }
            return !0
          })
        }
        ready() {
          this.hackWx(), this.loadWxComponentsStyle(), u.default()
        }
        captureScreenshot(e = {}) {
          return r(this, void 0, void 0, function* () {
            const t = {
              proxy: h.getProxy()
            };
            return e.width && (t.width = e.width), e.height && (t.height = e.height), f.default(document.body, t).then(function (e) {
              return e.toDataURL()
            })
          })
        }
        hackWx() {
          const {
            getRealRoute: e
          } = wx, t = `${l.default.baseUrl}/${l.default.programPath}/${l.default.id}/`.slice(1);
          wx.getRealRoute = function (...A) {
            const r = e.apply(wx, A);
            return g.default(r, t) ? r : t + r
          }
        }
        rewriteUa() {
          const e = window.navigator.userAgent;
          Object.defineProperty(window.navigator, "userAgent", {
            get: () => o.getUa(e)
          })
        }
        initMessenger() {
          this.messenger.init(window.parent), this.messenger.on("message", e => {
            "wait" === this.state && (this.state = "running"), this.stateTimer && clearTimeout(this.stateTimer), this.stateTimer = setTimeout(() => {
              this.state = "wait"
            }, 200)
          })
        }
        initBridge() {
          window.WeixinJSBridge = a.default(this)
        }
        loadWxComponentsStyle() {
          window.onload && (window.onload(), window.onload = null)
        }
        bindEvents() {
          window.addEventListener("touchstart", () => {
            this.messenger.send({
              command: "TOUCH_WEBVIEW"
            })
          }, !1)
        }
      }
      t.Webview = m, window.webview = new m
    }, function (e, t, A) {
      "use strict";
      var r = this && this.__importDefault || function (e) {
        return e && e.__esModule ? e : {
          default: e
        }
      };
      Object.defineProperty(t, "__esModule", {
        value: !0
      });
      const n = A(16),
        i = r(A(28)),
        o = r(A(159)),
        s = r(A(86)),
        a = new i.default("wv");
      t.default = function (e) {
        const t = new n.EventEmitter,
          A = new n.EventEmitter,
          r = {};
        return e.messenger.on("message", e => {
          const {
            command: n,
            data: i
          } = e;
          switch (n) {
            case "WEBVIEW_INVOKE_CALLBACK": {
              const {
                callbackId: e,
                res: t
              } = i;
              a.debug(t.errMsg, e, t), r[e] && (r[e](t), delete r[e]);
              break
            }
            case "WEBVIEW_ON_EVENT":
              a.debug(i.eventName, i.data), t.emit(i.eventName, i.data);
              break;
            case "START_PULLDOWN_REFRESH":
              a.debug("start pulldown refresh"), o.default.trigger();
              break;
            case "STOP_PULLDOWN_REFRESH":
              a.debug("stop pulldown refresh"), o.default.reset();
              break;
            case "DISABLE_SCROLL_BOUNCE": {
              const {
                disable: e
              } = i;
              a.debug("disable scroll bounce", e), e ? o.default.disable() : o.default.enable();
              break
            }
            case "APPSERVICE_PUBLISH":
              A.emit(i.eventName, i.data)
          }
        }), {
          invoke(t, A, n) {
            const i = s.default();
            a.debug("invoke", t, i, A), r[i] = n, e.messenger.send({
              command: "WEBVIEW_INVOKE",
              data: {
                api: t,
                args: A,
                callbackId: i
              }
            })
          },
          publish(t, A) {
            a.debug("publish", t, A), A = JSON.parse(JSON.stringify(A)), e.messenger.send({
              command: "WEBVIEW_PUBLISH",
              data: {
                eventName: t,
                data: A
              }
            })
          },
          subscribe(e, t) {
            a.debug("subscribe", e), A.on(e, t)
          },
          on(e, A) {
            a.debug("on", e), t.on(e, A)
          }
        }
      }
    }, function (e, t, A) {
      "use strict";
      var r = this && this.__importDefault || function (e) {
        return e && e.__esModule ? e : {
          default: e
        }
      };
      Object.defineProperty(t, "__esModule", {
        value: !0
      });
      const n = r(A(3)),
        i = r(A(225)),
        o = r(A(19)),
        s = r(A(56)),
        a = r(A(23)),
        l = r(A(82));
      t.default = function () {
        function e(e, t) {
          if (t = a.default(t), !(s.default(t) || o.default(t, "data:image") || o.default(t, "blob:")) && e.ownerShadowRoot) {
            const A = e.ownerShadowRoot.__wxHost.__componentOptions.domain;
            if (A && "/" !== A && -1 === A.indexOf("simple://")) {
              const r = e.ownerShadowRoot.__wxHost.is.replace(/^plugin-private:\/\/wx[^\/]+\//, ""),
                i = A.split("/")[0],
                o = `${n.default.baseUrl}/${n.default.programPath}/${n.default.id}/`.slice(1);
              t = `${o}__plugin__/${i}/${wx.getRealRoute(r,t).replace(o,"")}`
            } else t = wx.getRealRoute(e.ownerShadowRoot.__wxHost.is, t);
            // e._isDevTools() && (t = "/" + t)
            /**
             * FixMe: 兼容浏览器打开环境
             */
            t = "/" + t
          }
          return t
        }
        const t = exparser.Component._list["wx-image"],
          A = exparser.Component._list["wx-canvas"],
          r = exparser.Component._list["wx-cover-image"],
          u = exparser.Component._list["wx-map"];
        t.protoFunc.prototype.getRealRoute = function (t) {
          return e(this, t)
        }, A.protoFunc.prototype.getRealRoute = function (t) {
          return e(this, t)
        }, r.protoFunc.prototype.getRealRoute = function (t) {
          return e(this, t)
        }, u.protoFunc.prototype.getRealRoute = function (t) {
          return e(this, t)
        };
        const c = exparser.Component._list["wx-input"],
          d = c.protoFunc.prototype.updateInput;
        c.protoFunc.prototype.updateInput = function () {
          this.__hasTriggerOnce ? (this.__hasTriggerOnce = !0, d.call(this)) : setTimeout(() => {
            this.__hasTriggerOnce = !0, d.call(this)
          }, 500)
        };
        const f = exparser.Component._list["wx-video"],
          h = f.protoFunc.prototype.checkProp;
        f.protoFunc.prototype.checkProp = function (e, t = "src") {
          return !this.live && "src" === t && e.indexOf("m3u8") > -1 && l.default(() => {
            const t = new i.default;
            t.loadSource(e), t.attachMedia(this.$.player.$$)
          }), h.call(this, e, t)
        }, t.protoFunc.prototype._getImagePath = function (e, t) {
          void 0 !== e && "function" == typeof t && (/^\/\//.test(e) && (e = "http:" + e), e = (e = this.getRealRoute(e)).trim(), /^(http|https):\/\//.test(e) || /^\s*data:image\//.test(e) || "" === e ? t(e) : /^wxfile:\/\//.test(e) ? t(e.replace(/^wxfile:\/\//, "http://wxfile.open.weixin.qq.com/")) : t(e))
        }
      }
    }, function (e, t, A) {
      var r;
      "undefined" != typeof window && (r = function () {
            return function (e) {
                var t = {};

                function A(r) {
                  if (t[r]) return t[r].exports;
                  var n = t[r] = {
                    i: r,
                    l: !1,
                    exports: {}
                  };
                  return e[r].call(n.exports, n, n.exports, A), n.l = !0, n.exports
                }
                return A.m = e, A.c = t, A.d = function (e, t, r) {
                  A.o(e, t) || Object.defineProperty(e, t, {
                    enumerable: !0,
                    get: r
                  })
                }, A.r = function (e) {
                  "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
                    value: "Module"
                  }), Object.defineProperty(e, "__esModule", {
                    value: !0
                  })
                }, A.t = function (e, t) {
                  if (1 & t && (e = A(e)), 8 & t) return e;
                  if (4 & t && "object" == typeof e && e && e.__esModule) return e;
                  var r = Object.create(null);
                  if (A.r(r), Object.defineProperty(r, "default", {
                      enumerable: !0,
                      value: e
                    }), 2 & t && "string" != typeof e)
                    for (var n in e) A.d(r, n, function (t) {
                      return e[t]
                    }.bind(null, n));
                  return r
                }, A.n = function (e) {
                  var t = e && e.__esModule ? function () {
                    return e.default
                  } : function () {
                    return e
                  };
                  return A.d(t, "a", t), t
                }, A.o = function (e, t) {
                  return Object.prototype.hasOwnProperty.call(e, t)
                }, A.p = "/dist/", A(A.s = "./src/hls.js")
              }({
                  "./node_modules/eventemitter3/index.js":
/*!*********************************************!*\
  !*** ./node_modules/eventemitter3/index.js ***!
  \*********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";var r=Object.prototype.hasOwnProperty,n="~";function i(){}function o(e,t,A){this.fn=e,this.context=t,this.once=A||!1}function s(e,t,A,r,i){if("function"!=typeof A)throw new TypeError("The listener must be a function");var s=new o(A,r||e,i),a=n?n+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],s]:e._events[a].push(s):(e._events[a]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function l(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(n=!1)),l.prototype.eventNames=function(){var e,t,A=[];if(0===this._eventsCount)return A;for(t in e=this._events)r.call(e,t)&&A.push(n?t.slice(1):t);return Object.getOwnPropertySymbols?A.concat(Object.getOwnPropertySymbols(e)):A},l.prototype.listeners=function(e){var t=n?n+e:e,A=this._events[t];if(!A)return[];if(A.fn)return[A.fn];for(var r=0,i=A.length,o=new Array(i);r<i;r++)o[r]=A[r].fn;return o},l.prototype.listenerCount=function(e){var t=n?n+e:e,A=this._events[t];return A?A.fn?1:A.length:0},l.prototype.emit=function(e,t,A,r,i,o){var s=n?n+e:e;if(!this._events[s])return!1;var a,l,u=this._events[s],c=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),c){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,A),!0;case 4:return u.fn.call(u.context,t,A,r),!0;case 5:return u.fn.call(u.context,t,A,r,i),!0;case 6:return u.fn.call(u.context,t,A,r,i,o),!0}for(l=1,a=new Array(c-1);l<c;l++)a[l-1]=arguments[l];u.fn.apply(u.context,a)}else{var d,f=u.length;for(l=0;l<f;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),c){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,A);break;case 4:u[l].fn.call(u[l].context,t,A,r);break;default:if(!a)for(d=1,a=new Array(c-1);d<c;d++)a[d-1]=arguments[d];u[l].fn.apply(u[l].context,a)}}return!0},l.prototype.on=function(e,t,A){return s(this,e,t,A,!1)},l.prototype.once=function(e,t,A){return s(this,e,t,A,!0)},l.prototype.removeListener=function(e,t,A,r){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return a(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||r&&!o.once||A&&o.context!==A||a(this,i);else{for(var s=0,l=[],u=o.length;s<u;s++)(o[s].fn!==t||r&&!o[s].once||A&&o[s].context!==A)&&l.push(o[s]);l.length?this._events[i]=1===l.length?l[0]:l:a(this,i)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l},"./node_modules/node-libs-browser/node_modules/events/events.js":
/*!**********************************************************************!*\
  !*** ./node_modules/node-libs-browser/node_modules/events/events.js ***!
  \**********************************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){function A(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function n(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}e.exports=A,A.EventEmitter=A,A.prototype._events=void 0,A.prototype._maxListeners=void 0,A.defaultMaxListeners=10,A.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},A.prototype.emit=function(e){var t,A,o,s,a,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||n(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(i(A=this._events[e]))return!1;if(r(A))switch(arguments.length){case 1:A.call(this);break;case 2:A.call(this,arguments[1]);break;case 3:A.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),A.apply(this,s)}else if(n(A))for(s=Array.prototype.slice.call(arguments,1),o=(l=A.slice()).length,a=0;a<o;a++)l[a].apply(this,s);return!0},A.prototype.addListener=function(e,t){var o;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?n(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,n(this._events[e])&&!this._events[e].warned&&(o=i(this._maxListeners)?A.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},A.prototype.on=A.prototype.addListener,A.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var A=!1;function n(){this.removeListener(e,n),A||(A=!0,t.apply(this,arguments))}return n.listener=t,this.on(e,n),this},A.prototype.removeListener=function(e,t){var A,i,o,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(A=this._events[e]).length,i=-1,A===t||r(A.listener)&&A.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(n(A)){for(s=o;s-- >0;)if(A[s]===t||A[s].listener&&A[s].listener===t){i=s;break}if(i<0)return this;1===A.length?(A.length=0,delete this._events[e]):A.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},A.prototype.removeAllListeners=function(e){var t,A;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(A=this._events[e]))this.removeListener(e,A);else if(A)for(;A.length;)this.removeListener(e,A[A.length-1]);return delete this._events[e],this},A.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},A.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},A.listenerCount=function(e,t){return e.listenerCount(t)}},"./node_modules/url-toolkit/src/url-toolkit.js":
/*!*****************************************************!*\
  !*** ./node_modules/url-toolkit/src/url-toolkit.js ***!
  \*****************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){var r,n,i,o,s;r=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,n=/^([^\/?#]*)(.*)$/,i=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,s={buildAbsoluteURL:function(e,t,A){if(A=A||{},e=e.trim(),!(t=t.trim())){if(!A.alwaysNormalize)return e;var r=s.parseURL(e);if(!r)throw new Error("Error trying to parse base URL.");return r.path=s.normalizePath(r.path),s.buildURLFromParts(r)}var i=s.parseURL(t);if(!i)throw new Error("Error trying to parse relative URL.");if(i.scheme)return A.alwaysNormalize?(i.path=s.normalizePath(i.path),s.buildURLFromParts(i)):t;var o=s.parseURL(e);if(!o)throw new Error("Error trying to parse base URL.");if(!o.netLoc&&o.path&&"/"!==o.path[0]){var a=n.exec(o.path);o.netLoc=a[1],o.path=a[2]}o.netLoc&&!o.path&&(o.path="/");var l={scheme:o.scheme,netLoc:i.netLoc,path:null,params:i.params,query:i.query,fragment:i.fragment};if(!i.netLoc&&(l.netLoc=o.netLoc,"/"!==i.path[0]))if(i.path){var u=o.path,c=u.substring(0,u.lastIndexOf("/")+1)+i.path;l.path=s.normalizePath(c)}else l.path=o.path,i.params||(l.params=o.params,i.query||(l.query=o.query));return null===l.path&&(l.path=A.alwaysNormalize?s.normalizePath(i.path):i.path),s.buildURLFromParts(l)},parseURL:function(e){var t=r.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(i,"");e.length!==(e=e.replace(o,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=s},"./node_modules/webworkify-webpack/index.js":
/*!**************************************************!*\
  !*** ./node_modules/webworkify-webpack/index.js ***!
  \**************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){function r(e){var t={};function A(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,A),n.l=!0,n.exports}A.m=e,A.c=t,A.i=function(e){return e},A.d=function(e,t,r){A.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},A.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},A.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return A.d(t,"a",t),t},A.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},A.p="/",A.oe=function(e){throw console.error(e),e};var r=A(A.s=ENTRY_MODULE);return r.default||r}var n="[\\.|\\-|\\+|\\w|/|@]+",i="\\((/\\*.*?\\*/)?s?.*?("+n+").*?\\)";function o(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function s(e,t,r){var s={};s[r]=[];var a=t.toString(),l=a.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!l)return s;for(var u,c=l[1],d=new RegExp("(\\\\n|\\W)"+o(c)+i,"g");u=d.exec(a);)"dll-reference"!==u[3]&&s[r].push(u[3]);for(d=new RegExp("\\("+o(c)+'\\("(dll-reference\\s('+n+'))"\\)\\)'+i,"g");u=d.exec(a);)e[u[2]]||(s[r].push(u[1]),e[u[2]]=A(u[1]).m),s[u[2]]=s[u[2]]||[],s[u[2]].push(u[4]);for(var f,h=Object.keys(s),p=0;p<h.length;p++)for(var g=0;g<s[h[p]].length;g++)f=s[h[p]][g],isNaN(1*f)||(s[h[p]][g]=1*s[h[p]][g]);return s}function a(e){return Object.keys(e).reduce(function(t,A){return t||e[A].length>0},!1)}e.exports=function(e,t){t=t||{};var n={main:A.m},i=t.all?{main:Object.keys(n.main)}:function(e,t){for(var A={main:[t]},r={main:[]},n={main:{}};a(A);)for(var i=Object.keys(A),o=0;o<i.length;o++){var l=i[o],u=A[l].pop();if(n[l]=n[l]||{},!n[l][u]&&e[l][u]){n[l][u]=!0,r[l]=r[l]||[],r[l].push(u);for(var c=s(e,e[l][u],l),d=Object.keys(c),f=0;f<d.length;f++)A[d[f]]=A[d[f]]||[],A[d[f]]=A[d[f]].concat(c[d[f]])}}return r}(n,e),o="";Object.keys(i).filter(function(e){return"main"!==e}).forEach(function(e){for(var t=0;i[e][t];)t++;i[e].push(t),n[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",o=o+"var "+e+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+i[e].map(function(t){return JSON.stringify(t)+": "+n[e][t].toString()}).join(",")+"});\n"}),o=o+"new (("+r.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+i.main.map(function(e){return JSON.stringify(e)+": "+n.main[e].toString()}).join(",")+"}))(self);";var l=new window.Blob([o],{type:"text/javascript"});if(t.bare)return l;var u=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(l),c=new window.Worker(u);return c.objectURL=u,c}},"./src/config.js":
/*!***********************!*\
  !*** ./src/config.js ***!
  \***********************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=A(/*! ./controller/abr-controller */"./src/controller/abr-controller.js"),n=A(/*! ./controller/buffer-controller */"./src/controller/buffer-controller.js"),i=A(/*! ./controller/cap-level-controller */"./src/controller/cap-level-controller.js"),o=A(/*! ./controller/fps-controller */"./src/controller/fps-controller.js"),s=A(/*! ./utils/xhr-loader */"./src/utils/xhr-loader.js"),a=A(/*! ./controller/audio-track-controller */"./src/controller/audio-track-controller.js"),l=A(/*! ./controller/audio-stream-controller */"./src/controller/audio-stream-controller.js"),u=A(/*! ./utils/cues */"./src/utils/cues.js"),c=A(/*! ./controller/timeline-controller */"./src/controller/timeline-controller.js"),d=A(/*! ./controller/subtitle-track-controller */"./src/controller/subtitle-track-controller.js"),f=A(/*! ./controller/subtitle-stream-controller */"./src/controller/subtitle-stream-controller.js"),h=A(/*! ./controller/eme-controller */"./src/controller/eme-controller.js"),p=A(/*! ./utils/mediakeys-helper */"./src/utils/mediakeys-helper.js");t.hlsDefaultConfig={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,liveBackBufferLength:1/0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:s.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:r.default,bufferController:n.default,capLevelController:i.default,fpsController:o.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,requestMediaKeySystemAccessFunc:p.requestMediaKeySystemAccess},t.hlsDefaultConfig.subtitleStreamController=f.SubtitleStreamController,t.hlsDefaultConfig.subtitleTrackController=d.default,t.hlsDefaultConfig.timelineController=c.default,t.hlsDefaultConfig.cueHandler=u,t.hlsDefaultConfig.enableCEA708Captions=!0,t.hlsDefaultConfig.enableWebVTT=!0,t.hlsDefaultConfig.captionsTextTrack1Label="English",t.hlsDefaultConfig.captionsTextTrack1LanguageCode="en",t.hlsDefaultConfig.captionsTextTrack2Label="Spanish",t.hlsDefaultConfig.captionsTextTrack2LanguageCode="es",t.hlsDefaultConfig.audioStreamController=l.default,t.hlsDefaultConfig.audioTrackController=a.default,t.hlsDefaultConfig.emeController=h.default},"./src/controller/abr-controller.js":
/*!******************************************!*\
  !*** ./src/controller/abr-controller.js ***!
  \******************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";(function(e){var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])},function(e,t){function A(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var i=A(/*! ../events */"./src/events.js"),o=A(/*! ../event-handler */"./src/event-handler.js"),s=A(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),a=A(/*! ../errors */"./src/errors.js"),l=A(/*! ../utils/logger */"./src/utils/logger.js"),u=A(/*! ../utils/ewma-bandwidth-estimator */"./src/utils/ewma-bandwidth-estimator.js"),c=window.performance,d=function(t){function A(e){var A=t.call(this,e,i.default.FRAG_LOADING,i.default.FRAG_LOADED,i.default.FRAG_BUFFERED,i.default.ERROR)||this;return A.lastLoadedFragLevel=0,A._nextAutoLevel=-1,A.hls=e,A.timer=null,A._bwEstimator=null,A.onCheck=A._abandonRulesCheck.bind(A),A}return n(A,t),A.prototype.destroy=function(){this.clearTimer(),o.default.prototype.destroy.call(this)},A.prototype.onFragLoading=function(e){var t=e.frag;if("main"===t.type&&(this.timer||(this.fragCurrent=t,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var A=this.hls,r=A.config,n=t.level,i=void 0,o=void 0;A.levels[n].details.live?(i=r.abrEwmaFastLive,o=r.abrEwmaSlowLive):(i=r.abrEwmaFastVoD,o=r.abrEwmaSlowVoD),this._bwEstimator=new u.default(A,o,i,r.abrEwmaDefaultEstimate)}},A.prototype._abandonRulesCheck=function(){var e=this.hls,t=e.media,A=this.fragCurrent;if(A){var r=A.loader,n=e.minAutoLevel;if(!r||r.stats&&r.stats.aborted)return l.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var o=r.stats;if(t&&o&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&A.autoLevel&&A.level){var a=c.now()-o.trequest,u=Math.abs(t.playbackRate);if(a>500*A.duration/u){var d=e.levels,f=Math.max(1,o.bw?o.bw/8:1e3*o.loaded/a),h=d[A.level],p=h.realBitrate?Math.max(h.realBitrate,h.bitrate):h.bitrate,g=o.total?o.total:Math.max(o.loaded,Math.round(A.duration*p/8)),B=t.currentTime,m=(g-o.loaded)/f,w=(s.BufferHelper.bufferInfo(t,B,e.config.maxBufferHole).end-B)/u;if(w<2*A.duration/u&&m>w){var E=void 0,v=void 0;for(v=A.level-1;v>n;v--){var y=d[v].realBitrate?Math.max(d[v].realBitrate,d[v].bitrate):d[v].bitrate;if((E=A.duration*y/(6.4*f))<w)break}E<m&&(l.logger.warn("loading too slow, abort fragment loading and switch to level "+v+":fragLoadedDelay["+v+"]<fragLoadedDelay["+(A.level-1)+"];bufferStarvationDelay:"+E.toFixed(1)+"<"+m.toFixed(1)+":"+w.toFixed(1)),e.nextLoadLevel=v,this._bwEstimator.sample(a,o.loaded),r.abort(),this.clearTimer(),e.trigger(i.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:A,stats:o}))}}}}},A.prototype.onFragLoaded=function(t){var A=t.frag;if("main"===A.type&&e.isFinite(A.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=A.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var r=this.hls.levels[A.level],n=(r.loaded?r.loaded.bytes:0)+t.stats.loaded,i=(r.loaded?r.loaded.duration:0)+t.frag.duration;r.loaded={bytes:n,duration:i},r.realBitrate=Math.round(8*n/i)}if(t.frag.bitrateTest){var o=t.stats;o.tparsed=o.tbuffered=o.tload,this.onFragBuffered(t)}}},A.prototype.onFragBuffered=function(t){var A=t.stats,r=t.frag;if(!0!==A.aborted&&"main"===r.type&&e.isFinite(r.sn)&&(!r.bitrateTest||A.tload===A.tbuffered)){var n=A.tparsed-A.trequest;l.logger.log("latency/loading/parsing/append/kbps:"+Math.round(A.tfirst-A.trequest)+"/"+Math.round(A.tload-A.tfirst)+"/"+Math.round(A.tparsed-A.tload)+"/"+Math.round(A.tbuffered-A.tparsed)+"/"+Math.round(8*A.loaded/(A.tbuffered-A.trequest))),this._bwEstimator.sample(n,A.loaded),A.bwEstimate=this._bwEstimator.getEstimate(),r.bitrateTest?this.bitrateTestDelay=n/1e3:this.bitrateTestDelay=0}},A.prototype.onError=function(e){switch(e.details){case a.ErrorDetails.FRAG_LOAD_ERROR:case a.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},A.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},Object.defineProperty(A.prototype,"nextAutoLevel",{get:function(){var e=this._nextAutoLevel,t=this._bwEstimator;if(!(-1===e||t&&t.canEstimate()))return e;var A=this._nextABRAutoLevel;return-1!==e&&(A=Math.min(e,A)),A},set:function(e){this._nextAutoLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"_nextABRAutoLevel",{get:function(){var e=this.hls,t=e.maxAutoLevel,A=e.levels,r=e.config,n=e.minAutoLevel,i=e.media,o=this.lastLoadedFragLevel,a=this.fragCurrent?this.fragCurrent.duration:0,u=i?i.currentTime:0,c=i&&0!==i.playbackRate?Math.abs(i.playbackRate):1,d=this._bwEstimator?this._bwEstimator.getEstimate():r.abrEwmaDefaultEstimate,f=(s.BufferHelper.bufferInfo(i,u,r.maxBufferHole).end-u)/c,h=this._findBestLevel(o,a,d,n,t,f,r.abrBandWidthFactor,r.abrBandWidthUpFactor,A);if(h>=0)return h;l.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var p=a?Math.min(a,r.maxStarvationDelay):r.maxStarvationDelay,g=r.abrBandWidthFactor,B=r.abrBandWidthUpFactor;if(0===f){var m=this.bitrateTestDelay;if(m)p=(a?Math.min(a,r.maxLoadingDelay):r.maxLoadingDelay)-m,l.logger.trace("bitrate test took "+Math.round(1e3*m)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*p)+" ms"),g=B=1}return h=this._findBestLevel(o,a,d,n,t,f+p,g,B,A),Math.max(h,0)},enumerable:!0,configurable:!0}),A.prototype._findBestLevel=function(e,t,A,r,n,i,o,s,a){for(var u=n;u>=r;u--){var c=a[u];if(c){var d=c.details,f=d?d.totalduration/d.fragments.length:t,h=!!d&&d.live,p=void 0;p=u<=e?o*A:s*A;var g=a[u].realBitrate?Math.max(a[u].realBitrate,a[u].bitrate):a[u].bitrate,B=g*f/p;if(l.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+u+"/"+Math.round(p)+"/"+g+"/"+f+"/"+i+"/"+B),p>g&&(!B||h&&!this.bitrateTestDelay||B<i))return u}}return-1},A}(o.default);t.default=d}).call(this,A(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/audio-stream-controller.js":
/*!***************************************************!*\
  !*** ./src/controller/audio-stream-controller.js ***!
  \***************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";(function(e){var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])},function(e,t){function A(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var i=A(/*! ../utils/binary-search */"./src/utils/binary-search.js"),o=A(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),s=A(/*! ../demux/demuxer */"./src/demux/demuxer.js"),a=A(/*! ../events */"./src/events.js"),l=A(/*! ./level-helper */"./src/controller/level-helper.js"),u=A(/*! ../utils/time-ranges */"./src/utils/time-ranges.js"),c=A(/*! ../errors */"./src/errors.js"),d=A(/*! ../utils/logger */"./src/utils/logger.js"),f=A(/*! ../utils/discontinuities */"./src/utils/discontinuities.js"),h=A(/*! ./fragment-tracker */"./src/controller/fragment-tracker.js"),p=A(/*! ../loader/fragment */"./src/loader/fragment.js"),g=A(/*! ./base-stream-controller */"./src/controller/base-stream-controller.js"),B=window.performance,m=function(t){function A(e,A){var r=t.call(this,e,a.default.MEDIA_ATTACHED,a.default.MEDIA_DETACHING,a.default.AUDIO_TRACKS_UPDATED,a.default.AUDIO_TRACK_SWITCHING,a.default.AUDIO_TRACK_LOADED,a.default.KEY_LOADED,a.default.FRAG_LOADED,a.default.FRAG_PARSING_INIT_SEGMENT,a.default.FRAG_PARSING_DATA,a.default.FRAG_PARSED,a.default.ERROR,a.default.BUFFER_RESET,a.default.BUFFER_CREATED,a.default.BUFFER_APPENDED,a.default.BUFFER_FLUSHED,a.default.INIT_PTS_FOUND)||this;return r.fragmentTracker=A,r.config=e.config,r.audioCodecSwap=!1,r._state=g.State.STOPPED,r.initPTS=[],r.waitingFragment=null,r.videoTrackCC=null,r}return n(A,t),A.prototype.onInitPtsFound=function(e){var t=e.id,A=e.frag.cc,r=e.initPTS;"main"===t&&(this.initPTS[A]=r,this.videoTrackCC=A,d.logger.log("InitPTS for cc: "+A+" found from video track: "+r),this.state===g.State.WAITING_INIT_PTS&&this.tick())},A.prototype.startLoad=function(e){if(this.tracks){var t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,t>0&&-1===e?(d.logger.log("audio:override startPosition with lastCurrentTime @"+t.toFixed(3)),this.state=g.State.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:e,this.state=g.State.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=e,this.state=g.State.STOPPED},Object.defineProperty(A.prototype,"state",{get:function(){return this._state},set:function(e){if(this.state!==e){var t=this.state;this._state=e,d.logger.log("audio stream:"+t+"->"+e)}},enumerable:!0,configurable:!0}),A.prototype.doTick=function(){var t,A,r,n=this.hls,s=n.config;switch(this.state){case g.State.ERROR:case g.State.PAUSED:case g.State.BUFFER_FLUSHING:break;case g.State.STARTING:this.state=g.State.WAITING_TRACK,this.loadedmetadata=!1;break;case g.State.IDLE:var l=this.tracks;if(!l)break;if(!this.media&&(this.startFragRequested||!s.startFragPrefetch))break;if(this.loadedmetadata)t=this.media.currentTime;else if(void 0===(t=this.nextLoadPosition))break;var u=this.mediaBuffer?this.mediaBuffer:this.media,c=this.videoBuffer?this.videoBuffer:this.media,p=o.BufferHelper.bufferInfo(u,t,s.maxBufferHole),m=o.BufferHelper.bufferInfo(c,t,s.maxBufferHole),w=p.len,E=p.end,v=this.fragPrevious,y=Math.min(s.maxBufferLength,s.maxMaxBufferLength),C=Math.max(y,m.len),U=this.audioSwitch,Q=this.trackId;if((w<C||U)&&Q<l.length){if(void 0===(r=l[Q].details)){this.state=g.State.WAITING_TRACK;break}if(!U&&this._streamEnded(p,r))return this.hls.trigger(a.default.BUFFER_EOS,{type:"audio"}),void(this.state=g.State.ENDED);var F=r.fragments,T=F.length,b=F[0].start,S=F[T-1].start+F[T-1].duration,_=void 0;if(U)if(r.live&&!r.PTSKnown)d.logger.log("switching audiotrack, live stream, unknown PTS,load first fragment"),E=0;else if(E=t,r.PTSKnown&&t<b){if(!(p.end>b||p.nextStart))return;d.logger.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=b+.05}if(r.initSegment&&!r.initSegment.data)_=r.initSegment;else if(E<=b){if(_=F[0],null!==this.videoTrackCC&&_.cc!==this.videoTrackCC&&(_=f.findFragWithCC(F,this.videoTrackCC)),r.live&&_.loadIdx&&_.loadIdx===this.fragLoadIdx){var R=p.nextStart?p.nextStart:b;return d.logger.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(R+.05)),void(this.media.currentTime=R+.05)}}else{var I=void 0,L=s.maxFragLookUpTolerance,N=v?F[v.sn-F[0].sn+1]:void 0,D=function(e){var t=Math.min(L,e.duration);return e.start+e.duration-t<=E?1:e.start-t>E&&e.start?-1:0};E<S?(E>S-L&&(L=0),I=N&&!D(N)?N:i.default.search(F,D)):I=F[T-1],I&&(_=I,b=I.start,v&&_.level===v.level&&_.sn===v.sn&&(_.sn<r.endSN?(_=F[_.sn+1-r.startSN],d.logger.log("SN just loaded, load next one: "+_.sn)):_=null))}_&&(_.encrypted?(d.logger.log("Loading key for "+_.sn+" of ["+r.startSN+" ,"+r.endSN+"],track "+Q),this.state=g.State.KEY_LOADING,n.trigger(a.default.KEY_LOADING,{frag:_})):(d.logger.log("Loading "+_.sn+", cc: "+_.cc+" of ["+r.startSN+" ,"+r.endSN+"],track "+Q+", currentTime:"+t+",bufferEnd:"+E.toFixed(3)),this.fragCurrent=_,(U||this.fragmentTracker.getState(_)===h.FragmentState.NOT_LOADED)&&(this.startFragRequested=!0,e.isFinite(_.sn)&&(this.nextLoadPosition=_.start+_.duration),n.trigger(a.default.FRAG_LOADING,{frag:_}),this.state=g.State.FRAG_LOADING)))}break;case g.State.WAITING_TRACK:(A=this.tracks[this.trackId])&&A.details&&(this.state=g.State.IDLE);break;case g.State.FRAG_LOADING_WAITING_RETRY:var H=B.now(),O=this.retryDate,M=(u=this.media)&&u.seeking;(!O||H>=O||M)&&(d.logger.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=g.State.IDLE);break;case g.State.WAITING_INIT_PTS:var x=this.videoTrackCC;if(void 0===this.initPTS[x])break;var P=this.waitingFragment;if(P){var K=P.frag.cc;x!==K?(A=this.tracks[this.trackId]).details&&A.details.live&&(d.logger.warn("Waiting fragment CC ("+K+") does not match video track CC ("+x+")"),this.waitingFragment=null,this.state=g.State.IDLE):(this.state=g.State.FRAG_LOADING,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=g.State.IDLE;break;case g.State.STOPPED:case g.State.FRAG_LOADING:case g.State.PARSING:case g.State.PARSED:case g.State.ENDED:}},A.prototype.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("ended",this.onvended);var A=this.config;this.tracks&&A.autoStartLoad&&this.startLoad(A.startPosition)},A.prototype.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(d.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.stopLoad()},A.prototype.onAudioTracksUpdated=function(e){d.logger.log("audio tracks updated"),this.tracks=e.audioTracks},A.prototype.onAudioTrackSwitching=function(e){var t=!!e.url;this.trackId=e.id,this.fragCurrent=null,this.state=g.State.PAUSED,this.waitingFragment=null,t?this.setInterval(100):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),t&&(this.audioSwitch=!0,this.state=g.State.IDLE),this.tick()},A.prototype.onAudioTrackLoaded=function(t){var A=t.details,r=t.id,n=this.tracks[r],i=A.totalduration,o=0;if(d.logger.log("track "+r+" loaded ["+A.startSN+","+A.endSN+"],duration:"+i),A.live){var s=n.details;s&&A.fragments.length>0?(l.mergeDetails(s,A),o=A.fragments[0].start,A.PTSKnown?d.logger.log("live audio playlist sliding:"+o.toFixed(3)):d.logger.log("live audio playlist - outdated PTS, unknown sliding")):(A.PTSKnown=!1,d.logger.log("live audio playlist - first load, unknown sliding"))}else A.PTSKnown=!1;if(n.details=A,!this.startFragRequested){if(-1===this.startPosition){var a=A.startTimeOffset;e.isFinite(a)?(d.logger.log("start time offset found in playlist, adjust startPosition to "+a),this.startPosition=a):this.startPosition=0}this.nextLoadPosition=this.startPosition}this.state===g.State.WAITING_TRACK&&(this.state=g.State.IDLE),this.tick()},A.prototype.onKeyLoaded=function(){this.state===g.State.KEY_LOADING&&(this.state=g.State.IDLE,this.tick())},A.prototype.onFragLoaded=function(e){var t=this.fragCurrent,A=e.frag;if(this.state===g.State.FRAG_LOADING&&t&&"audio"===A.type&&A.level===t.level&&A.sn===t.sn){var r=this.tracks[this.trackId],n=r.details,i=n.totalduration,o=t.level,l=t.sn,u=t.cc,c=this.config.defaultAudioCodec||r.audioCodec||"mp4a.40.2",f=this.stats=e.stats;if("initSegment"===l)this.state=g.State.IDLE,f.tparsed=f.tbuffered=B.now(),n.initSegment.data=e.payload,this.hls.trigger(a.default.FRAG_BUFFERED,{stats:f,frag:t,id:"audio"}),this.tick();else{this.state=g.State.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new s.default(this.hls,"audio"));var h=this.initPTS[u],p=n.initSegment?n.initSegment.data:[];if(n.initSegment||void 0!==h){this.pendingBuffering=!0,d.logger.log("Demuxing "+l+" of ["+n.startSN+" ,"+n.endSN+"],track "+o);this.demuxer.push(e.payload,p,c,null,t,i,!1,h)}else d.logger.log("unknown video PTS for continuity counter "+u+", waiting for video PTS before demuxing audio frag "+l+" of ["+n.startSN+" ,"+n.endSN+"],track "+o),this.waitingFragment=e,this.state=g.State.WAITING_INIT_PTS}}this.fragLoadError=0},A.prototype.onFragParsingInitSegment=function(e){var t=this.fragCurrent,A=e.frag;if(t&&"audio"===e.id&&A.sn===t.sn&&A.level===t.level&&this.state===g.State.PARSING){var r=e.tracks,n=void 0;if(r.video&&delete r.video,n=r.audio){n.levelCodec=n.codec,n.id=e.id,this.hls.trigger(a.default.BUFFER_CODECS,r),d.logger.log("audio track:audio,container:"+n.container+",codecs[level/parsed]=["+n.levelCodec+"/"+n.codec+"]");var i=n.initSegment;if(i){var o={type:"audio",data:i,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[o]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(a.default.BUFFER_APPENDING,o))}this.tick()}}},A.prototype.onFragParsingData=function(t){var A=this,r=this.fragCurrent,n=t.frag;if(r&&"audio"===t.id&&"audio"===t.type&&n.sn===r.sn&&n.level===r.level&&this.state===g.State.PARSING){var i=this.trackId,o=this.tracks[i],s=this.hls;e.isFinite(t.endPTS)||(t.endPTS=t.startPTS+r.duration,t.endDTS=t.startDTS+r.duration),r.addElementaryStream(p.default.ElementaryStreamTypes.AUDIO),d.logger.log("parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb),l.updateFragPTSDTS(o.details,r,t.startPTS,t.endPTS);var u=this.audioSwitch,f=this.media,h=!1;if(u&&f)if(f.readyState){var B=f.currentTime;d.logger.log("switching audio track : currentTime:"+B),B>=t.startPTS&&(d.logger.log("switching audio track : flushing all audio"),this.state=g.State.BUFFER_FLUSHING,s.trigger(a.default.BUFFER_FLUSHING,{startOffset:0,endOffset:e.POSITIVE_INFINITY,type:"audio"}),h=!0,this.audioSwitch=!1,s.trigger(a.default.AUDIO_TRACK_SWITCHED,{id:i}))}else this.audioSwitch=!1,s.trigger(a.default.AUDIO_TRACK_SWITCHED,{id:i});var m=this.pendingData;if(!m)return d.logger.warn("Apparently attempt to enqueue media payload without codec initialization data upfront"),void s.trigger(a.default.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:null,fatal:!0});this.audioSwitch||([t.data1,t.data2].forEach(function(e){e&&e.length&&m.push({type:t.type,data:e,parent:"audio",content:"data"})}),!h&&m.length&&(m.forEach(function(e){A.state===g.State.PARSING&&(A.pendingBuffering=!0,A.hls.trigger(a.default.BUFFER_APPENDING,e))}),this.pendingData=[],this.appended=!0)),this.tick()}},A.prototype.onFragParsed=function(e){var t=this.fragCurrent,A=e.frag;t&&"audio"===e.id&&A.sn===t.sn&&A.level===t.level&&this.state===g.State.PARSING&&(this.stats.tparsed=B.now(),this.state=g.State.PARSED,this._checkAppendedParsed())},A.prototype.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},A.prototype.onBufferCreated=function(e){var t=e.tracks.audio;t&&(this.mediaBuffer=t.buffer,this.loadedmetadata=!0),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer)},A.prototype.onBufferAppended=function(e){if("audio"===e.parent){var t=this.state;t!==g.State.PARSING&&t!==g.State.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},A.prototype._checkAppendedParsed=function(){if(!(this.state!==g.State.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent,t=this.stats,A=this.hls;if(e){this.fragPrevious=e,t.tbuffered=B.now(),A.trigger(a.default.FRAG_BUFFERED,{stats:t,frag:e,id:"audio"});var r=this.mediaBuffer?this.mediaBuffer:this.media;d.logger.log("audio buffered : "+u.default.toString(r.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,A.trigger(a.default.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=g.State.IDLE}this.tick()}},A.prototype.onError=function(t){var A=t.frag;if(!A||"audio"===A.type)switch(t.details){case c.ErrorDetails.FRAG_LOAD_ERROR:case c.ErrorDetails.FRAG_LOAD_TIMEOUT:var r=t.frag;if(r&&"audio"!==r.type)break;if(!t.fatal){var n=this.fragLoadError;if(n?n++:n=1,n<=(s=this.config).fragLoadingMaxRetry){this.fragLoadError=n;var i=Math.min(Math.pow(2,n-1)*s.fragLoadingRetryDelay,s.fragLoadingMaxRetryTimeout);d.logger.warn("AudioStreamController: frag loading failed, retry in "+i+" ms"),this.retryDate=B.now()+i,this.state=g.State.FRAG_LOADING_WAITING_RETRY}else d.logger.error("AudioStreamController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=g.State.ERROR}break;case c.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case c.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case c.ErrorDetails.KEY_LOAD_ERROR:case c.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==g.State.ERROR&&(this.state=t.fatal?g.State.ERROR:g.State.IDLE,d.logger.warn("AudioStreamController: "+t.details+" while loading frag, now switching to "+this.state+" state ..."));break;case c.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===t.parent&&(this.state===g.State.PARSING||this.state===g.State.PARSED)){var s,l=this.mediaBuffer,u=this.media.currentTime;if(l&&o.BufferHelper.isBuffered(l,u)&&o.BufferHelper.isBuffered(l,u+.5))(s=this.config).maxMaxBufferLength>=s.maxBufferLength&&(s.maxMaxBufferLength/=2,d.logger.warn("AudioStreamController: reduce max buffer length to "+s.maxMaxBufferLength+"s")),this.state=g.State.IDLE;else d.logger.warn("AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=g.State.BUFFER_FLUSHING,this.hls.trigger(a.default.BUFFER_FLUSHING,{startOffset:0,endOffset:e.POSITIVE_INFINITY,type:"audio"})}}},A.prototype.onBufferFlushed=function(){var e=this,t=this.pendingData;t&&t.length?(d.logger.log("AudioStreamController: appending pending audio data after buffer flushed"),t.forEach(function(t){e.hls.trigger(a.default.BUFFER_APPENDING,t)}),this.appended=!0,this.pendingData=[],this.state=g.State.PARSED):(this.state=g.State.IDLE,this.fragPrevious=null,this.tick())},A}(g.default);t.default=m}).call(this,A(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/audio-track-controller.js":
/*!**************************************************!*\
  !*** ./src/controller/audio-track-controller.js ***!
  \**************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])},function(e,t){function A(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var i=A(/*! ../events */"./src/events.js"),o=A(/*! ../task-loop */"./src/task-loop.js"),s=A(/*! ../utils/logger */"./src/utils/logger.js"),a=A(/*! ../errors */"./src/errors.js"),l=function(e){function t(t){var A=e.call(this,t,i.default.MANIFEST_LOADING,i.default.MANIFEST_PARSED,i.default.AUDIO_TRACK_LOADED,i.default.AUDIO_TRACK_SWITCHED,i.default.LEVEL_LOADED,i.default.ERROR)||this;return A._trackId=-1,A._selectDefaultTrack=!0,A.tracks=[],A.trackIdBlacklist=Object.create(null),A.audioGroupId=null,A}return n(t,e),t.prototype.onManifestLoading=function(){this.tracks=[],this._trackId=-1,this._selectDefaultTrack=!0},t.prototype.onManifestParsed=function(e){var t=this.tracks=e.audioTracks||[];this.hls.trigger(i.default.AUDIO_TRACKS_UPDATED,{audioTracks:t})},t.prototype.onAudioTrackLoaded=function(e){if(e.id>=this.tracks.length)s.logger.warn("Invalid audio track id:",e.id);else{if(s.logger.log("audioTrack "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.hasInterval()){var t=1e3*e.details.targetduration;this.setInterval(t)}!e.details.live&&this.hasInterval()&&this.clearInterval()}},t.prototype.onAudioTrackSwitched=function(e){var t=this.tracks[e.id].groupId;t&&this.audioGroupId!==t&&(this.audioGroupId=t)},t.prototype.onLevelLoaded=function(e){var t=this.hls.levels[e.level];if(t.audioGroupIds){var A=t.audioGroupIds[t.urlId];this.audioGroupId!==A&&(this.audioGroupId=A,this._selectInitialAudioTrack())}},t.prototype.onError=function(e){e.type===a.ErrorTypes.NETWORK_ERROR&&(e.fatal&&this.clearInterval(),e.details===a.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&(s.logger.warn("Network failure on audio-track id:",e.context.id),this._handleLoadError()))},Object.defineProperty(t.prototype,"audioTracks",{get:function(){return this.tracks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"audioTrack",{get:function(){return this._trackId},set:function(e){this._setAudioTrack(e),this._selectDefaultTrack=!1},enumerable:!0,configurable:!0}),t.prototype._setAudioTrack=function(e){if(this._trackId===e&&this.tracks[this._trackId].details)s.logger.debug("Same id as current audio-track passed, and track details available -> no-op");else if(e<0||e>=this.tracks.length)s.logger.warn("Invalid id passed to audio-track controller");else{var t=this.tracks[e];s.logger.log("Now switching to audio-track index "+e),this.clearInterval(),this._trackId=e;var A=t.url,r=t.type,n=t.id;this.hls.trigger(i.default.AUDIO_TRACK_SWITCHING,{id:n,type:r,url:A}),this._loadTrackDetailsIfNeeded(t)}},t.prototype.doTick=function(){this._updateTrack(this._trackId)},t.prototype._selectInitialAudioTrack=function(){var e=this,t=this.tracks;if(t.length){var A=this.tracks[this._trackId],r=null;if(A&&(r=A.name),this._selectDefaultTrack){var n=t.filter(function(e){return e.default});n.length?t=n:s.logger.warn("No default audio tracks defined")}var o=!1,l=function(){t.forEach(function(t){o||e.audioGroupId&&t.groupId!==e.audioGroupId||r&&r!==t.name||(e._setAudioTrack(t.id),o=!0)})};l(),o||(r=null,l()),o||(s.logger.error("No track found for running audio group-ID: "+this.audioGroupId),this.hls.trigger(i.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))}},t.prototype._needsTrackLoading=function(e){var t=e.details,A=e.url;return!(t&&!t.live)&&!!A},t.prototype._loadTrackDetailsIfNeeded=function(e){if(this._needsTrackLoading(e)){var t=e.url,A=e.id;s.logger.log("loading audio-track playlist for id: "+A),this.hls.trigger(i.default.AUDIO_TRACK_LOADING,{url:t,id:A})}},t.prototype._updateTrack=function(e){if(!(e<0||e>=this.tracks.length)){this.clearInterval(),this._trackId=e,s.logger.log("trying to update audio-track "+e);var t=this.tracks[e];this._loadTrackDetailsIfNeeded(t)}},t.prototype._handleLoadError=function(){this.trackIdBlacklist[this._trackId]=!0;var e=this._trackId,t=this.tracks[e],A=t.name,r=t.language,n=t.groupId;s.logger.warn("Loading failed on audio track id: "+e+", group-id: "+n+', name/language: "'+A+'" / "'+r+'"');for(var i=e,o=0;o<this.tracks.length;o++){if(!this.trackIdBlacklist[o])if(this.tracks[o].name===A){i=o;break}}i!==e?(s.logger.log("Attempting audio-track fallback id:",i,"group-id:",this.tracks[i].groupId),this._setAudioTrack(i)):s.logger.warn('No fallback audio-track found for name/language: "'+A+'" / "'+r+'"')},t}(o.default);t.default=l},"./src/controller/base-stream-controller.js":
/*!**************************************************!*\
  !*** ./src/controller/base-stream-controller.js ***!
  \**************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";(function(e){var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])},function(e,t){function A(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var i=A(/*! ../task-loop */"./src/task-loop.js"),o=A(/*! ./fragment-tracker */"./src/controller/fragment-tracker.js"),s=A(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),a=A(/*! ../utils/logger */"./src/utils/logger.js");t.State={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};var l=function(A){function r(){return null!==A&&A.apply(this,arguments)||this}return n(r,A),r.prototype.doTick=function(){},r.prototype.startLoad=function(){},r.prototype.stopLoad=function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragmentTracker.removeFragment(e)),this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=t.State.STOPPED},r.prototype._streamEnded=function(e,t){var A=this.fragCurrent,r=this.fragmentTracker;if(!t.live&&A&&!A.backtracked&&A.sn===t.endSN&&!e.nextStart){var n=r.getState(A);return n===o.FragmentState.PARTIAL||n===o.FragmentState.OK}return!1},r.prototype.onMediaSeeking=function(){var A=this.config,r=this.media,n=this.mediaBuffer,i=this.state,o=r?r.currentTime:null,l=s.BufferHelper.bufferInfo(n||r,o,this.config.maxBufferHole);if(e.isFinite(o)&&a.logger.log("media seeking to "+o.toFixed(3)),i===t.State.FRAG_LOADING){var u=this.fragCurrent;if(0===l.len&&u){var c=A.maxFragLookUpTolerance,d=u.start-c,f=u.start+u.duration+c;o<d||o>f?(u.loader&&(a.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),u.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=t.State.IDLE):a.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else i===t.State.ENDED&&(0===l.len&&(this.fragPrevious=null,this.fragCurrent=null),this.state=t.State.IDLE);r&&(this.lastCurrentTime=o),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=o),this.tick()},r.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},r.prototype.onHandlerDestroying=function(){this.stopLoad(),A.prototype.onHandlerDestroying.call(this)},r.prototype.onHandlerDestroyed=function(){this.state=t.State.STOPPED,this.fragmentTracker=null},r}(i.default);t.default=l}).call(this,A(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/buffer-controller.js":
/*!*********************************************!*\
  !*** ./src/controller/buffer-controller.js ***!
  \*********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";(function(e){var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])},function(e,t){function A(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var i=A(/*! ../events */"./src/events.js"),o=A(/*! ../event-handler */"./src/event-handler.js"),s=A(/*! ../utils/logger */"./src/utils/logger.js"),a=A(/*! ../errors */"./src/errors.js"),l=A(/*! ../utils/mediasource-helper */"./src/utils/mediasource-helper.js").getMediaSource(),u=function(t){function A(e){var A=t.call(this,e,i.default.MEDIA_ATTACHING,i.default.MEDIA_DETACHING,i.default.MANIFEST_PARSED,i.default.BUFFER_RESET,i.default.BUFFER_APPENDING,i.default.BUFFER_CODECS,i.default.BUFFER_EOS,i.default.BUFFER_FLUSHING,i.default.LEVEL_PTS_UPDATED,i.default.LEVEL_UPDATED)||this;return A._msDuration=null,A._levelDuration=null,A._levelTargetDuration=10,A._live=null,A._objectUrl=null,A.bufferCodecEventsExpected=0,A.onsbue=A.onSBUpdateEnd.bind(A),A.onsbe=A.onSBUpdateError.bind(A),A.pendingTracks={},A.tracks={},A}return n(A,t),A.prototype.destroy=function(){o.default.prototype.destroy.call(this)},A.prototype.onLevelPtsUpdated=function(e){var t=e.type,A=this.tracks.audio;if("audio"===t&&A&&"audio/mpeg"===A.container){var r=this.sourceBuffer.audio;if(Math.abs(r.timestampOffset-e.start)>.1){var n=r.updating;try{r.abort()}catch(e){s.logger.warn("can not abort audio buffer: "+e)}n?this.audioTimestampOffset=e.start:(s.logger.warn("change mpeg audio timestamp offset from "+r.timestampOffset+" to "+e.start),r.timestampOffset=e.start)}}},A.prototype.onManifestParsed=function(e){this.bufferCodecEventsExpected=e.altAudio?2:1,s.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},A.prototype.onMediaAttaching=function(e){var t=this.media=e.media;if(t){var A=this.mediaSource=new l;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),A.addEventListener("sourceopen",this.onmso),A.addEventListener("sourceended",this.onmse),A.addEventListener("sourceclose",this.onmsc),t.src=window.URL.createObjectURL(A),this._objectUrl=t.src}},A.prototype.onMediaDetaching=function(){s.logger.log("media source detaching");var e=this.mediaSource;if(e){if("open"===e.readyState)try{e.endOfStream()}catch(e){s.logger.warn("onMediaDetaching:"+e.message+" while calling endOfStream")}e.removeEventListener("sourceopen",this.onmso),e.removeEventListener("sourceended",this.onmse),e.removeEventListener("sourceclose",this.onmsc),this.media&&(window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):s.logger.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(i.default.MEDIA_DETACHED)},A.prototype.onMediaSourceOpen=function(){s.logger.log("media source opened"),this.hls.trigger(i.default.MEDIA_ATTACHED,{media:this.media});var e=this.mediaSource;e&&e.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()},A.prototype.checkPendingTracks=function(){var e=this.bufferCodecEventsExpected,t=this.pendingTracks,A=Object.keys(t).length;(A&&!e||2===A)&&(this.createSourceBuffers(t),this.pendingTracks={},this.doAppending())},A.prototype.onMediaSourceClose=function(){s.logger.log("media source closed")},A.prototype.onMediaSourceEnded=function(){s.logger.log("media source ended")},A.prototype.onSBUpdateEnd=function(){if(this.audioTimestampOffset){var e=this.sourceBuffer.audio;s.logger.warn("change mpeg audio timestamp offset from "+e.timestampOffset+" to "+this.audioTimestampOffset),e.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var t=this.parent,A=this.segments.reduce(function(e,A){return A.parent===t?e+1:e},0),r={},n=this.sourceBuffer;for(var o in n)r[o]=n[o].buffered;this.hls.trigger(i.default.BUFFER_APPENDED,{parent:t,pending:A,timeRanges:r}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration(),0===A&&this.flushLiveBackBuffer()},A.prototype.onSBUpdateError=function(e){s.logger.error("sourceBuffer error:",e),this.hls.trigger(i.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},A.prototype.onBufferReset=function(){var e=this.sourceBuffer;for(var t in e){var A=e[t];try{this.mediaSource.removeSourceBuffer(A),A.removeEventListener("updateend",this.onsbue),A.removeEventListener("error",this.onsbe)}catch(e){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},A.prototype.onBufferCodecs=function(e){var t=this;if(!Object.keys(this.sourceBuffer).length){Object.keys(e).forEach(function(A){t.pendingTracks[A]=e[A]});var A=this.mediaSource;this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),A&&"open"===A.readyState&&this.checkPendingTracks()}},A.prototype.createSourceBuffers=function(e){var t=this.sourceBuffer,A=this.mediaSource;for(var r in e)if(!t[r]){var n=e[r],o=n.levelCodec||n.codec,l=n.container+";codecs="+o;s.logger.log("creating sourceBuffer("+l+")");try{var u=t[r]=A.addSourceBuffer(l);u.addEventListener("updateend",this.onsbue),u.addEventListener("error",this.onsbe),this.tracks[r]={codec:o,container:n.container},n.buffer=u}catch(e){s.logger.error("error while trying to add sourceBuffer:"+e.message),this.hls.trigger(i.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:e,mimeType:l})}}this.hls.trigger(i.default.BUFFER_CREATED,{tracks:e})},A.prototype.onBufferAppending=function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())},A.prototype.onBufferAppendFail=function(e){s.logger.error("sourceBuffer error:",e.event),this.hls.trigger(i.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},A.prototype.onBufferEos=function(e){var t=this.sourceBuffer,A=e.type;for(var r in t)A&&r!==A||t[r].ended||(t[r].ended=!0,s.logger.log(r+" sourceBuffer now EOS"));this.checkEos()},A.prototype.checkEos=function(){var e=this.sourceBuffer,t=this.mediaSource;if(t&&"open"===t.readyState){for(var A in e){var r=e[A];if(!r.ended)return;if(r.updating)return void(this._needsEos=!0)}s.logger.log("all media data are available, signal endOfStream() to MediaSource and stop loading fragment");try{t.endOfStream()}catch(e){s.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},A.prototype.onBufferFlushing=function(e){this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}),this.flushBufferCounter=0,this.doFlush()},A.prototype.flushLiveBackBuffer=function(){if(this._live){var e=this.hls.config.liveBackBufferLength;if(isFinite(e)&&!(e<0))for(var t=this.media.currentTime,A=this.sourceBuffer,r=Object.keys(A),n=t-Math.max(e,this._levelTargetDuration),i=r.length-1;i>=0;i--){var o=r[i],s=A[o].buffered;s.length>0&&n>s.start(0)&&this.removeBufferRange(o,A[o],0,n)}}},A.prototype.onLevelUpdated=function(e){var t=e.details;t.fragments.length>0&&(this._levelDuration=t.totalduration+t.fragments[0].start,this._levelTargetDuration=t.averagetargetduration||t.targetduration||10,this._live=t.live,this.updateMediaElementDuration())},A.prototype.updateMediaElementDuration=function(){var t,A=this.hls.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var r in this.sourceBuffer)if(!0===this.sourceBuffer[r].updating)return;t=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===A.liveDurationInfinity?(s.logger.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>t||!e.isFinite(t))&&(s.logger.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},A.prototype.doFlush=function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,A=this.sourceBuffer;try{for(var r in A)t+=A[r].buffered.length}catch(e){s.logger.error("error while accessing sourceBuffer.buffered")}this.appended=t,this.hls.trigger(i.default.BUFFER_FLUSHED)}},A.prototype.doAppending=function(){var e=this.hls,t=this.segments,A=this.sourceBuffer;if(Object.keys(A).length){if(this.media.error)return this.segments=[],void s.logger.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(t&&t.length){var r=t.shift();try{var n=A[r.type];n?n.updating?t.unshift(r):(n.ended=!1,this.parent=r.parent,n.appendBuffer(r.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(A){s.logger.error("error while trying to append buffer:"+A.message),t.unshift(r);var o={type:a.ErrorTypes.MEDIA_ERROR,parent:r.parent};22!==A.code?(this.appendError?this.appendError++:this.appendError=1,o.details=a.ErrorDetails.BUFFER_APPEND_ERROR,this.appendError>e.config.appendErrorMaxRetry?(s.logger.log("fail "+e.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),this.segments=[],o.fatal=!0,e.trigger(i.default.ERROR,o)):(o.fatal=!1,e.trigger(i.default.ERROR,o))):(this.segments=[],o.details=a.ErrorDetails.BUFFER_FULL_ERROR,o.fatal=!1,e.trigger(i.default.ERROR,o))}}}},A.prototype.flushBuffer=function(e,t,A){var r,n=this.sourceBuffer;if(Object.keys(n).length){if(s.logger.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+e+"/"+t),this.flushBufferCounter<this.appended){for(var i in n)if(!A||i===A){if((r=n[i]).ended=!1,r.updating)return s.logger.warn("cannot flush, sb updating in progress"),!1;if(this.removeBufferRange(i,r,e,t))return this.flushBufferCounter++,!1}}else s.logger.warn("abort flushing too many retries");s.logger.log("buffer flushed")}return!0},A.prototype.removeBufferRange=function(e,t,A,r){try{for(var n=0;n<t.buffered.length;n++){var i=t.buffered.start(n),o=t.buffered.end(n),a=Math.max(i,A),l=Math.min(o,r);if(Math.min(l,o)-a>.5)return s.logger.log("sb remove "+e+" ["+a+","+l+"], of ["+i+","+o+"], pos:"+this.media.currentTime),t.remove(a,l),!0}}catch(e){s.logger.warn("removeBufferRange failed",e)}return!1},A}(o.default);t.default=u}).call(this,A(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/cap-level-controller.js":
/*!************************************************!*\
  !*** ./src/controller/cap-level-controller.js ***!
  \************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";(function(e){var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])},function(e,t){function A(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var i=A(/*! ../events */"./src/events.js"),o=function(t){function A(A){var r=t.call(this,A,i.default.FPS_DROP_LEVEL_CAPPING,i.default.MEDIA_ATTACHING,i.default.MANIFEST_PARSED,i.default.BUFFER_CODECS,i.default.MEDIA_DETACHING)||this;return r.autoLevelCapping=e.POSITIVE_INFINITY,r.firstLevel=null,r.levels=[],r.media=null,r.restrictedLevels=[],r.timer=null,r}return n(A,t),A.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this._stopCapping())},A.prototype.onFpsDropLevelCapping=function(e){A.isLevelAllowed(e.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(e.droppedLevel)},A.prototype.onMediaAttaching=function(e){this.media=e.media instanceof window.HTMLVideoElement?e.media:null},A.prototype.onManifestParsed=function(e){var t=this.hls;this.restrictedLevels=[],this.levels=e.levels,this.firstLevel=e.firstLevel,t.config.capLevelToPlayerSize&&e.video&&this._startCapping()},A.prototype.onBufferCodecs=function(e){this.hls.config.capLevelToPlayerSize&&e.video&&this._startCapping()},A.prototype.onLevelsUpdated=function(e){this.levels=e.levels},A.prototype.onMediaDetaching=function(){this._stopCapping()},A.prototype.detectPlayerSize=function(){if(this.media){var e=this.levels?this.levels.length:0;if(e){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e-1),t.autoLevelCapping>this.autoLevelCapping&&t.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},A.prototype.getMaxLevel=function(e){var t=this;if(!this.levels)return-1;var r=this.levels.filter(function(r,n){return A.isLevelAllowed(n,t.restrictedLevels)&&n<=e});return A.getMaxLevelByMediaSize(r,this.mediaWidth,this.mediaHeight)},A.prototype._startCapping=function(){this.timer||(this.autoLevelCapping=e.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},A.prototype._stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=e.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},Object.defineProperty(A.prototype,"mediaWidth",{get:function(){var e,t=this.media;return t&&(e=t.width||t.clientWidth||t.offsetWidth,e*=A.contentScaleFactor),e},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"mediaHeight",{get:function(){var e,t=this.media;return t&&(e=t.height||t.clientHeight||t.offsetHeight,e*=A.contentScaleFactor),e},enumerable:!0,configurable:!0}),Object.defineProperty(A,"contentScaleFactor",{get:function(){var e=1;try{e=window.devicePixelRatio}catch(e){}return e},enumerable:!0,configurable:!0}),A.isLevelAllowed=function(e,t){return void 0===t&&(t=[]),-1===t.indexOf(e)},A.getMaxLevelByMediaSize=function(e,t,A){if(!e||e&&!e.length)return-1;for(var r,n,i=e.length-1,o=0;o<e.length;o+=1){var s=e[o];if((s.width>=t||s.height>=A)&&(r=s,!(n=e[o+1])||r.width!==n.width||r.height!==n.height)){i=o;break}}return i},A}(A(/*! ../event-handler */"./src/event-handler.js").default);t.default=o}).call(this,A(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/eme-controller.js":
/*!******************************************!*\
  !*** ./src/controller/eme-controller.js ***!
  \******************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])},function(e,t){function A(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var i=A(/*! ../event-handler */"./src/event-handler.js"),o=A(/*! ../events */"./src/events.js"),s=A(/*! ../errors */"./src/errors.js"),a=A(/*! ../utils/logger */"./src/utils/logger.js"),l=window.XMLHttpRequest,u="com.widevine.alpha",c="com.microsoft.playready",d=function(e){function t(t){var A=e.call(this,t,o.default.MEDIA_ATTACHED,o.default.MANIFEST_PARSED)||this;return A._widevineLicenseUrl=t.config.widevineLicenseUrl,A._licenseXhrSetup=t.config.licenseXhrSetup,A._emeEnabled=t.config.emeEnabled,A._requestMediaKeySystemAccess=t.config.requestMediaKeySystemAccessFunc,A._mediaKeysList=[],A._media=null,A._hasSetMediaKeys=!1,A._isMediaEncrypted=!1,A._requestLicenseFailureCount=0,A}return n(t,e),t.prototype.getLicenseServerUrl=function(e){var t;switch(e){case u:t=this._widevineLicenseUrl;break;default:t=null}return t||(a.logger.error('No license server URL configured for key-system "'+e+'"'),this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})),t},t.prototype._attemptKeySystemAccess=function(e,t,A){var r=this,n=function(e,t,A){switch(e){case u:return function(e,t,A){var r={videoCapabilities:[]};return t.forEach(function(e){r.videoCapabilities.push({contentType:'video/mp4; codecs="'+e+'"'})}),[r]}(0,A);default:throw Error("Unknown key-system: "+e)}}(e,0,A);n?(a.logger.log("Requesting encrypted media key-system access"),this.requestMediaKeySystemAccess(e,n).then(function(t){r._onMediaKeySystemAccessObtained(e,t)}).catch(function(t){a.logger.error('Failed to obtain key-system "'+e+'" access:',t)})):a.logger.warn("Can not create config for key-system (maybe because platform is not supported):",e)},Object.defineProperty(t.prototype,"requestMediaKeySystemAccess",{get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess},enumerable:!0,configurable:!0}),t.prototype._onMediaKeySystemAccessObtained=function(e,t){var A=this;a.logger.log('Access for key-system "'+e+'" obtained');var r={mediaKeys:null,mediaKeysSession:null,mediaKeysSessionInitialized:!1,mediaKeySystemAccess:t,mediaKeySystemDomain:e};this._mediaKeysList.push(r),t.createMediaKeys().then(function(t){r.mediaKeys=t,a.logger.log('Media-keys created for key-system "'+e+'"'),A._onMediaKeysCreated()}).catch(function(e){a.logger.error("Failed to create media-keys:",e)})},t.prototype._onMediaKeysCreated=function(){var e=this;this._mediaKeysList.forEach(function(t){t.mediaKeysSession||(t.mediaKeysSession=t.mediaKeys.createSession(),e._onNewMediaKeySession(t.mediaKeysSession))})},t.prototype._onNewMediaKeySession=function(e){var t=this;a.logger.log("New key-system session "+e.sessionId),e.addEventListener("message",function(A){t._onKeySessionMessage(e,A.message)},!1)},t.prototype._onKeySessionMessage=function(e,t){a.logger.log("Got EME message event, creating license request"),this._requestLicense(t,function(t){a.logger.log("Received license data, updating key-session"),e.update(t)})},t.prototype._onMediaEncrypted=function(e,t){a.logger.log('Media is encrypted using "'+e+'" init data type'),this._isMediaEncrypted=!0,this._mediaEncryptionInitDataType=e,this._mediaEncryptionInitData=t,this._attemptSetMediaKeys(),this._generateRequestWithPreferredKeySession()},t.prototype._attemptSetMediaKeys=function(){if(!this._hasSetMediaKeys){var e=this._mediaKeysList[0];if(!e||!e.mediaKeys)return a.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});a.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(e.mediaKeys),this._hasSetMediaKeys=!0}},t.prototype._generateRequestWithPreferredKeySession=function(){var e=this,t=this._mediaKeysList[0];if(!t)return a.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(t.mediaKeysSessionInitialized)a.logger.warn("Key-Session already initialized but requested again");else{var A=t.mediaKeysSession;A||(a.logger.error("Fatal: Media is encrypted but no key-session existing"),this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0}));var r=this._mediaEncryptionInitDataType,n=this._mediaEncryptionInitData;a.logger.log('Generating key-session request for "'+r+'" init data type'),t.mediaKeysSessionInitialized=!0,A.generateRequest(r,n).then(function(){a.logger.debug("Key-session generation succeeded")}).catch(function(t){a.logger.error("Error generating key-session request:",t),e.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})})}},t.prototype._createLicenseXhr=function(e,t,A){var r=new l,n=this._licenseXhrSetup;try{if(n)try{n(r,e)}catch(t){r.open("POST",e,!0),n(r,e)}r.readyState||r.open("POST",e,!0)}catch(e){return a.logger.error("Error setting up key-system license XHR",e),void this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}return r.responseType="arraybuffer",r.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,r,e,t,A),r},t.prototype._onLicenseRequestReadyStageChange=function(e,t,A,r){switch(e.readyState){case 4:if(200===e.status)this._requestLicenseFailureCount=0,a.logger.log("License request succeeded"),r(e.response);else{if(a.logger.error("License Request XHR failed ("+t+"). Status: "+e.status+" ("+e.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount<=3){var n=3-this._requestLicenseFailureCount+1;return a.logger.warn("Retrying license request, "+n+" attempts left"),void this._requestLicense(A,r)}this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}}},t.prototype._generateLicenseRequestChallenge=function(e,t){var A;return e.mediaKeySystemDomain===c?a.logger.error("PlayReady is not supported (yet)"):e.mediaKeySystemDomain===u?A=t:a.logger.error("Unsupported key-system:",e.mediaKeySystemDomain),A},t.prototype._requestLicense=function(e,t){a.logger.log("Requesting content license for key-system");var A=this._mediaKeysList[0];if(!A)return a.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});var r=this.getLicenseServerUrl(A.mediaKeySystemDomain),n=this._createLicenseXhr(r,e,t);a.logger.log("Sending license request to URL: "+r),n.send(this._generateLicenseRequestChallenge(A,e))},t.prototype.onMediaAttached=function(e){var t=this;if(this._emeEnabled){var A=e.media;this._media=A,A.addEventListener("encrypted",function(e){t._onMediaEncrypted(e.initDataType,e.initData)})}},t.prototype.onManifestParsed=function(e){if(this._emeEnabled){var t=e.levels.map(function(e){return e.audioCodec}),A=e.levels.map(function(e){return e.videoCodec});this._attemptKeySystemAccess(u,t,A)}},t}(i.default);t.default=d},"./src/controller/fps-controller.js":
/*!******************************************!*\
  !*** ./src/controller/fps-controller.js ***!
  \******************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])},function(e,t){function A(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var i=A(/*! ../events */"./src/events.js"),o=A(/*! ../event-handler */"./src/event-handler.js"),s=A(/*! ../utils/logger */"./src/utils/logger.js"),a=window.performance,l=function(e){function t(t){return e.call(this,t,i.default.MEDIA_ATTACHING)||this}return n(t,e),t.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},t.prototype.onMediaAttaching=function(e){var t=this.hls.config;t.capLevelOnFPSDrop&&("function"==typeof(this.video=e.media instanceof window.HTMLVideoElement?e.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),t.fpsDroppedMonitoringPeriod))},t.prototype.checkFPS=function(e,t,A){var r=a.now();if(t){if(this.lastTime){var n=r-this.lastTime,o=A-this.lastDroppedFrames,l=t-this.lastDecodedFrames,u=1e3*o/n,c=this.hls;if(c.trigger(i.default.FPS_DROP,{currentDropped:o,currentDecoded:l,totalDroppedFrames:A}),u>0&&o>c.config.fpsDroppedMonitoringThreshold*l){var d=c.currentLevel;s.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+d),d>0&&(-1===c.autoLevelCapping||c.autoLevelCapping>=d)&&(d-=1,c.trigger(i.default.FPS_DROP_LEVEL_CAPPING,{level:d,droppedLevel:c.currentLevel}),c.autoLevelCapping=d,c.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=A,this.lastDecodedFrames=t}},t.prototype.checkFPSInterval=function(){var e=this.video;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},t}(o.default);t.default=l},"./src/controller/fragment-finders.js":
/*!********************************************!*\
  !*** ./src/controller/fragment-finders.js ***!
  \********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=A(/*! ../utils/binary-search */"./src/utils/binary-search.js");function n(e,t,A){void 0===e&&(e=0),void 0===t&&(t=0);var r=Math.min(t,A.duration+(A.deltaPTS?A.deltaPTS:0));return A.start+A.duration-r<=e?1:A.start-r>e&&A.start?-1:0}function i(e,t,A){var r=1e3*Math.min(t,A.duration+(A.deltaPTS?A.deltaPTS:0));return A.endProgramDateTime-r>e}t.findFragmentByPDT=function(t,A,r){if(!Array.isArray(t)||!t.length||!e.isFinite(A))return null;if(A<t[0].programDateTime)return null;if(A>=t[t.length-1].endProgramDateTime)return null;r=r||0;for(var n=0;n<t.length;++n){var o=t[n];if(i(A,r,o))return o}return null},t.findFragmentByPTS=function(e,t,A,i){void 0===A&&(A=0),void 0===i&&(i=0);var o=e?t[e.sn-t[0].sn+1]:null;return o&&!n(A,i,o)?o:r.default.search(t,n.bind(null,A,i))},t.fragmentWithinToleranceTest=n,t.pdtWithinToleranceTest=i}).call(this,A(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/fragment-tracker.js":
/*!********************************************!*\
  !*** ./src/controller/fragment-tracker.js ***!
  \********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";(function(e){var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])},function(e,t){function A(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var i=A(/*! ../event-handler */"./src/event-handler.js"),o=A(/*! ../events */"./src/events.js");t.FragmentState={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};var s=function(A){function r(e){var t=A.call(this,e,o.default.BUFFER_APPENDED,o.default.FRAG_BUFFERED,o.default.FRAG_LOADED)||this;return t.bufferPadding=.2,t.fragments=Object.create(null),t.timeRanges=Object.create(null),t.config=e.config,t}return n(r,A),r.prototype.destroy=function(){this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.config=null,i.default.prototype.destroy.call(this),A.prototype.destroy.call(this)},r.prototype.getBufferedFrag=function(e,t){var A=this.fragments,r=Object.keys(A).filter(function(r){var n=A[r];if(n.body.type!==t)return!1;if(!n.buffered)return!1;var i=n.body;return i.startPTS<=e&&e<=i.endPTS});if(0===r.length)return null;var n=r.pop();return A[n].body},r.prototype.detectEvictedFragments=function(e,t){var A,r,n=this;Object.keys(this.fragments).forEach(function(i){var o=n.fragments[i];if(!0===o.buffered){var s=o.range[e];if(s){A=s.time;for(var a=0;a<A.length;a++)if(r=A[a],!1===n.isTimeBuffered(r.startPTS,r.endPTS,t)){n.removeFragment(o.body);break}}}})},r.prototype.detectPartialFragments=function(e){var t=this,A=this.getFragmentKey(e),r=this.fragments[A];r&&(r.buffered=!0,Object.keys(this.timeRanges).forEach(function(A){if(e.hasElementaryStream(A)){var n=t.timeRanges[A];r.range[A]=t.getBufferedTimes(e.startPTS,e.endPTS,n)}}))},r.prototype.getBufferedTimes=function(e,t,A){for(var r,n,i=[],o=!1,s=0;s<A.length;s++){if(r=A.start(s)-this.bufferPadding,n=A.end(s)+this.bufferPadding,e>=r&&t<=n){i.push({startPTS:Math.max(e,A.start(s)),endPTS:Math.min(t,A.end(s))});break}if(e<n&&t>r)i.push({startPTS:Math.max(e,A.start(s)),endPTS:Math.min(t,A.end(s))}),o=!0;else if(t<=r)break}return{time:i,partial:o}},r.prototype.getFragmentKey=function(e){return e.type+"_"+e.level+"_"+e.urlId+"_"+e.sn},r.prototype.getPartialFragment=function(e){var t,A,r,n=this,i=null,o=0;return Object.keys(this.fragments).forEach(function(s){var a=n.fragments[s];n.isPartial(a)&&(A=a.body.startPTS-n.bufferPadding,r=a.body.endPTS+n.bufferPadding,e>=A&&e<=r&&(t=Math.min(e-A,r-e),o<=t&&(i=a.body,o=t)))}),i},r.prototype.getState=function(e){var A=this.getFragmentKey(e),r=this.fragments[A],n=t.FragmentState.NOT_LOADED;return void 0!==r&&(n=r.buffered?!0===this.isPartial(r)?t.FragmentState.PARTIAL:t.FragmentState.OK:t.FragmentState.APPENDING),n},r.prototype.isPartial=function(e){return!0===e.buffered&&(void 0!==e.range.video&&!0===e.range.video.partial||void 0!==e.range.audio&&!0===e.range.audio.partial)},r.prototype.isTimeBuffered=function(e,t,A){for(var r,n,i=0;i<A.length;i++){if(r=A.start(i)-this.bufferPadding,n=A.end(i)+this.bufferPadding,e>=r&&t<=n)return!0;if(t<=r)return!1}return!1},r.prototype.onFragLoaded=function(t){var A=t.frag;e.isFinite(A.sn)&&!A.bitrateTest&&(this.fragments[this.getFragmentKey(A)]={body:A,range:Object.create(null),buffered:!1})},r.prototype.onBufferAppended=function(e){var t=this;this.timeRanges=e.timeRanges,Object.keys(this.timeRanges).forEach(function(e){var A=t.timeRanges[e];t.detectEvictedFragments(e,A)})},r.prototype.onFragBuffered=function(e){this.detectPartialFragments(e.frag)},r.prototype.hasFragment=function(e){var t=this.getFragmentKey(e);return void 0!==this.fragments[t]},r.prototype.removeFragment=function(e){var t=this.getFragmentKey(e);delete this.fragments[t]},r.prototype.removeAllFragments=function(){this.fragments=Object.create(null)},r}(i.default);t.FragmentTracker=s}).call(this,A(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/gap-controller.js":
/*!******************************************!*\
  !*** ./src/controller/gap-controller.js ***!
  \******************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=A(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),n=A(/*! ../errors */"./src/errors.js"),i=A(/*! ../events */"./src/events.js"),o=A(/*! ../utils/logger */"./src/utils/logger.js"),s=function(){function e(e,t,A,r){this.config=e,this.media=t,this.fragmentTracker=A,this.hls=r,this.stallReported=!1}return e.prototype.poll=function(e,t){var A=this.config,n=this.media,i=n.currentTime,s=window.performance.now();if(i!==e)return this.stallReported&&(o.logger.warn("playback not stuck anymore @"+i+", after "+Math.round(s-this.stalled)+"ms"),this.stallReported=!1),this.stalled=null,void(this.nudgeRetry=0);if(!(n.ended||!n.buffered.length||n.readyState>2||n.seeking&&r.BufferHelper.isBuffered(n,i))){var a=s-this.stalled,l=r.BufferHelper.bufferInfo(n,i,A.maxBufferHole);this.stalled?(a>=1e3&&this._reportStall(l.len),this._tryFixBufferStall(l,a)):this.stalled=s}},e.prototype._tryFixBufferStall=function(e,t){var A=this.config,r=this.fragmentTracker,n=this.media.currentTime,i=r.getPartialFragment(n);i&&this._trySkipBufferHole(i),e.len>.5&&t>1e3*A.highBufferWatchdogPeriod&&(this.stalled=null,this._tryNudgeBuffer())},e.prototype._reportStall=function(e){var t=this.hls,A=this.media;this.stallReported||(this.stallReported=!0,o.logger.warn("Playback stalling at @"+A.currentTime+" due to low buffer"),t.trigger(i.default.ERROR,{type:n.ErrorTypes.MEDIA_ERROR,details:n.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:e}))},e.prototype._trySkipBufferHole=function(e){for(var t=this.hls,A=this.media,r=A.currentTime,s=0,a=0;a<A.buffered.length;a++){var l=A.buffered.start(a);if(r>=s&&r<l)return A.currentTime=Math.max(l,A.currentTime+.1),o.logger.warn("skipping hole, adjusting currentTime from "+r+" to "+A.currentTime),this.stalled=null,void t.trigger(i.default.ERROR,{type:n.ErrorTypes.MEDIA_ERROR,details:n.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+r+" to "+A.currentTime,frag:e});s=A.buffered.end(a)}},e.prototype._tryNudgeBuffer=function(){var e=this.config,t=this.hls,A=this.media,r=A.currentTime,s=(this.nudgeRetry||0)+1;if(this.nudgeRetry=s,s<e.nudgeMaxRetry){var a=r+s*e.nudgeOffset;o.logger.log("adjust currentTime from "+r+" to "+a),A.currentTime=a,t.trigger(i.default.ERROR,{type:n.ErrorTypes.MEDIA_ERROR,details:n.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else o.logger.error("still stuck in high buffer @"+r+" after "+e.nudgeMaxRetry+", raise fatal error"),t.trigger(i.default.ERROR,{type:n.ErrorTypes.MEDIA_ERROR,details:n.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},e}();t.default=s},"./src/controller/id3-track-controller.js":
/*!************************************************!*\
  !*** ./src/controller/id3-track-controller.js ***!
  \************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])},function(e,t){function A(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var i=A(/*! ../events */"./src/events.js"),o=A(/*! ../event-handler */"./src/event-handler.js"),s=A(/*! ../demux/id3 */"./src/demux/id3.js"),a=A(/*! ../utils/texttrack-utils */"./src/utils/texttrack-utils.js"),l=function(e){function t(t){var A=e.call(this,t,i.default.MEDIA_ATTACHED,i.default.MEDIA_DETACHING,i.default.FRAG_PARSING_METADATA)||this;return A.id3Track=void 0,A.media=void 0,A}return n(t,e),t.prototype.destroy=function(){o.default.prototype.destroy.call(this)},t.prototype.onMediaAttached=function(e){this.media=e.media,this.media},t.prototype.onMediaDetaching=function(){a.clearCurrentCues(this.id3Track),this.id3Track=void 0,this.media=void 0},t.prototype.getID3Track=function(e){for(var t=0;t<e.length;t++){var A=e[t];if("metadata"===A.kind&&"id3"===A.label)return a.sendAddTrackEvent(A,this.media),A}return this.media.addTextTrack("metadata","id3")},t.prototype.onFragParsingMetadata=function(e){var t=e.frag,A=e.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var r=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,n=0;n<A.length;n++){var i=s.default.getID3Frames(A[n].data);if(i){var o=A[n].pts,a=n<A.length-1?A[n+1].pts:t.endPTS;o===a&&(a+=1e-4);for(var l=0;l<i.length;l++){var u=i[l];if(!s.default.isTimeStampFrame(u)){var c=new r(o,a,"");c.value=u,this.id3Track.addCue(c)}}}}},t}(o.default);t.default=l},"./src/controller/level-controller.js":
/*!********************************************!*\
  !*** ./src/controller/level-controller.js ***!
  \********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])},function(e,t){function A(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var i,o=A(/*! ../events */"./src/events.js"),s=A(/*! ../event-handler */"./src/event-handler.js"),a=A(/*! ../utils/logger */"./src/utils/logger.js"),l=A(/*! ../errors */"./src/errors.js"),u=A(/*! ../utils/codecs */"./src/utils/codecs.js"),c=A(/*! ./level-helper */"./src/controller/level-helper.js"),d=(window.performance,function(e){function t(t){var A=e.call(this,t,o.default.MANIFEST_LOADED,o.default.LEVEL_LOADED,o.default.AUDIO_TRACK_SWITCHED,o.default.FRAG_LOADED,o.default.ERROR)||this;return A.canload=!1,A.currentLevelIndex=null,A.manualLevelIndex=-1,A.timer=null,i=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),A}return n(t,e),t.prototype.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},t.prototype.clearTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.startLoad=function(){var e=this._levels;this.canload=!0,this.levelRetryCount=0,e&&e.forEach(function(e){e.loadError=0;var t=e.details;t&&t.live&&(e.details=void 0)}),null!==this.timer&&this.loadLevel()},t.prototype.stopLoad=function(){this.canload=!1},t.prototype.onManifestLoaded=function(e){var t,A=[],r=[],n={},s=null,d=!1,f=!1;if(e.levels.forEach(function(e){var t=e.attrs;e.loadError=0,e.fragmentError=!1,d=d||!!e.videoCodec,f=f||!!e.audioCodec,i&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0),(s=n[e.bitrate])?s.url.push(e.url):(e.url=[e.url],e.urlId=0,n[e.bitrate]=e,A.push(e)),t&&(t.AUDIO&&(f=!0,c.addGroupId(s||e,"audio",t.AUDIO)),t.SUBTITLES&&c.addGroupId(s||e,"text",t.SUBTITLES))}),d&&f&&(A=A.filter(function(e){return!!e.videoCodec})),A=A.filter(function(e){var t=e.audioCodec,A=e.videoCodec;return(!t||u.isCodecSupportedInMp4(t,"audio"))&&(!A||u.isCodecSupportedInMp4(A,"video"))}),e.audioTracks&&(r=e.audioTracks.filter(function(e){return!e.audioCodec||u.isCodecSupportedInMp4(e.audioCodec,"audio")})).forEach(function(e,t){e.id=t}),A.length>0){t=A[0].bitrate,A.sort(function(e,t){return e.bitrate-t.bitrate}),this._levels=A;for(var h=0;h<A.length;h++)if(A[h].bitrate===t){this._firstLevel=h,a.logger.log("manifest loaded,"+A.length+" level(s) found, first bitrate:"+t);break}this.hls.trigger(o.default.MANIFEST_PARSED,{levels:A,audioTracks:r,firstLevel:this._firstLevel,stats:e.stats,audio:f,video:d,altAudio:r.some(function(e){return!!e.url})})}else this.hls.trigger(o.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},Object.defineProperty(t.prototype,"levels",{get:function(){return this._levels},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this.currentLevelIndex},set:function(e){var t=this._levels;t&&(e=Math.min(e,t.length-1),this.currentLevelIndex===e&&t[e].details||this.setLevelInternal(e))},enumerable:!0,configurable:!0}),t.prototype.setLevelInternal=function(e){var t=this._levels,A=this.hls;if(e>=0&&e<t.length){if(this.clearTimer(),this.currentLevelIndex!==e){a.logger.log("switching to level "+e),this.currentLevelIndex=e;var r=t[e];r.level=e,A.trigger(o.default.LEVEL_SWITCHING,r)}var n=t[e],i=n.details;if(!i||i.live){var s=n.urlId;A.trigger(o.default.LEVEL_LOADING,{url:n.url[s],level:e,id:s})}}else A.trigger(o.default.ERROR,{type:l.ErrorTypes.OTHER_ERROR,details:l.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:"invalid level idx"})},Object.defineProperty(t.prototype,"manualLevel",{get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstLevel",{get:function(){return this._firstLevel},set:function(e){this._firstLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startLevel",{get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e},enumerable:!0,configurable:!0}),t.prototype.onError=function(e){if(e.fatal)e.type===l.ErrorTypes.NETWORK_ERROR&&this.clearTimer();else{var t,A=!1,r=!1;switch(e.details){case l.ErrorDetails.FRAG_LOAD_ERROR:case l.ErrorDetails.FRAG_LOAD_TIMEOUT:case l.ErrorDetails.KEY_LOAD_ERROR:case l.ErrorDetails.KEY_LOAD_TIMEOUT:t=e.frag.level,r=!0;break;case l.ErrorDetails.LEVEL_LOAD_ERROR:case l.ErrorDetails.LEVEL_LOAD_TIMEOUT:t=e.context.level,A=!0;break;case l.ErrorDetails.REMUX_ALLOC_ERROR:t=e.level,A=!0}void 0!==t&&this.recoverLevel(e,t,A,r)}},t.prototype.recoverLevel=function(e,t,A,r){var n,i,o,s=this,l=this.hls.config,u=e.details,c=this._levels[t];if(c.loadError++,c.fragmentError=r,A){if(!(this.levelRetryCount+1<=l.levelLoadingMaxRetry))return a.logger.error("level controller, cannot recover from "+u+" error"),this.currentLevelIndex=null,this.clearTimer(),void(e.fatal=!0);i=Math.min(Math.pow(2,this.levelRetryCount)*l.levelLoadingRetryDelay,l.levelLoadingMaxRetryTimeout),this.timer=setTimeout(function(){return s.loadLevel()},i),e.levelRetry=!0,this.levelRetryCount++,a.logger.warn("level controller, "+u+", retry in "+i+" ms, current retry count is "+this.levelRetryCount)}(A||r)&&((n=c.url.length)>1&&c.loadError<n?(c.urlId=(c.urlId+1)%n,c.details=void 0,a.logger.warn("level controller, "+u+" for level "+t+": switching to redundant URL-id "+c.urlId)):-1===this.manualLevelIndex?(o=0===t?this._levels.length-1:t-1,a.logger.warn("level controller, "+u+": switch to "+o),this.hls.nextAutoLevel=this.currentLevelIndex=o):r&&(a.logger.warn("level controller, "+u+": reload a fragment"),this.currentLevelIndex=null))},t.prototype.onFragLoaded=function(e){var t=e.frag;if(void 0!==t&&"main"===t.type){var A=this._levels[t.level];void 0!==A&&(A.fragmentError=!1,A.loadError=0,this.levelRetryCount=0)}},t.prototype.onLevelLoaded=function(e){var t=this,A=e.level,r=e.details;if(A===this.currentLevelIndex){var n=this._levels[A];if(n.fragmentError||(n.loadError=0,this.levelRetryCount=0),r.live){var i=c.computeReloadInterval(n.details,r,e.stats.trequest);a.logger.log("live playlist, reload in "+Math.round(i)+" ms"),this.timer=setTimeout(function(){return t.loadLevel()},i)}else this.clearTimer()}},t.prototype.onAudioTrackSwitched=function(e){var t=this.hls.audioTracks[e.id].groupId,A=this.hls.levels[this.currentLevelIndex];if(A&&A.audioGroupIds){for(var r=-1,n=0;n<A.audioGroupIds.length;n++)if(A.audioGroupIds[n]===t){r=n;break}r!==A.urlId&&(A.urlId=r,this.startLoad())}},t.prototype.loadLevel=function(){if(a.logger.debug("call to loadLevel"),null!==this.currentLevelIndex&&this.canload){var e=this._levels[this.currentLevelIndex];if("object"==typeof e&&e.url.length>0){var t=this.currentLevelIndex,A=e.urlId,r=e.url[A];a.logger.log("Attempt loading level index "+t+" with URL-id "+A),this.hls.trigger(o.default.LEVEL_LOADING,{url:r,level:t,id:A})}}},Object.defineProperty(t.prototype,"nextLoadLevel",{get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)},enumerable:!0,configurable:!0}),t}(s.default));t.default=d},"./src/controller/level-helper.js":
/*!****************************************!*\
  !*** ./src/controller/level-helper.js ***!
  \****************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=A(/*! ../utils/logger */"./src/utils/logger.js");function n(t,A,n){var i=t[A],o=t[n],s=o.startPTS;e.isFinite(s)?n>A?(i.duration=s-i.start,i.duration<0&&r.logger.warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!")):(o.duration=i.start-s,o.duration<0&&r.logger.warn("negative duration computed for frag "+o.sn+",level "+o.level+", there should be some duration drift between playlist and fragment!")):o.start=n>A?i.start+i.duration:Math.max(i.start-o.duration,0)}function i(t,A,r,i,o,s){var a=r;if(e.isFinite(A.startPTS)){var l=Math.abs(A.startPTS-r);e.isFinite(A.deltaPTS)?A.deltaPTS=Math.max(l,A.deltaPTS):A.deltaPTS=l,a=Math.max(r,A.startPTS),r=Math.min(r,A.startPTS),i=Math.max(i,A.endPTS),o=Math.min(o,A.startDTS),s=Math.max(s,A.endDTS)}var u=r-A.start;A.start=A.startPTS=r,A.maxStartPTS=a,A.endPTS=i,A.startDTS=o,A.endDTS=s,A.duration=i-r;var c,d,f,h=A.sn;if(!t||h<t.startSN||h>t.endSN)return 0;for(c=h-t.startSN,(d=t.fragments)[c]=A,f=c;f>0;f--)n(d,f,f-1);for(f=c;f<d.length-1;f++)n(d,f,f+1);return t.PTSKnown=!0,u}function o(e,t,A){if(e&&t)for(var r=Math.max(e.startSN,t.startSN)-t.startSN,n=Math.min(e.endSN,t.endSN)-t.startSN,i=t.startSN-e.startSN,o=r;o<=n;o++){var s=e.fragments[i+o],a=t.fragments[o];if(!s||!a)break;A(s,a,o)}}function s(e,t){var A=t.startSN-e.startSN,r=e.fragments,n=t.fragments;if(!(A<0||A>r.length))for(var i=0;i<n.length;i++)n[i].start+=r[A].start}t.addGroupId=function(e,t,A){switch(t){case"audio":e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds.push(A);break;case"text":e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds.push(A)}},t.updatePTS=n,t.updateFragPTSDTS=i,t.mergeDetails=function(t,A){A.initSegment&&t.initSegment&&(A.initSegment=t.initSegment);var n,a=0;if(o(t,A,function(t,r){a=t.cc-r.cc,e.isFinite(t.startPTS)&&(r.start=r.startPTS=t.startPTS,r.endPTS=t.endPTS,r.duration=t.duration,r.backtracked=t.backtracked,r.dropped=t.dropped,n=r),A.PTSKnown=!0}),A.PTSKnown){if(a){r.logger.log("discontinuity sliding from playlist, take drift into account");for(var l=A.fragments,u=0;u<l.length;u++)l[u].cc+=a}n?i(A,n,n.startPTS,n.endPTS,n.startDTS,n.endDTS):s(t,A),A.PTSKnown=t.PTSKnown}},t.mergeSubtitlePlaylists=function(e,t,A){void 0===A&&(A=0);var r=-1;o(e,t,function(e,t,A){t.start=e.start,r=A});var n=t.fragments;if(r<0)n.forEach(function(e){e.start+=A});else for(var i=r+1;i<n.length;i++)n[i].start=n[i-1].start+n[i-1].duration},t.mapFragmentIntersection=o,t.adjustSliding=s,t.computeReloadInterval=function(e,t,A){var r=1e3*(t.averagetargetduration?t.averagetargetduration:t.targetduration),n=r/2;return e&&t.endSN===e.endSN&&(r=n),A&&(r=Math.max(n,r-(window.performance.now()-A))),Math.round(r)}}).call(this,A(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/stream-controller.js":
/*!*********************************************!*\
  !*** ./src/controller/stream-controller.js ***!
  \*********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";(function(e){var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])},function(e,t){function A(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var i=A(/*! ../utils/binary-search */"./src/utils/binary-search.js"),o=A(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),s=A(/*! ../demux/demuxer */"./src/demux/demuxer.js"),a=A(/*! ../events */"./src/events.js"),l=A(/*! ./fragment-tracker */"./src/controller/fragment-tracker.js"),u=A(/*! ../loader/fragment */"./src/loader/fragment.js"),c=A(/*! ../loader/playlist-loader */"./src/loader/playlist-loader.js"),d=A(/*! ./level-helper */"./src/controller/level-helper.js"),f=A(/*! ../utils/time-ranges */"./src/utils/time-ranges.js"),h=A(/*! ../errors */"./src/errors.js"),p=A(/*! ../utils/logger */"./src/utils/logger.js"),g=A(/*! ../utils/discontinuities */"./src/utils/discontinuities.js"),B=A(/*! ./fragment-finders */"./src/controller/fragment-finders.js"),m=A(/*! ./gap-controller */"./src/controller/gap-controller.js"),w=A(/*! ./base-stream-controller */"./src/controller/base-stream-controller.js"),E=function(t){function A(e,A){var r=t.call(this,e,a.default.MEDIA_ATTACHED,a.default.MEDIA_DETACHING,a.default.MANIFEST_LOADING,a.default.MANIFEST_PARSED,a.default.LEVEL_LOADED,a.default.KEY_LOADED,a.default.FRAG_LOADED,a.default.FRAG_LOAD_EMERGENCY_ABORTED,a.default.FRAG_PARSING_INIT_SEGMENT,a.default.FRAG_PARSING_DATA,a.default.FRAG_PARSED,a.default.ERROR,a.default.AUDIO_TRACK_SWITCHING,a.default.AUDIO_TRACK_SWITCHED,a.default.BUFFER_CREATED,a.default.BUFFER_APPENDED,a.default.BUFFER_FLUSHED)||this;return r.fragmentTracker=A,r.config=e.config,r.audioCodecSwap=!1,r._state=w.State.STOPPED,r.stallReported=!1,r.gapController=null,r}return n(A,t),A.prototype.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,A=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var r=A.startLevel;-1===r&&(r=0,this.bitrateTest=!0),this.level=A.nextLoadLevel=r,this.loadedmetadata=!1}t>0&&-1===e&&(p.logger.log("override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=w.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this.forceStartLoad=!0,this.state=w.State.STOPPED},A.prototype.stopLoad=function(){this.forceStartLoad=!1,t.prototype.stopLoad.call(this)},A.prototype.doTick=function(){switch(this.state){case w.State.BUFFER_FLUSHING:this.fragLoadError=0;break;case w.State.IDLE:this._doTickIdle();break;case w.State.WAITING_LEVEL:var e=this.levels[this.level];e&&e.details&&(this.state=w.State.IDLE);break;case w.State.FRAG_LOADING_WAITING_RETRY:var t=window.performance.now(),A=this.retryDate;(!A||t>=A||this.media&&this.media.seeking)&&(p.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=w.State.IDLE);break;case w.State.ERROR:case w.State.STOPPED:case w.State.FRAG_LOADING:case w.State.PARSING:case w.State.PARSED:case w.State.ENDED:}this._checkBuffer(),this._checkFragmentChanged()},A.prototype._doTickIdle=function(){var e=this.hls,t=e.config,A=this.media;if(void 0!==this.levelLastLoaded&&(A||!this.startFragRequested&&t.startFragPrefetch)){var r;r=this.loadedmetadata?A.currentTime:this.nextLoadPosition;var n=e.nextLoadLevel,i=this.levels[n];if(i){var s,l=i.bitrate;s=l?Math.max(8*t.maxBufferSize/l,t.maxBufferLength):t.maxBufferLength,s=Math.min(s,t.maxMaxBufferLength);var u=o.BufferHelper.bufferInfo(this.mediaBuffer?this.mediaBuffer:A,r,t.maxBufferHole),c=u.len;if(!(c>=s)){p.logger.trace("buffer length of "+c.toFixed(3)+" is below max of "+s.toFixed(3)+". checking for more payload ..."),this.level=e.nextLoadLevel=n;var d=i.details;if(!d||d.live&&this.levelLastLoaded!==n)this.state=w.State.WAITING_LEVEL;else{if(this._streamEnded(u,d)){var f={};return this.altAudio&&(f.type="video"),this.hls.trigger(a.default.BUFFER_EOS,f),void(this.state=w.State.ENDED)}this._fetchPayloadOrEos(r,u,d)}}}}},A.prototype._fetchPayloadOrEos=function(e,t,A){var r=this.fragPrevious,n=this.level,i=A.fragments,o=i.length;if(0!==o){var s,a=i[0].start,l=i[o-1].start+i[o-1].duration,u=t.end;if(A.initSegment&&!A.initSegment.data)s=A.initSegment;else if(A.live){var c=this.config.initialLiveManifestSize;if(o<c)return void p.logger.warn("Can not start playback of a level, reason: not enough fragments "+o+" < "+c);if(null===(s=this._ensureFragmentAtLivePoint(A,u,a,l,r,i,o)))return}else u<a&&(s=i[0]);s||(s=this._findFragment(a,r,o,i,u,l,A)),s&&(s.encrypted?(p.logger.log("Loading key for "+s.sn+" of ["+A.startSN+" ,"+A.endSN+"],level "+n),this._loadKey(s)):(p.logger.log("Loading "+s.sn+" of ["+A.startSN+" ,"+A.endSN+"],level "+n+", currentTime:"+e.toFixed(3)+",bufferEnd:"+u.toFixed(3)),this._loadFragment(s)))}},A.prototype._ensureFragmentAtLivePoint=function(e,t,A,r,n,o,s){var a,l=this.hls.config,u=this.media,c=void 0!==l.liveMaxLatencyDuration?l.liveMaxLatencyDuration:l.liveMaxLatencyDurationCount*e.targetduration;if(t<Math.max(A-l.maxFragLookUpTolerance,r-c)){var d=this.liveSyncPosition=this.computeLivePosition(A,e);p.logger.log("buffer end: "+t.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+d.toFixed(3)),t=d,u&&u.readyState&&u.duration>d&&(u.currentTime=d),this.nextLoadPosition=d}if(e.PTSKnown&&t>r&&u&&u.readyState)return null;if(this.startFragRequested&&!e.PTSKnown){if(n)if(e.hasProgramDateTime)p.logger.log("live playlist, switching playlist, load frag with same PDT: "+n.programDateTime),a=B.findFragmentByPDT(o,n.endProgramDateTime,l.maxFragLookUpTolerance);else{var f=n.sn+1;if(f>=e.startSN&&f<=e.endSN){var h=o[f-e.startSN];n.cc===h.cc&&(a=h,p.logger.log("live playlist, switching playlist, load frag with next SN: "+a.sn))}a||(a=i.default.search(o,function(e){return n.cc-e.cc}))&&p.logger.log("live playlist, switching playlist, load frag with same CC: "+a.sn)}a||(a=o[Math.min(s-1,Math.round(s/2))],p.logger.log("live playlist, switching playlist, unknown, load middle frag : "+a.sn))}return a},A.prototype._findFragment=function(e,t,A,r,n,i,o){var s,a=this.hls.config;if(n<i){var l=n>i-a.maxFragLookUpTolerance?0:a.maxFragLookUpTolerance;s=B.findFragmentByPTS(t,r,n,l)}else s=r[A-1];if(s){var u=s.sn-o.startSN,c=t&&s.level===t.level,d=r[u-1],f=r[u+1];if(t&&s.sn===t.sn)if(c&&!s.backtracked)if(s.sn<o.endSN){var h=t.deltaPTS;h&&h>a.maxBufferHole&&t.dropped&&u?(s=d,p.logger.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this")):(s=f,p.logger.log("SN just loaded, load next one: "+s.sn,s))}else s=null;else s.backtracked&&(f&&f.backtracked?(p.logger.warn("Already backtracked from fragment "+f.sn+", will not backtrack to fragment "+s.sn+". Loading fragment "+f.sn),s=f):(p.logger.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),s.dropped=0,d?(s=d).backtracked=!0:u&&(s=null)))}return s},A.prototype._loadKey=function(e){this.state=w.State.KEY_LOADING,this.hls.trigger(a.default.KEY_LOADING,{frag:e})},A.prototype._loadFragment=function(t){var A=this.fragmentTracker.getState(t);this.fragCurrent=t,this.startFragRequested=!0,e.isFinite(t.sn)&&!t.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),t.backtracked||A===l.FragmentState.NOT_LOADED||A===l.FragmentState.PARTIAL?(t.autoLevel=this.hls.autoLevelEnabled,t.bitrateTest=this.bitrateTest,this.hls.trigger(a.default.FRAG_LOADING,{frag:t}),this.demuxer||(this.demuxer=new s.default(this.hls,"main")),this.state=w.State.FRAG_LOADING):A===l.FragmentState.APPENDING&&this._reduceMaxBufferLength(t.duration)&&this.fragmentTracker.removeFragment(t)},Object.defineProperty(A.prototype,"state",{get:function(){return this._state},set:function(e){if(this.state!==e){var t=this.state;this._state=e,p.logger.log("main stream:"+t+"->"+e),this.hls.trigger(a.default.STREAM_STATE_TRANSITION,{previousState:t,nextState:e})}},enumerable:!0,configurable:!0}),A.prototype.getBufferedFrag=function(e){return this.fragmentTracker.getBufferedFrag(e,c.default.LevelType.MAIN)},Object.defineProperty(A.prototype,"currentLevel",{get:function(){var e=this.media;if(e){var t=this.getBufferedFrag(e.currentTime);if(t)return t.level}return-1},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"nextBufferedFrag",{get:function(){var e=this.media;return e?this.followingBufferedFrag(this.getBufferedFrag(e.currentTime)):null},enumerable:!0,configurable:!0}),A.prototype.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.endPTS+.5):null},Object.defineProperty(A.prototype,"nextLevel",{get:function(){var e=this.nextBufferedFrag;return e?e.level:-1},enumerable:!0,configurable:!0}),A.prototype._checkFragmentChanged=function(){var e,t,A=this.media;if(A&&A.readyState&&!1===A.seeking&&((t=A.currentTime)>this.lastCurrentTime&&(this.lastCurrentTime=t),o.BufferHelper.isBuffered(A,t)?e=this.getBufferedFrag(t):o.BufferHelper.isBuffered(A,t+.1)&&(e=this.getBufferedFrag(t+.1)),e)){var r=e;if(r!==this.fragPlaying){this.hls.trigger(a.default.FRAG_CHANGED,{frag:r});var n=r.level;this.fragPlaying&&this.fragPlaying.level===n||this.hls.trigger(a.default.LEVEL_SWITCHED,{level:n}),this.fragPlaying=r}}},A.prototype.immediateLevelSwitch=function(){if(p.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var t=this.media,A=void 0;t?(A=t.paused,t.pause()):A=!0,this.previouslyPaused=A}var r=this.fragCurrent;r&&r.loader&&r.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,e.POSITIVE_INFINITY)},A.prototype.immediateLevelSwitchEnd=function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,o.BufferHelper.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())},A.prototype.nextLevelSwitch=function(){var t=this.media;if(t&&t.readyState){var A,r=void 0,n=void 0;if((A=this.getBufferedFrag(t.currentTime))&&A.startPTS>1&&this.flushMainBuffer(0,A.startPTS-1),t.paused)r=0;else{var i=this.hls.nextLoadLevel,o=this.levels[i],s=this.fragLastKbps;r=s&&this.fragCurrent?this.fragCurrent.duration*o.bitrate/(1e3*s)+1:0}if((n=this.getBufferedFrag(t.currentTime+r))&&(n=this.followingBufferedFrag(n))){var a=this.fragCurrent;a&&a.loader&&a.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(n.maxStartPTS,e.POSITIVE_INFINITY)}}},A.prototype.flushMainBuffer=function(e,t){this.state=w.State.BUFFER_FLUSHING;var A={startOffset:e,endOffset:t};this.altAudio&&(A.type="video"),this.hls.trigger(a.default.BUFFER_FLUSHING,A)},A.prototype.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("seeked",this.onvseeked),t.addEventListener("ended",this.onvended);var A=this.config;this.levels&&A.autoStartLoad&&this.hls.startLoad(A.startPosition),this.gapController=new m.default(A,t,this.fragmentTracker,this.hls)},A.prototype.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(p.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.levels;t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.backtracked=void 0})}),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("seeked",this.onvseeked),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},A.prototype.onMediaSeeked=function(){var t=this.media,A=t?t.currentTime:void 0;e.isFinite(A)&&p.logger.log("media seeked to "+A.toFixed(3)),this.tick()},A.prototype.onManifestLoading=function(){p.logger.log("trigger BUFFER_RESET"),this.hls.trigger(a.default.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},A.prototype.onManifestParsed=function(e){var t,A=!1,r=!1;e.levels.forEach(function(e){(t=e.audioCodec)&&(-1!==t.indexOf("mp4a.40.2")&&(A=!0),-1!==t.indexOf("mp4a.40.5")&&(r=!0))}),this.audioCodecSwitch=A&&r,this.audioCodecSwitch&&p.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1;var n=this.config;(n.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(n.startPosition)},A.prototype.onLevelLoaded=function(t){var A=t.details,r=t.level,n=this.levels[this.levelLastLoaded],i=this.levels[r],o=A.totalduration,s=0;if(p.logger.log("level "+r+" loaded ["+A.startSN+","+A.endSN+"],duration:"+o),A.live){var l=i.details;l&&A.fragments.length>0?(d.mergeDetails(l,A),s=A.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(s,l),A.PTSKnown&&e.isFinite(s)?p.logger.log("live playlist sliding:"+s.toFixed(3)):(p.logger.log("live playlist - outdated PTS, unknown sliding"),g.alignStream(this.fragPrevious,n,A))):(p.logger.log("live playlist - first load, unknown sliding"),A.PTSKnown=!1,g.alignStream(this.fragPrevious,n,A))}else A.PTSKnown=!1;if(i.details=A,this.levelLastLoaded=r,this.hls.trigger(a.default.LEVEL_UPDATED,{details:A,level:r}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var u=A.startTimeOffset;e.isFinite(u)?(u<0&&(p.logger.log("negative start time offset "+u+", count from end of last fragment"),u=s+o+u),p.logger.log("start time offset found in playlist, adjust startPosition to "+u),this.startPosition=u):A.live?(this.startPosition=this.computeLivePosition(s,A),p.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===w.State.WAITING_LEVEL&&(this.state=w.State.IDLE),this.tick()},A.prototype.onKeyLoaded=function(){this.state===w.State.KEY_LOADING&&(this.state=w.State.IDLE,this.tick())},A.prototype.onFragLoaded=function(e){var t=this.fragCurrent,A=this.hls,r=this.levels,n=this.media,i=e.frag;if(this.state===w.State.FRAG_LOADING&&t&&"main"===i.type&&i.level===t.level&&i.sn===t.sn){var o=e.stats,l=r[t.level],u=l.details;if(this.bitrateTest=!1,this.stats=o,p.logger.log("Loaded "+t.sn+" of ["+u.startSN+" ,"+u.endSN+"],level "+t.level),i.bitrateTest&&A.nextLoadLevel)this.state=w.State.IDLE,this.startFragRequested=!1,o.tparsed=o.tbuffered=window.performance.now(),A.trigger(a.default.FRAG_BUFFERED,{stats:o,frag:t,id:"main"}),this.tick();else if("initSegment"===i.sn)this.state=w.State.IDLE,o.tparsed=o.tbuffered=window.performance.now(),u.initSegment.data=e.payload,A.trigger(a.default.FRAG_BUFFERED,{stats:o,frag:t,id:"main"}),this.tick();else{p.logger.log("Parsing "+t.sn+" of ["+u.startSN+" ,"+u.endSN+"],level "+t.level+", cc "+t.cc),this.state=w.State.PARSING,this.pendingBuffering=!0,this.appended=!1,i.bitrateTest&&(i.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:i}));var c=!(n&&n.seeking)&&(u.PTSKnown||!u.live),d=u.initSegment?u.initSegment.data:[],f=this._getAudioCodec(l);(this.demuxer=this.demuxer||new s.default(this.hls,"main")).push(e.payload,d,f,l.videoCodec,t,u.totalduration,c)}}this.fragLoadError=0},A.prototype.onFragParsingInitSegment=function(e){var t=this.fragCurrent,A=e.frag;if(t&&"main"===e.id&&A.sn===t.sn&&A.level===t.level&&this.state===w.State.PARSING){var r=e.tracks,n=void 0,i=void 0;if(r.audio&&this.altAudio&&delete r.audio,i=r.audio){var o=this.levels[this.level].audioCodec,s=navigator.userAgent.toLowerCase();o&&this.audioCodecSwap&&(p.logger.log("swapping playlist audio codec"),o=-1!==o.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==i.metadata.channelCount&&-1===s.indexOf("firefox")&&(o="mp4a.40.5"),-1!==s.indexOf("android")&&"audio/mpeg"!==i.container&&(o="mp4a.40.2",p.logger.log("Android: force audio codec to "+o)),i.levelCodec=o,i.id=e.id}for(n in(i=r.video)&&(i.levelCodec=this.levels[this.level].videoCodec,i.id=e.id),this.hls.trigger(a.default.BUFFER_CODECS,r),r){i=r[n],p.logger.log("main track:"+n+",container:"+i.container+",codecs[level/parsed]=["+i.levelCodec+"/"+i.codec+"]");var l=i.initSegment;l&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(a.default.BUFFER_APPENDING,{type:n,data:l,parent:"main",content:"initSegment"}))}this.tick()}},A.prototype.onFragParsingData=function(t){var A=this,r=this.fragCurrent,n=t.frag;if(r&&"main"===t.id&&n.sn===r.sn&&n.level===r.level&&("audio"!==t.type||!this.altAudio)&&this.state===w.State.PARSING){var i=this.levels[this.level],o=r;if(e.isFinite(t.endPTS)||(t.endPTS=t.startPTS+r.duration,t.endDTS=t.startDTS+r.duration),!0===t.hasAudio&&o.addElementaryStream(u.default.ElementaryStreamTypes.AUDIO),!0===t.hasVideo&&o.addElementaryStream(u.default.ElementaryStreamTypes.VIDEO),p.logger.log("Parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb+",dropped:"+(t.dropped||0)),"video"===t.type)if(o.dropped=t.dropped,o.dropped)if(o.backtracked)p.logger.warn("Already backtracked on this fragment, appending with the gap",o.sn);else{var s=i.details;if(!s||o.sn!==s.startSN)return p.logger.warn("missing video frame(s), backtracking fragment",o.sn),this.fragmentTracker.removeFragment(o),o.backtracked=!0,this.nextLoadPosition=t.startPTS,this.state=w.State.IDLE,this.fragPrevious=o,void this.tick();p.logger.warn("missing video frame(s) on first frag, appending with gap",o.sn)}else o.backtracked=!1;var l=d.updateFragPTSDTS(i.details,o,t.startPTS,t.endPTS,t.startDTS,t.endDTS),c=this.hls;c.trigger(a.default.LEVEL_PTS_UPDATED,{details:i.details,level:this.level,drift:l,type:t.type,start:t.startPTS,end:t.endPTS}),[t.data1,t.data2].forEach(function(e){e&&e.length&&A.state===w.State.PARSING&&(A.appended=!0,A.pendingBuffering=!0,c.trigger(a.default.BUFFER_APPENDING,{type:t.type,data:e,parent:"main",content:"data"}))}),this.tick()}},A.prototype.onFragParsed=function(e){var t=this.fragCurrent,A=e.frag;t&&"main"===e.id&&A.sn===t.sn&&A.level===t.level&&this.state===w.State.PARSING&&(this.stats.tparsed=window.performance.now(),this.state=w.State.PARSED,this._checkAppendedParsed())},A.prototype.onAudioTrackSwitching=function(t){var A=!!t.url,r=t.id;if(!A){if(this.mediaBuffer!==this.media){p.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var n=this.fragCurrent;n.loader&&(p.logger.log("switching to main audio track, cancel main fragment load"),n.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=w.State.IDLE}var i=this.hls;i.trigger(a.default.BUFFER_FLUSHING,{startOffset:0,endOffset:e.POSITIVE_INFINITY,type:"audio"}),i.trigger(a.default.AUDIO_TRACK_SWITCHED,{id:r}),this.altAudio=!1}},A.prototype.onAudioTrackSwitched=function(e){var t=e.id,A=!!this.hls.audioTracks[t].url;if(A){var r=this.videoBuffer;r&&this.mediaBuffer!==r&&(p.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=r)}this.altAudio=A,this.tick()},A.prototype.onBufferCreated=function(e){var t,A,r=e.tracks,n=!1;for(var i in r){var o=r[i];"main"===o.id?(A=i,t=o,"video"===i&&(this.videoBuffer=r[i].buffer)):n=!0}n&&t?(p.logger.log("alternate track found, use "+A+".buffered to schedule main fragment loading"),this.mediaBuffer=t.buffer):this.mediaBuffer=this.media},A.prototype.onBufferAppended=function(e){if("main"===e.parent){var t=this.state;t!==w.State.PARSING&&t!==w.State.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},A.prototype._checkAppendedParsed=function(){if(!(this.state!==w.State.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent;if(e){var t=this.mediaBuffer?this.mediaBuffer:this.media;p.logger.log("main buffered : "+f.default.toString(t.buffered)),this.fragPrevious=e;var A=this.stats;A.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*A.total/(A.tbuffered-A.tfirst)),this.hls.trigger(a.default.FRAG_BUFFERED,{stats:A,frag:e,id:"main"}),this.state=w.State.IDLE}this.tick()}},A.prototype.onError=function(t){var A=t.frag||this.fragCurrent;if(!A||"main"===A.type){var r=!!this.media&&o.BufferHelper.isBuffered(this.media,this.media.currentTime)&&o.BufferHelper.isBuffered(this.media,this.media.currentTime+.5);switch(t.details){case h.ErrorDetails.FRAG_LOAD_ERROR:case h.ErrorDetails.FRAG_LOAD_TIMEOUT:case h.ErrorDetails.KEY_LOAD_ERROR:case h.ErrorDetails.KEY_LOAD_TIMEOUT:if(!t.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var n=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);p.logger.warn("mediaController: frag loading failed, retry in "+n+" ms"),this.retryDate=window.performance.now()+n,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=w.State.FRAG_LOADING_WAITING_RETRY}else p.logger.error("mediaController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=w.State.ERROR;break;case h.ErrorDetails.LEVEL_LOAD_ERROR:case h.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==w.State.ERROR&&(t.fatal?(this.state=w.State.ERROR,p.logger.warn("streamController: "+t.details+",switch to "+this.state+" state ...")):t.levelRetry||this.state!==w.State.WAITING_LEVEL||(this.state=w.State.IDLE));break;case h.ErrorDetails.BUFFER_FULL_ERROR:"main"!==t.parent||this.state!==w.State.PARSING&&this.state!==w.State.PARSED||(r?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=w.State.IDLE):(p.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,e.POSITIVE_INFINITY)))}}},A.prototype._reduceMaxBufferLength=function(e){var t=this.config;return t.maxMaxBufferLength>=e&&(t.maxMaxBufferLength/=2,p.logger.warn("main:reduce max buffer length to "+t.maxMaxBufferLength+"s"),!0)},A.prototype._checkBuffer=function(){var e=this.media;if(e&&0!==e.readyState){var t=(this.mediaBuffer?this.mediaBuffer:e).buffered;!this.loadedmetadata&&t.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,t)}},A.prototype.onFragLoadEmergencyAborted=function(){this.state=w.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},A.prototype.onBufferFlushed=function(){var e=this.mediaBuffer?this.mediaBuffer:this.media;e&&this.fragmentTracker.detectEvictedFragments(u.default.ElementaryStreamTypes.VIDEO,e.buffered),this.state=w.State.IDLE,this.fragPrevious=null},A.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},A.prototype.computeLivePosition=function(e,t){var A=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-A)},A.prototype._seekToStartPos=function(){var e=this.media,t=e.currentTime,A=e.seeking?t:this.startPosition;t!==A&&(p.logger.log("target start position not buffered, seek to buffered.start(0) "+A+" from current time "+t+" "),e.currentTime=A)},A.prototype._getAudioCodec=function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&(p.logger.log("swapping playlist audio codec"),t&&(t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),t},Object.defineProperty(A.prototype,"liveSyncPosition",{get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e},enumerable:!0,configurable:!0}),A}(w.default);t.default=E}).call(this,A(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/subtitle-stream-controller.js":
/*!******************************************************!*\
  !*** ./src/controller/subtitle-stream-controller.js ***!
  \******************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])},function(e,t){function A(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var i=A(/*! ../events */"./src/events.js"),o=A(/*! ../utils/logger */"./src/utils/logger.js"),s=A(/*! ../crypt/decrypter */"./src/crypt/decrypter.js"),a=A(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),l=A(/*! ./fragment-finders */"./src/controller/fragment-finders.js"),u=A(/*! ./fragment-tracker */"./src/controller/fragment-tracker.js"),c=A(/*! ./base-stream-controller */"./src/controller/base-stream-controller.js"),d=A(/*! ./level-helper */"./src/controller/level-helper.js"),f=window.performance,h=function(e){function t(t,A){var r=e.call(this,t,i.default.MEDIA_ATTACHED,i.default.MEDIA_DETACHING,i.default.ERROR,i.default.KEY_LOADED,i.default.FRAG_LOADED,i.default.SUBTITLE_TRACKS_UPDATED,i.default.SUBTITLE_TRACK_SWITCH,i.default.SUBTITLE_TRACK_LOADED,i.default.SUBTITLE_FRAG_PROCESSED,i.default.LEVEL_UPDATED)||this;return r.fragmentTracker=A,r.config=t.config,r.state=c.State.STOPPED,r.tracks=[],r.tracksBuffered=[],r.currentTrackId=-1,r.decrypter=new s.default(t,t.config),r.lastAVStart=0,r._onMediaSeeking=r.onMediaSeeking.bind(r),r}return n(t,e),t.prototype.onSubtitleFragProcessed=function(e){var t=e.frag,A=e.success;if(this.fragPrevious=t,this.state=c.State.IDLE,A){var r=this.tracksBuffered[this.currentTrackId];if(r){for(var n,i=t.start,o=0;o<r.length;o++)if(i>=r[o].start&&i<=r[o].end){n=r[o];break}var s=t.start+t.duration;n?n.end=s:(n={start:i,end:s},r.push(n))}}},t.prototype.onMediaAttached=function(e){var t=e.media;this.media=t,t.addEventListener("seeking",this._onMediaSeeking),this.state=c.State.IDLE},t.prototype.onMediaDetaching=function(){this.media.removeEventListener("seeking",this._onMediaSeeking),this.media=null,this.state=c.State.STOPPED},t.prototype.onError=function(e){var t=e.frag;t&&"subtitle"===t.type&&(this.state=c.State.IDLE)},t.prototype.onSubtitleTracksUpdated=function(e){var t=this;o.logger.log("subtitle tracks updated"),this.tracksBuffered=[],this.tracks=e.subtitleTracks,this.tracks.forEach(function(e){t.tracksBuffered[e.id]=[]})},t.prototype.onSubtitleTrackSwitch=function(e){if(this.currentTrackId=e.id,this.tracks&&-1!==this.currentTrackId){var t=this.tracks[this.currentTrackId];t&&t.details&&this.setInterval(500)}else this.clearInterval()},t.prototype.onSubtitleTrackLoaded=function(e){var t=e.id,A=e.details,r=this.currentTrackId,n=this.tracks,i=n[r];t>=n.length||t!==r||!i||(A.live&&d.mergeSubtitlePlaylists(i.details,A,this.lastAVStart),i.details=A,this.setInterval(500))},t.prototype.onKeyLoaded=function(){this.state===c.State.KEY_LOADING&&(this.state=c.State.IDLE)},t.prototype.onFragLoaded=function(e){var t=this.fragCurrent,A=e.frag.decryptdata,r=e.frag,n=this.hls;if(this.state===c.State.FRAG_LOADING&&t&&"subtitle"===e.frag.type&&t.sn===e.frag.sn&&e.payload.byteLength>0&&A&&A.key&&"AES-128"===A.method){var o=f.now();this.decrypter.decrypt(e.payload,A.key.buffer,A.iv.buffer,function(e){var t=f.now();n.trigger(i.default.FRAG_DECRYPTED,{frag:r,payload:e,stats:{tstart:o,tdecrypt:t}})})}},t.prototype.onLevelUpdated=function(e){var t=e.details.fragments;this.lastAVStart=t.length?t[0].start:0},t.prototype.doTick=function(){if(this.media)switch(this.state){case c.State.IDLE:var e=this,t=e.config,A=e.currentTrackId,r=e.fragmentTracker,n=e.media,s=e.tracks;if(!s||!s[A]||!s[A].details)break;var d=t.maxBufferHole,f=t.maxFragLookUpTolerance,h=Math.min(t.maxBufferLength,t.maxMaxBufferLength),p=a.BufferHelper.bufferedInfo(this._getBuffered(),n.currentTime,d),g=p.end,B=p.len,m=s[A].details,w=m.fragments,E=w.length,v=w[E-1].start+w[E-1].duration;if(B>h)return;var y=void 0,C=this.fragPrevious;g<v?(C&&m.hasProgramDateTime&&(y=l.findFragmentByPDT(w,C.endProgramDateTime,f)),y||(y=l.findFragmentByPTS(C,w,g,f))):y=w[E-1],y&&y.encrypted?(o.logger.log("Loading key for "+y.sn),this.state=c.State.KEY_LOADING,this.hls.trigger(i.default.KEY_LOADING,{frag:y})):y&&r.getState(y)===u.FragmentState.NOT_LOADED&&(this.fragCurrent=y,this.state=c.State.FRAG_LOADING,this.hls.trigger(i.default.FRAG_LOADING,{frag:y}))}else this.state=c.State.IDLE},t.prototype.stopLoad=function(){this.lastAVStart=0,e.prototype.stopLoad.call(this)},t.prototype._getBuffered=function(){return this.tracksBuffered[this.currentTrackId]||[]},t.prototype.onMediaSeeking=function(){this.fragPrevious=null},t}(c.default);t.SubtitleStreamController=h},"./src/controller/subtitle-track-controller.js":
/*!*****************************************************!*\
  !*** ./src/controller/subtitle-track-controller.js ***!
  \*****************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";(function(e){var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])},function(e,t){function A(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var i=A(/*! ../events */"./src/events.js"),o=A(/*! ../event-handler */"./src/event-handler.js"),s=A(/*! ../utils/logger */"./src/utils/logger.js"),a=A(/*! ./level-helper */"./src/controller/level-helper.js"),l=function(t){function A(e){var A=t.call(this,e,i.default.MEDIA_ATTACHED,i.default.MEDIA_DETACHING,i.default.MANIFEST_LOADED,i.default.SUBTITLE_TRACK_LOADED)||this;return A.tracks=[],A.trackId=-1,A.media=null,A.stopped=!0,A.subtitleDisplay=!0,A}return n(A,t),A.prototype.destroy=function(){o.default.prototype.destroy.call(this)},A.prototype.onMediaAttached=function(e){var t=this;this.media=e.media,this.media&&(this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,delete this.queuedDefaultTrack),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval(function(){t.trackChangeListener()},500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},A.prototype.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=null)},A.prototype.onManifestLoaded=function(e){var t=this,A=e.subtitles||[];this.tracks=A,this.hls.trigger(i.default.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:A}),A.forEach(function(e){e.default&&(t.media?t.subtitleTrack=e.id:t.queuedDefaultTrack=e.id)})},A.prototype.onSubtitleTrackLoaded=function(e){var t=this,A=e.id,r=e.details,n=this.trackId,i=this.tracks,o=i[n];if(A>=i.length||A!==n||!o||this.stopped)this._clearReloadTimer();else if(s.logger.log("subtitle track "+A+" loaded"),r.live){var l=a.computeReloadInterval(o.details,r,e.stats.trequest);s.logger.log("Reloading live subtitle playlist in "+l+"ms"),this.timer=setTimeout(function(){t._loadCurrentTrack()},l)}else this._clearReloadTimer()},A.prototype.startLoad=function(){this.stopped=!1,this._loadCurrentTrack()},A.prototype.stopLoad=function(){this.stopped=!0,this._clearReloadTimer()},Object.defineProperty(A.prototype,"subtitleTracks",{get:function(){return this.tracks},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"subtitleTrack",{get:function(){return this.trackId},set:function(e){this.trackId!==e&&(this._toggleTrackModes(e),this._setSubtitleTrackInternal(e))},enumerable:!0,configurable:!0}),A.prototype._clearReloadTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},A.prototype._loadCurrentTrack=function(){var e=this.trackId,t=this.tracks,A=this.hls,r=t[e];e<0||!r||r.details&&!r.details.live||(s.logger.log("Loading subtitle track "+e),A.trigger(i.default.SUBTITLE_TRACK_LOADING,{url:r.url,id:e}))},A.prototype._toggleTrackModes=function(e){var t=this.media,A=this.subtitleDisplay,r=this.trackId;if(t){var n=u(t.textTracks);if(-1===e)[].slice.call(n).forEach(function(e){e.mode="disabled"});else{var i=n[r];i&&(i.mode="disabled")}var o=n[e];o&&(o.mode=A?"showing":"hidden")}},A.prototype._setSubtitleTrackInternal=function(t){var A=this.hls,r=this.tracks;!e.isFinite(t)||t<-1||t>=r.length||(this.trackId=t,s.logger.log("Switching to subtitle track "+t),A.trigger(i.default.SUBTITLE_TRACK_SWITCH,{id:t}),this._loadCurrentTrack())},A.prototype._onTextTracksChanged=function(){if(this.media){for(var e=-1,t=u(this.media.textTracks),A=0;A<t.length;A++)if("hidden"===t[A].mode)e=A;else if("showing"===t[A].mode){e=A;break}this.subtitleTrack=e}},A}(o.default);function u(e){for(var t=[],A=0;A<e.length;A++){var r=e[A];"subtitles"===r.kind&&r.label&&t.push(e[A])}return t}t.default=l}).call(this,A(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/timeline-controller.js":
/*!***********************************************!*\
  !*** ./src/controller/timeline-controller.js ***!
  \***********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";(function(e){var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])},function(e,t){function A(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var i=A(/*! ../events */"./src/events.js"),o=A(/*! ../event-handler */"./src/event-handler.js"),s=A(/*! ../utils/cea-608-parser */"./src/utils/cea-608-parser.js"),a=A(/*! ../utils/output-filter */"./src/utils/output-filter.js"),l=A(/*! ../utils/webvtt-parser */"./src/utils/webvtt-parser.js"),u=A(/*! ../utils/logger */"./src/utils/logger.js"),c=A(/*! ../utils/texttrack-utils */"./src/utils/texttrack-utils.js");function d(e,t){return e&&e.label===t.name&&!(e.textTrack1||e.textTrack2)}var f=function(t){function A(e){var A=t.call(this,e,i.default.MEDIA_ATTACHING,i.default.MEDIA_DETACHING,i.default.FRAG_PARSING_USERDATA,i.default.FRAG_DECRYPTED,i.default.MANIFEST_LOADING,i.default.MANIFEST_LOADED,i.default.FRAG_LOADED,i.default.LEVEL_SWITCHING,i.default.INIT_PTS_FOUND)||this;if(A.hls=e,A.config=e.config,A.enabled=!0,A.Cues=e.config.cueHandler,A.textTracks=[],A.tracks=[],A.unparsedVttFrags=[],A.initPTS=[],A.cueRanges=[],A.captionsTracks={},A.captionsProperties={textTrack1:{label:A.config.captionsTextTrack1Label,languageCode:A.config.captionsTextTrack1LanguageCode},textTrack2:{label:A.config.captionsTextTrack2Label,languageCode:A.config.captionsTextTrack2LanguageCode}},A.config.enableCEA708Captions){var r=new a.default(A,"textTrack1"),n=new a.default(A,"textTrack2");A.cea608Parser=new s.default(0,r,n)}return A}return n(A,t),A.prototype.addCues=function(e,t,A,r){for(var n,i,o,s,a=this.cueRanges,l=!1,u=a.length;u--;){var c=a[u],d=(n=c[0],i=c[1],o=t,s=A,Math.min(i,s)-Math.max(n,o));if(d>=0&&(c[0]=Math.min(c[0],t),c[1]=Math.max(c[1],A),l=!0,d/(A-t)>.5))return}l||a.push([t,A]),this.Cues.newCue(this.captionsTracks[e],t,A,r)},A.prototype.onInitPtsFound=function(e){var t=this;if("main"===e.id&&(this.initPTS[e.frag.cc]=e.initPTS),this.unparsedVttFrags.length){var A=this.unparsedVttFrags;this.unparsedVttFrags=[],A.forEach(function(e){t.onFragLoaded(e)})}},A.prototype.getExistingTrack=function(e){var t=this.media;if(t)for(var A=0;A<t.textTracks.length;A++){var r=t.textTracks[A];if(r[e])return r}return null},A.prototype.createCaptionsTrack=function(e){var t=this.captionsProperties[e],A=t.label,r=t.languageCode,n=this.captionsTracks;if(!n[e]){var i=this.getExistingTrack(e);if(i)n[e]=i,c.clearCurrentCues(n[e]),c.sendAddTrackEvent(n[e],this.media);else{var o=this.createTextTrack("captions",A,r);o&&(o[e]=!0,n[e]=o)}}},A.prototype.createTextTrack=function(e,t,A){var r=this.media;if(r)return r.addTextTrack(e,t,A)},A.prototype.destroy=function(){o.default.prototype.destroy.call(this)},A.prototype.onMediaAttaching=function(e){this.media=e.media,this._cleanTracks()},A.prototype.onMediaDetaching=function(){var e=this.captionsTracks;Object.keys(e).forEach(function(t){c.clearCurrentCues(e[t]),delete e[t]})},A.prototype.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks()},A.prototype._cleanTracks=function(){var e=this.media;if(e){var t=e.textTracks;if(t)for(var A=0;A<t.length;A++)c.clearCurrentCues(t[A])}},A.prototype.onManifestLoaded=function(e){var t=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.cueRanges=[],this.config.enableWebVTT){this.tracks=e.subtitles||[];var A=this.media?this.media.textTracks:[];this.tracks.forEach(function(e,r){var n;if(r<A.length){for(var i=null,o=0;o<A.length;o++)if(d(A[o],e)){i=A[o];break}i&&(n=i)}n||(n=t.createTextTrack("subtitles",e.name,e.lang)),e.default?n.mode=t.hls.subtitleDisplay?"showing":"hidden":n.mode="disabled",t.textTracks.push(n)})}},A.prototype.onLevelSwitching=function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions},A.prototype.onFragLoaded=function(t){var A=t.frag,r=t.payload;if("main"===A.type){var n=A.sn;if(n!==this.lastSn+1){var o=this.cea608Parser;o&&o.reset()}this.lastSn=n}else if("subtitle"===A.type)if(r.byteLength){if(!e.isFinite(this.initPTS[A.cc]))return this.unparsedVttFrags.push(t),void(this.initPTS.length&&this.hls.trigger(i.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:A}));var s=A.decryptdata;null!=s&&null!=s.key&&"AES-128"===s.method||this._parseVTTs(A,r)}else this.hls.trigger(i.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:A})},A.prototype._parseVTTs=function(e,t){var A=this.vttCCs;A[e.cc]||(A[e.cc]={start:e.start,prevCC:this.prevCC,new:!0},this.prevCC=e.cc);var r=this.textTracks,n=this.hls;l.default.parse(t,this.initPTS[e.cc],A,e.cc,function(t){var A=r[e.level];"disabled"!==A.mode?(t.forEach(function(e){if(!A.cues.getCueById(e.id))try{A.addCue(e)}catch(r){var t=new window.TextTrackCue(e.startTime,e.endTime,e.text);t.id=e.id,A.addCue(t)}}),n.trigger(i.default.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})):n.trigger(i.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})},function(t){u.logger.log("Failed to parse VTT cue: "+t),n.trigger(i.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})})},A.prototype.onFragDecrypted=function(t){var A=t.payload,r=t.frag;if("subtitle"===r.type){if(!e.isFinite(this.initPTS[r.cc]))return void this.unparsedVttFrags.push(t);this._parseVTTs(r,A)}},A.prototype.onFragParsingUserdata=function(e){if(this.enabled&&this.config.enableCEA708Captions)for(var t=0;t<e.samples.length;t++){var A=this.extractCea608Data(e.samples[t].bytes);this.cea608Parser.addData(e.samples[t].pts,A)}},A.prototype.extractCea608Data=function(e){for(var t,A,r,n=31&e[0],i=2,o=[],s=0;s<n;s++)t=e[i++],A=127&e[i++],r=127&e[i++],0===A&&0===r||0!=(4&t)&&0===(3&t)&&(o.push(A),o.push(r));return o},A}(o.default);t.default=f}).call(this,A(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/crypt/aes-crypto.js":
/*!*********************************!*\
  !*** ./src/crypt/aes-crypto.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.subtle=e,this.aesIV=t}return e.prototype.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)},e}();t.default=r},"./src/crypt/aes-decryptor.js":
/*!************************************!*\
  !*** ./src/crypt/aes-decryptor.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";function r(e){var t=e.byteLength,A=t&&new DataView(e).getUint8(t-1);return A?e.slice(0,t-A):e}Object.defineProperty(t,"__esModule",{value:!0}),t.removePadding=r;var n=function(){function e(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return e.prototype.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),A=new Uint32Array(4),r=0;r<4;r++)A[r]=t.getUint32(4*r);return A},e.prototype.initTable=function(){var e=this.sBox,t=this.invSBox,A=this.subMix,r=A[0],n=A[1],i=A[2],o=A[3],s=this.invSubMix,a=s[0],l=s[1],u=s[2],c=s[3],d=new Uint32Array(256),f=0,h=0,p=0;for(p=0;p<256;p++)d[p]=p<128?p<<1:p<<1^283;for(p=0;p<256;p++){var g=h^h<<1^h<<2^h<<3^h<<4;g=g>>>8^255&g^99,e[f]=g,t[g]=f;var B=d[f],m=d[B],w=d[m],E=257*d[g]^16843008*g;r[f]=E<<24|E>>>8,n[f]=E<<16|E>>>16,i[f]=E<<8|E>>>24,o[f]=E,E=16843009*w^65537*m^257*B^16843008*f,a[g]=E<<24|E>>>8,l[g]=E<<16|E>>>16,u[g]=E<<8|E>>>24,c[g]=E,f?(f=B^d[d[d[w^B]]],h^=d[d[h]]):f=h=1}},e.prototype.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),A=!0,r=0;r<t.length&&A;)A=t[r]===this.key[r],r++;if(!A){this.key=t;var n=this.keySize=t.length;if(4!==n&&6!==n&&8!==n)throw new Error("Invalid aes key size="+n);var i,o,s,a,l=this.ksRows=4*(n+6+1),u=this.keySchedule=new Uint32Array(l),c=this.invKeySchedule=new Uint32Array(l),d=this.sBox,f=this.rcon,h=this.invSubMix,p=h[0],g=h[1],B=h[2],m=h[3];for(i=0;i<l;i++)i<n?s=u[i]=t[i]:(a=s,i%n==0?(a=d[(a=a<<8|a>>>24)>>>24]<<24|d[a>>>16&255]<<16|d[a>>>8&255]<<8|d[255&a],a^=f[i/n|0]<<24):n>6&&i%n==4&&(a=d[a>>>24]<<24|d[a>>>16&255]<<16|d[a>>>8&255]<<8|d[255&a]),u[i]=s=(u[i-n]^a)>>>0);for(o=0;o<l;o++)i=l-o,a=3&o?u[i]:u[i-4],c[o]=o<4||i<=4?a:p[d[a>>>24]]^g[d[a>>>16&255]]^B[d[a>>>8&255]]^m[d[255&a]],c[o]=c[o]>>>0}},e.prototype.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},e.prototype.decrypt=function(e,t,A,n){for(var i,o,s,a,l,u,c,d,f,h,p,g,B,m,w=this.keySize+6,E=this.invKeySchedule,v=this.invSBox,y=this.invSubMix,C=y[0],U=y[1],Q=y[2],F=y[3],T=this.uint8ArrayToUint32Array_(A),b=T[0],S=T[1],_=T[2],R=T[3],I=new Int32Array(e),L=new Int32Array(I.length),N=this.networkToHostOrderSwap;t<I.length;){for(f=N(I[t]),h=N(I[t+1]),p=N(I[t+2]),g=N(I[t+3]),l=f^E[0],u=g^E[1],c=p^E[2],d=h^E[3],B=4,m=1;m<w;m++)i=C[l>>>24]^U[u>>16&255]^Q[c>>8&255]^F[255&d]^E[B],o=C[u>>>24]^U[c>>16&255]^Q[d>>8&255]^F[255&l]^E[B+1],s=C[c>>>24]^U[d>>16&255]^Q[l>>8&255]^F[255&u]^E[B+2],a=C[d>>>24]^U[l>>16&255]^Q[u>>8&255]^F[255&c]^E[B+3],l=i,u=o,c=s,d=a,B+=4;i=v[l>>>24]<<24^v[u>>16&255]<<16^v[c>>8&255]<<8^v[255&d]^E[B],o=v[u>>>24]<<24^v[c>>16&255]<<16^v[d>>8&255]<<8^v[255&l]^E[B+1],s=v[c>>>24]<<24^v[d>>16&255]<<16^v[l>>8&255]<<8^v[255&u]^E[B+2],a=v[d>>>24]<<24^v[l>>16&255]<<16^v[u>>8&255]<<8^v[255&c]^E[B+3],B+=3,L[t]=N(i^b),L[t+1]=N(a^S),L[t+2]=N(s^_),L[t+3]=N(o^R),b=f,S=h,_=p,R=g,t+=4}return n?r(L.buffer):L.buffer},e.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},e}();t.default=n},"./src/crypt/decrypter.js":
/*!********************************!*\
  !*** ./src/crypt/decrypter.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=A(/*! ./aes-crypto */"./src/crypt/aes-crypto.js"),n=A(/*! ./fast-aes-key */"./src/crypt/fast-aes-key.js"),i=A(/*! ./aes-decryptor */"./src/crypt/aes-decryptor.js"),o=A(/*! ../errors */"./src/errors.js"),s=A(/*! ../utils/logger */"./src/utils/logger.js"),a=A(/*! ../events */"./src/events.js"),l=A(/*! ../utils/get-self-scope */"./src/utils/get-self-scope.js").getSelfScope(),u=function(){function e(e,t,A){var r=(void 0===A?{}:A).removePKCS7Padding,n=void 0===r||r;if(this.logEnabled=!0,this.observer=e,this.config=t,this.removePKCS7Padding=n,n)try{var i=l.crypto;i&&(this.subtle=i.subtle||i.webkitSubtle)}catch(e){}this.disableWebCrypto=!this.subtle}return e.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},e.prototype.decrypt=function(e,t,A,o){var a=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(s.logger.log("JS AES decrypt"),this.logEnabled=!1);var l=this.decryptor;l||(this.decryptor=l=new i.default),l.expandKey(t),o(l.decrypt(e,0,A,this.removePKCS7Padding))}else{this.logEnabled&&(s.logger.log("WebCrypto AES decrypt"),this.logEnabled=!1);var u=this.subtle;this.key!==t&&(this.key=t,this.fastAesKey=new n.default(u,t)),this.fastAesKey.expandKey().then(function(n){new r.default(u,A).decrypt(e,n).catch(function(r){a.onWebCryptoError(r,e,t,A,o)}).then(function(e){o(e)})}).catch(function(r){a.onWebCryptoError(r,e,t,A,o)})}},e.prototype.onWebCryptoError=function(e,t,A,r,n){this.config.enableSoftwareAES?(s.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(t,A,r,n)):(s.logger.error("decrypting error : "+e.message),this.observer.trigger(a.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))},e.prototype.destroy=function(){var e=this.decryptor;e&&(e.destroy(),this.decryptor=void 0)},e}();t.default=u},"./src/crypt/fast-aes-key.js":
/*!***********************************!*\
  !*** ./src/crypt/fast-aes-key.js ***!
  \***********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.subtle=e,this.key=t}return e.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},e}();t.default=r},"./src/demux/aacdemuxer.js":
/*!*********************************!*\
  !*** ./src/demux/aacdemuxer.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=A(/*! ./adts */"./src/demux/adts.js"),n=A(/*! ../utils/logger */"./src/utils/logger.js"),i=A(/*! ../demux/id3 */"./src/demux/id3.js"),o=function(){function t(e,t,A){this.observer=e,this.config=A,this.remuxer=t}return t.prototype.resetInitSegment=function(e,t,A,r){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:t,duration:r,inputTimeScale:9e4}},t.prototype.resetTimeStamp=function(){},t.probe=function(e){if(!e)return!1;for(var t=(i.default.getID3Data(e,0)||[]).length,A=e.length;t<A;t++)if(r.probe(e,t))return n.logger.log("ADTS sync word found !"),!0;return!1},t.prototype.append=function(t,A,o,s){for(var a=this._audioTrack,l=i.default.getID3Data(t,0)||[],u=i.default.getTimeStamp(l),c=e.isFinite(u)?90*u:9e4*A,d=0,f=c,h=t.length,p=l.length,g=[{pts:f,dts:f,data:l}];p<h-1;)if(r.isHeader(t,p)&&p+5<h){r.initTrackConfig(a,this.observer,t,p,a.manifestCodec);var B=r.appendFrame(a,t,p,c,d);if(!B){n.logger.log("Unable to parse AAC frame");break}p+=B.length,f=B.sample.pts,d++}else i.default.isHeader(t,p)?(l=i.default.getID3Data(t,p),g.push({pts:f,dts:f,data:l}),p+=l.length):p++;this.remuxer.remux(a,{samples:[]},{samples:g,inputTimeScale:9e4},{samples:[]},A,o,s)},t.prototype.destroy=function(){},t}();t.default=o}).call(this,A(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/demux/adts.js":
/*!***************************!*\
  !*** ./src/demux/adts.js ***!
  \***************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=A(/*! ../utils/logger */"./src/utils/logger.js"),n=A(/*! ../errors */"./src/errors.js"),i=A(/*! ../events */"./src/events.js");function o(e,t,A,o){var s,a,l,u,c,d=navigator.userAgent.toLowerCase(),f=o,h=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(s=1+((192&t[A+2])>>>6),!((a=(60&t[A+2])>>>2)>h.length-1))return u=(1&t[A+2])<<2,u|=(192&t[A+3])>>>6,r.logger.log("manifest codec:"+o+",ADTS data:type:"+s+",sampleingIndex:"+a+"["+h[a]+"Hz],channelConfig:"+u),/firefox/i.test(d)?a>=6?(s=5,c=new Array(4),l=a-3):(s=2,c=new Array(2),l=a):-1!==d.indexOf("android")?(s=2,c=new Array(2),l=a):(s=5,c=new Array(4),o&&(-1!==o.indexOf("mp4a.40.29")||-1!==o.indexOf("mp4a.40.5"))||!o&&a>=6?l=a-3:((o&&-1!==o.indexOf("mp4a.40.2")&&(a>=6&&1===u||/vivaldi/i.test(d))||!o&&1===u)&&(s=2,c=new Array(2)),l=a)),c[0]=s<<3,c[0]|=(14&a)>>1,c[1]|=(1&a)<<7,c[1]|=u<<3,5===s&&(c[1]|=(14&l)>>1,c[2]=(1&l)<<7,c[2]|=8,c[3]=0),{config:c,samplerate:h[a],channelCount:u,codec:"mp4a.40."+s,manifestCodec:f};e.trigger(i.default.ERROR,{type:n.ErrorTypes.MEDIA_ERROR,details:n.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+a})}function s(e,t){return 255===e[t]&&240==(246&e[t+1])}function a(e,t){return 1&e[t+1]?7:9}function l(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function u(e){return 9216e4/e}function c(e,t,A,r,n){var i,o,s=e.length;if(i=a(e,t),o=l(e,t),(o-=i)>0&&t+i+o<=s)return{headerLength:i,frameLength:o,stamp:A+r*n}}t.getAudioConfig=o,t.isHeaderPattern=s,t.getHeaderLength=a,t.getFullFrameLength=l,t.isHeader=function(e,t){return!!(t+1<e.length&&s(e,t))},t.probe=function(e,t){if(t+1<e.length&&s(e,t)){var A=a(e,t);t+5<e.length&&(A=l(e,t));var r=t+A;if(r===e.length||r+1<e.length&&s(e,r))return!0}return!1},t.initTrackConfig=function(e,t,A,n,i){if(!e.samplerate){var s=o(t,A,n,i);e.config=s.config,e.samplerate=s.samplerate,e.channelCount=s.channelCount,e.codec=s.codec,e.manifestCodec=s.manifestCodec,r.logger.log("parsed codec:"+e.codec+",rate:"+s.samplerate+",nb channel:"+s.channelCount)}},t.getFrameDuration=u,t.parseFrameHeader=c,t.appendFrame=function(e,t,A,r,n){var i=c(t,A,r,n,u(e.samplerate));if(i){var o=i.stamp,s=i.headerLength,a=i.frameLength,l={unit:t.subarray(A+s,A+s+a),pts:o,dts:o};return e.samples.push(l),e.len+=a,{sample:l,length:a+s}}}},"./src/demux/demuxer-inline.js":
/*!*************************************!*\
  !*** ./src/demux/demuxer-inline.js ***!
  \*************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,n=A(/*! ../events */"./src/events.js"),i=A(/*! ../errors */"./src/errors.js"),o=A(/*! ../crypt/decrypter */"./src/crypt/decrypter.js"),s=A(/*! ../demux/aacdemuxer */"./src/demux/aacdemuxer.js"),a=A(/*! ../demux/mp4demuxer */"./src/demux/mp4demuxer.js"),l=A(/*! ../demux/tsdemuxer */"./src/demux/tsdemuxer.js"),u=A(/*! ../demux/mp3demuxer */"./src/demux/mp3demuxer.js"),c=A(/*! ../remux/mp4-remuxer */"./src/remux/mp4-remuxer.js"),d=A(/*! ../remux/passthrough-remuxer */"./src/remux/passthrough-remuxer.js"),f=A(/*! ../utils/get-self-scope */"./src/utils/get-self-scope.js"),h=A(/*! ../utils/logger */"./src/utils/logger.js"),p=f.getSelfScope();try{r=p.performance.now.bind(p.performance)}catch(e){h.logger.debug("Unable to use Performance API on this environment"),r=p.Date.now}var g=function(){function e(e,t,A,r){this.observer=e,this.typeSupported=t,this.config=A,this.vendor=r}return e.prototype.destroy=function(){var e=this.demuxer;e&&e.destroy()},e.prototype.push=function(e,t,A,i,s,a,l,u,c,d,f,h){var p=this;if(e.byteLength>0&&null!=t&&null!=t.key&&"AES-128"===t.method){var g=this.decrypter;null==g&&(g=this.decrypter=new o.default(this.observer,this.config));var B=r();g.decrypt(e,t.key.buffer,t.iv.buffer,function(e){var o=r();p.observer.trigger(n.default.FRAG_DECRYPTED,{stats:{tstart:B,tdecrypt:o}}),p.pushDecrypted(new Uint8Array(e),t,new Uint8Array(A),i,s,a,l,u,c,d,f,h)})}else this.pushDecrypted(new Uint8Array(e),t,new Uint8Array(A),i,s,a,l,u,c,d,f,h)},e.prototype.pushDecrypted=function(e,t,A,r,o,f,h,p,g,B,m,w){var E=this.demuxer;if(!E||(h||p)&&!this.probe(e)){for(var v=this.observer,y=this.typeSupported,C=this.config,U=[{demux:l.default,remux:c.default},{demux:a.default,remux:d.default},{demux:s.default,remux:c.default},{demux:u.default,remux:c.default}],Q=0,F=U.length;Q<F;Q++){var T=U[Q],b=T.demux.probe;if(b(e)){var S=this.remuxer=new T.remux(v,C,y,this.vendor);E=new T.demux(v,S,C,y),this.probe=b;break}}if(!E)return void v.trigger(n.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=E}var _=this.remuxer;(h||p)&&(E.resetInitSegment(A,r,o,B),_.resetInitSegment()),h&&(E.resetTimeStamp(w),_.resetTimeStamp(w)),"function"==typeof E.setDecryptData&&E.setDecryptData(t),E.append(e,f,g,m)},e}();t.default=g},"./src/demux/demuxer-worker.js":
/*!*************************************!*\
  !*** ./src/demux/demuxer-worker.js ***!
  \*************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=A(/*! ../demux/demuxer-inline */"./src/demux/demuxer-inline.js"),n=A(/*! ../events */"./src/events.js"),i=A(/*! ../utils/logger */"./src/utils/logger.js"),o=A(/*! events */"./node_modules/node-libs-browser/node_modules/events/events.js");t.default=function(e){var t=new o.EventEmitter;t.trigger=function(e){for(var A=[],r=1;r<arguments.length;r++)A[r-1]=arguments[r];t.emit.apply(t,[e,e].concat(A))},t.off=function(e){for(var A=[],r=1;r<arguments.length;r++)A[r-1]=arguments[r];t.removeListener.apply(t,[e].concat(A))};var A=function(t,A){e.postMessage({event:t,data:A})};e.addEventListener("message",function(n){var o=n.data;switch(o.cmd){case"init":var s=JSON.parse(o.config);e.demuxer=new r.default(t,o.typeSupported,s,o.vendor),i.enableLogs(s.debug),A("init",null);break;case"demux":e.demuxer.push(o.data,o.decryptdata,o.initSegment,o.audioCodec,o.videoCodec,o.timeOffset,o.discontinuity,o.trackSwitch,o.contiguous,o.duration,o.accurateTimeOffset,o.defaultInitPTS)}}),t.on(n.default.FRAG_DECRYPTED,A),t.on(n.default.FRAG_PARSING_INIT_SEGMENT,A),t.on(n.default.FRAG_PARSED,A),t.on(n.default.ERROR,A),t.on(n.default.FRAG_PARSING_METADATA,A),t.on(n.default.FRAG_PARSING_USERDATA,A),t.on(n.default.INIT_PTS_FOUND,A),t.on(n.default.FRAG_PARSING_DATA,function(t,A){var r=[],n={event:t,data:A};A.data1&&(n.data1=A.data1.buffer,r.push(A.data1.buffer),delete A.data1),A.data2&&(n.data2=A.data2.buffer,r.push(A.data2.buffer),delete A.data2),e.postMessage(n,r)})}},"./src/demux/demuxer.js":
/*!******************************!*\
  !*** ./src/demux/demuxer.js ***!
  \******************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=A(/*! webworkify-webpack */"./node_modules/webworkify-webpack/index.js"),n=A(/*! ../events */"./src/events.js"),i=A(/*! ../demux/demuxer-inline */"./src/demux/demuxer-inline.js"),o=A(/*! ../utils/logger */"./src/utils/logger.js"),s=A(/*! ../errors */"./src/errors.js"),a=A(/*! ../utils/mediasource-helper */"./src/utils/mediasource-helper.js"),l=A(/*! ../utils/get-self-scope */"./src/utils/get-self-scope.js"),u=A(/*! ../observer */"./src/observer.js"),c=l.getSelfScope(),d=a.getMediaSource(),f=function(){function t(e,t){var A=this;this.hls=e,this.id=t;var a=this.observer=new u.Observer,l=e.config,f=function(t,r){(r=r||{}).frag=A.frag,r.id=A.id,e.trigger(t,r)};a.on(n.default.FRAG_DECRYPTED,f),a.on(n.default.FRAG_PARSING_INIT_SEGMENT,f),a.on(n.default.FRAG_PARSING_DATA,f),a.on(n.default.FRAG_PARSED,f),a.on(n.default.ERROR,f),a.on(n.default.FRAG_PARSING_METADATA,f),a.on(n.default.FRAG_PARSING_USERDATA,f),a.on(n.default.INIT_PTS_FOUND,f);var h={mp4:d.isTypeSupported("video/mp4"),mpeg:d.isTypeSupported("audio/mpeg"),mp3:d.isTypeSupported('audio/mp4; codecs="mp3"')},p=navigator.vendor;if(l.enableWorker&&"undefined"!=typeof Worker){o.logger.log("demuxing in webworker");var g=void 0;try{g=this.w=r(/*! ../demux/demuxer-worker.js */"./src/demux/demuxer-worker.js"),this.onwmsg=this.onWorkerMessage.bind(this),g.addEventListener("message",this.onwmsg),g.onerror=function(t){e.trigger(n.default.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:t.message+" ("+t.filename+":"+t.lineno+")"}})},g.postMessage({cmd:"init",typeSupported:h,vendor:p,id:t,config:JSON.stringify(l)})}catch(e){o.logger.warn("Error in worker:",e),o.logger.error("Error while initializing DemuxerWorker, fallback on DemuxerInline"),g&&c.URL.revokeObjectURL(g.objectURL),this.demuxer=new i.default(a,h,l,p),this.w=void 0}}else this.demuxer=new i.default(a,h,l,p)}return t.prototype.destroy=function(){var e=this.w;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.w=null;else{var t=this.demuxer;t&&(t.destroy(),this.demuxer=null)}var A=this.observer;A&&(A.removeAllListeners(),this.observer=null)},t.prototype.push=function(t,A,r,n,i,s,a,l){var u=this.w,c=e.isFinite(i.startPTS)?i.startPTS:i.start,d=i.decryptdata,f=this.frag,h=!(f&&i.cc===f.cc),p=!(f&&i.level===f.level),g=f&&i.sn===f.sn+1,B=!p&&g;if(h&&o.logger.log(this.id+":discontinuity detected"),p&&o.logger.log(this.id+":switch detected"),this.frag=i,u)u.postMessage({cmd:"demux",data:t,decryptdata:d,initSegment:A,audioCodec:r,videoCodec:n,timeOffset:c,discontinuity:h,trackSwitch:p,contiguous:B,duration:s,accurateTimeOffset:a,defaultInitPTS:l},t instanceof ArrayBuffer?[t]:[]);else{var m=this.demuxer;m&&m.push(t,d,A,r,n,c,h,p,B,s,a,l)}},t.prototype.onWorkerMessage=function(e){var t=e.data,A=this.hls;switch(t.event){case"init":c.URL.revokeObjectURL(this.w.objectURL);break;case n.default.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data2&&(t.data.data2=new Uint8Array(t.data2));default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,A.trigger(t.event,t.data)}},t}();t.default=f}).call(this,A(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/demux/exp-golomb.js":
/*!*********************************!*\
  !*** ./src/demux/exp-golomb.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=A(/*! ../utils/logger */"./src/utils/logger.js"),n=function(){function e(e){this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}return e.prototype.loadWord=function(){var e=this.data,t=this.bytesAvailable,A=e.byteLength-t,r=new Uint8Array(4),n=Math.min(4,t);if(0===n)throw new Error("no bytes available");r.set(e.subarray(A,A+n)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*n,this.bytesAvailable-=n},e.prototype.skipBits=function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,e-=(t=e>>3)>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)},e.prototype.readBits=function(e){var t=Math.min(this.bitsAvailable,e),A=this.word>>>32-t;return e>32&&r.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),(t=e-t)>0&&this.bitsAvailable?A<<t|this.readBits(t):A},e.prototype.skipLZ=function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},e.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},e.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},e.prototype.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},e.prototype.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},e.prototype.readBoolean=function(){return 1===this.readBits(1)},e.prototype.readUByte=function(){return this.readBits(8)},e.prototype.readUShort=function(){return this.readBits(16)},e.prototype.readUInt=function(){return this.readBits(32)},e.prototype.skipScalingList=function(e){var t,A=8,r=8;for(t=0;t<e;t++)0!==r&&(r=(A+this.readEG()+256)%256),A=0===r?A:r},e.prototype.readSPS=function(){var e,t,A,r,n,i,o,s=0,a=0,l=0,u=0,c=this.readUByte.bind(this),d=this.readBits.bind(this),f=this.readUEG.bind(this),h=this.readBoolean.bind(this),p=this.skipBits.bind(this),g=this.skipEG.bind(this),B=this.skipUEG.bind(this),m=this.skipScalingList.bind(this);if(c(),e=c(),d(5),p(3),c(),B(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var w=f();if(3===w&&p(1),B(),B(),p(1),h())for(i=3!==w?8:12,o=0;o<i;o++)h()&&m(o<6?16:64)}B();var E=f();if(0===E)f();else if(1===E)for(p(1),g(),g(),t=f(),o=0;o<t;o++)g();B(),p(1),A=f(),r=f(),0===(n=d(1))&&p(1),p(1),h()&&(s=f(),a=f(),l=f(),u=f());var v=[1,1];if(h()&&h())switch(c()){case 1:v=[1,1];break;case 2:v=[12,11];break;case 3:v=[10,11];break;case 4:v=[16,11];break;case 5:v=[40,33];break;case 6:v=[24,11];break;case 7:v=[20,11];break;case 8:v=[32,11];break;case 9:v=[80,33];break;case 10:v=[18,11];break;case 11:v=[15,11];break;case 12:v=[64,33];break;case 13:v=[160,99];break;case 14:v=[4,3];break;case 15:v=[3,2];break;case 16:v=[2,1];break;case 255:v=[c()<<8|c(),c()<<8|c()]}return{width:Math.ceil(16*(A+1)-2*s-2*a),height:(2-n)*(r+1)*16-(n?2:4)*(l+u),pixelRatio:v}},e.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}();t.default=n},"./src/demux/id3.js":
/*!**************************!*\
  !*** ./src/demux/id3.js ***!
  \**************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.isHeader=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.isFooter=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.getID3Data=function(t,A){for(var r=A,n=0;e.isHeader(t,A);){n+=10,n+=e._readSize(t,A+6),e.isFooter(t,A+10)&&(n+=10),A+=n}if(n>0)return t.subarray(r,r+n)},e._readSize=function(e,t){var A=0;return A=(127&e[t])<<21,A|=(127&e[t+1])<<14,A|=(127&e[t+2])<<7,A|=127&e[t+3]},e.getTimeStamp=function(t){for(var A=e.getID3Frames(t),r=0;r<A.length;r++){var n=A[r];if(e.isTimeStampFrame(n))return e._readTimeStamp(n)}},e.isTimeStampFrame=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},e._getFrameData=function(t){var A=String.fromCharCode(t[0],t[1],t[2],t[3]),r=e._readSize(t,4);return{type:A,size:r,data:t.subarray(10,10+r)}},e.getID3Frames=function(t){for(var A=0,r=[];e.isHeader(t,A);){for(var n=e._readSize(t,A+6),i=(A+=10)+n;A+8<i;){var o=e._getFrameData(t.subarray(A)),s=e._decodeFrame(o);s&&r.push(s),A+=o.size+10}e.isFooter(t,A)&&(A+=10)}return r},e._decodeFrame=function(t){return"PRIV"===t.type?e._decodePrivFrame(t):"T"===t.type[0]?e._decodeTextFrame(t):"W"===t.type[0]?e._decodeURLFrame(t):void 0},e._readTimeStamp=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),A=1&t[3],r=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return r/=45,A&&(r+=47721858.84),Math.round(r)}},e._decodePrivFrame=function(t){if(!(t.size<2)){var A=e._utf8ArrayToStr(t.data,!0),r=new Uint8Array(t.data.subarray(A.length+1));return{key:t.type,info:A,data:r.buffer}}},e._decodeTextFrame=function(t){if(!(t.size<2)){if("TXXX"===t.type){var A=1,r=e._utf8ArrayToStr(t.data.subarray(A));A+=r.length+1;var n=e._utf8ArrayToStr(t.data.subarray(A));return{key:t.type,info:r,data:n}}var i=e._utf8ArrayToStr(t.data.subarray(1));return{key:t.type,data:i}}},e._decodeURLFrame=function(t){if("WXXX"===t.type){if(t.size<2)return;var A=1,r=e._utf8ArrayToStr(t.data.subarray(A));A+=r.length+1;var n=e._utf8ArrayToStr(t.data.subarray(A));return{key:t.type,info:r,data:n}}var i=e._utf8ArrayToStr(t.data);return{key:t.type,data:i}},e._utf8ArrayToStr=function(e,t){void 0===t&&(t=!1);for(var A,r,n,i=e.length,o="",s=0;s<i;){if(0===(A=e[s++])&&t)return o;if(0!==A&&3!==A)switch(A>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(A);break;case 12:case 13:r=e[s++],o+=String.fromCharCode((31&A)<<6|63&r);break;case 14:r=e[s++],n=e[s++],o+=String.fromCharCode((15&A)<<12|(63&r)<<6|(63&n)<<0)}}return o},e}(),n=r._utf8ArrayToStr;t.utf8ArrayToStr=n,t.default=r},"./src/demux/mp3demuxer.js":
/*!*********************************!*\
  !*** ./src/demux/mp3demuxer.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=A(/*! ../demux/id3 */"./src/demux/id3.js"),n=A(/*! ../utils/logger */"./src/utils/logger.js"),i=A(/*! ./mpegaudio */"./src/demux/mpegaudio.js"),o=function(){function e(e,t,A){this.observer=e,this.config=A,this.remuxer=t}return e.prototype.resetInitSegment=function(e,t,A,r){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:t,duration:r,inputTimeScale:9e4}},e.prototype.resetTimeStamp=function(){},e.probe=function(e){var t,A,o=r.default.getID3Data(e,0);if(o&&void 0!==r.default.getTimeStamp(o))for(t=o.length,A=Math.min(e.length-1,t+100);t<A;t++)if(i.default.probe(e,t))return n.logger.log("MPEG Audio sync word found !"),!0;return!1},e.prototype.append=function(e,t,A,n){for(var o=r.default.getID3Data(e,0),s=r.default.getTimeStamp(o),a=s?90*s:9e4*t,l=o.length,u=e.length,c=0,d=0,f=this._audioTrack,h=[{pts:a,dts:a,data:o}];l<u;)if(i.default.isHeader(e,l)){var p=i.default.appendFrame(f,e,l,a,c);if(!p)break;l+=p.length,d=p.sample.pts,c++}else r.default.isHeader(e,l)?(o=r.default.getID3Data(e,l),h.push({pts:d,dts:d,data:o}),l+=o.length):l++;this.remuxer.remux(f,{samples:[]},{samples:h,inputTimeScale:9e4},{samples:[]},t,A,n)},e.prototype.destroy=function(){},e}();t.default=o},"./src/demux/mp4demuxer.js":
/*!*********************************!*\
  !*** ./src/demux/mp4demuxer.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=A(/*! ../utils/logger */"./src/utils/logger.js"),n=A(/*! ../events */"./src/events.js"),i=Math.pow(2,32)-1,o=function(){function e(e,t){this.observer=e,this.remuxer=t}return e.prototype.resetTimeStamp=function(e){this.initPTS=e},e.prototype.resetInitSegment=function(t,A,r,i){if(t&&t.byteLength){var o=this.initData=e.parseInitSegment(t);null==A&&(A="mp4a.40.5"),null==r&&(r="avc1.42e01e");var s={};o.audio&&o.video?s.audiovideo={container:"video/mp4",codec:A+","+r,initSegment:i?t:null}:(o.audio&&(s.audio={container:"audio/mp4",codec:A,initSegment:i?t:null}),o.video&&(s.video={container:"video/mp4",codec:r,initSegment:i?t:null})),this.observer.trigger(n.default.FRAG_PARSING_INIT_SEGMENT,{tracks:s})}else A&&(this.audioCodec=A),r&&(this.videoCodec=r)},e.probe=function(t){return e.findBox({data:t,start:0,end:Math.min(t.length,16384)},["moof"]).length>0},e.bin2str=function(e){return String.fromCharCode.apply(null,e)},e.readUint16=function(e,t){e.data&&(t+=e.start,e=e.data);var A=e[t]<<8|e[t+1];return A<0?65536+A:A},e.readUint32=function(e,t){e.data&&(t+=e.start,e=e.data);var A=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return A<0?4294967296+A:A},e.writeUint32=function(e,t,A){e.data&&(t+=e.start,e=e.data),e[t]=A>>24,e[t+1]=A>>16&255,e[t+2]=A>>8&255,e[t+3]=255&A},e.findBox=function(t,A){var r,n,i,o,s,a,l=[];if(t.data?(s=t.start,i=t.end,t=t.data):(s=0,i=t.byteLength),!A.length)return null;for(r=s;r<i;)a=(n=e.readUint32(t,r))>1?r+n:i,e.bin2str(t.subarray(r+4,r+8))===A[0]&&(1===A.length?l.push({data:t,start:r+8,end:a}):(o=e.findBox({data:t,start:r+8,end:a},A.slice(1))).length&&(l=l.concat(o))),r=a;return l},e.parseSegmentIndex=function(t){var A,r=e.findBox(t,["moov"])[0],n=r?r.end:null,i=0,o=e.findBox(t,["sidx"]);if(!o||!o[0])return null;A=[];var s=(o=o[0]).data[0];i=0===s?8:16;var a=e.readUint32(o,i);i+=4;i+=0===s?8:16,i+=2;var l=o.end+0,u=e.readUint16(o,i);i+=2;for(var c=0;c<u;c++){var d=i,f=e.readUint32(o,d);d+=4;var h=2147483647&f;if(1===(2147483648&f)>>>31)return void console.warn("SIDX has hierarchical references (not supported)");var p=e.readUint32(o,d);d+=4,A.push({referenceSize:h,subsegmentDuration:p,info:{duration:p/a,start:l,end:l+h-1}}),l+=h,i=d+=4}return{earliestPresentationTime:0,timescale:a,version:s,referencesCount:u,references:A,moovEndOffset:n}},e.parseInitSegment=function(t){var A=[];return e.findBox(t,["moov","trak"]).forEach(function(t){var n=e.findBox(t,["tkhd"])[0];if(n){var i=n.data[n.start],o=0===i?12:20,s=e.readUint32(n,o),a=e.findBox(t,["mdia","mdhd"])[0];if(a){o=0===(i=a.data[a.start])?12:20;var l=e.readUint32(a,o),u=e.findBox(t,["mdia","hdlr"])[0];if(u){var c={soun:"audio",vide:"video"}[e.bin2str(u.data.subarray(u.start+8,u.start+12))];if(c){var d=e.findBox(t,["mdia","minf","stbl","stsd"]);if(d.length){d=d[0];var f=e.bin2str(d.data.subarray(d.start+12,d.start+16));r.logger.log("MP4Demuxer:"+c+":"+f+" found")}A[s]={timescale:l,type:c},A[c]={timescale:l,id:s}}}}}}),A},e.getStartDTS=function(t,A){var r,n,i;return r=e.findBox(A,["moof","traf"]),n=[].concat.apply([],r.map(function(A){return e.findBox(A,["tfhd"]).map(function(r){var n,i;return n=e.readUint32(r,4),i=t[n].timescale||9e4,e.findBox(A,["tfdt"]).map(function(t){var A,r;return A=t.data[t.start],r=e.readUint32(t,4),1===A&&(r*=Math.pow(2,32),r+=e.readUint32(t,8)),r})[0]/i})})),i=Math.min.apply(null,n),isFinite(i)?i:0},e.offsetStartDTS=function(t,A,r){e.findBox(A,["moof","traf"]).map(function(A){return e.findBox(A,["tfhd"]).map(function(n){var o=e.readUint32(n,4),s=t[o].timescale||9e4;e.findBox(A,["tfdt"]).map(function(t){var A=t.data[t.start],n=e.readUint32(t,4);if(0===A)e.writeUint32(t,4,n-r*s);else{n*=Math.pow(2,32),n+=e.readUint32(t,8),n-=r*s,n=Math.max(n,0);var o=Math.floor(n/(i+1)),a=Math.floor(n%(i+1));e.writeUint32(t,4,o),e.writeUint32(t,8,a)}})})})},e.prototype.append=function(t,A,r,i){var o=this.initData;o||(this.resetInitSegment(t,this.audioCodec,this.videoCodec,!1),o=this.initData);var s,a=this.initPTS;if(void 0===a){var l=e.getStartDTS(o,t);this.initPTS=a=l-A,this.observer.trigger(n.default.INIT_PTS_FOUND,{initPTS:a})}e.offsetStartDTS(o,t,a),s=e.getStartDTS(o,t),this.remuxer.remux(o.audio,o.video,null,null,s,r,i,t)},e.prototype.destroy=function(){},e}();t.default=o},"./src/demux/mpegaudio.js":
/*!********************************!*\
  !*** ./src/demux/mpegaudio.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(e,t,A,r,n){if(!(A+24>t.length)){var i=this.parseHeader(t,A);if(i&&A+i.frameLength<=t.length){var o=r+n*(9e4*i.samplesPerFrame/i.sampleRate),s={unit:t.subarray(A,A+i.frameLength),pts:o,dts:o};return e.config=[],e.channelCount=i.channelCount,e.samplerate=i.sampleRate,e.samples.push(s),e.len+=i.frameLength,{sample:s,length:i.frameLength}}}},parseHeader:function(e,t){var A=e[t+1]>>3&3,n=e[t+1]>>1&3,i=e[t+2]>>4&15,o=e[t+2]>>2&3,s=e[t+2]>>1&1;if(1!==A&&0!==i&&15!==i&&3!==o){var a=3===A?3-n:3===n?3:4,l=1e3*r.BitratesMap[14*a+i-1],u=3===A?0:2===A?1:2,c=r.SamplingRateMap[3*u+o],d=e[t+3]>>6==3?1:2,f=r.SamplesCoefficients[A][n],h=r.BytesInSlot[n],p=8*f*h;return{sampleRate:c,channelCount:d,frameLength:parseInt(f*l/c+s,10)*h,samplesPerFrame:p}}},isHeaderPattern:function(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])},isHeader:function(e,t){return!!(t+1<e.length&&this.isHeaderPattern(e,t))},probe:function(e,t){if(t+1<e.length&&this.isHeaderPattern(e,t)){var A=this.parseHeader(e,t),r=4;A&&A.frameLength&&(r=A.frameLength);var n=t+r;if(n===e.length||n+1<e.length&&this.isHeaderPattern(e,n))return!0}return!1}};t.default=r},"./src/demux/sample-aes.js":
/*!*********************************!*\
  !*** ./src/demux/sample-aes.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=A(/*! ../crypt/decrypter */"./src/crypt/decrypter.js"),n=function(){function e(e,t,A,n){this.decryptdata=A,this.discardEPB=n,this.decrypter=new r.default(e,t,{removePKCS7Padding:!1})}return e.prototype.decryptBuffer=function(e,t){this.decrypter.decrypt(e,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,t)},e.prototype.decryptAacSample=function(e,t,A,r){var n=e[t].unit,i=n.subarray(16,n.length-n.length%16),o=i.buffer.slice(i.byteOffset,i.byteOffset+i.length),s=this;this.decryptBuffer(o,function(i){i=new Uint8Array(i),n.set(i,16),r||s.decryptAacSamples(e,t+1,A)})},e.prototype.decryptAacSamples=function(e,t,A){for(;;t++){if(t>=e.length)return void A();if(!(e[t].unit.length<32)){var r=this.decrypter.isSync();if(this.decryptAacSample(e,t,A,r),!r)return}}},e.prototype.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,A=new Int8Array(t),r=0,n=32;n<=e.length-16;n+=160,r+=16)A.set(e.subarray(n,n+16),r);return A},e.prototype.getAvcDecryptedUnit=function(e,t){t=new Uint8Array(t);for(var A=0,r=32;r<=e.length-16;r+=160,A+=16)e.set(t.subarray(A,A+16),r);return e},e.prototype.decryptAvcSample=function(e,t,A,r,n,i){var o=this.discardEPB(n.data),s=this.getAvcEncryptedData(o),a=this;this.decryptBuffer(s.buffer,function(s){n.data=a.getAvcDecryptedUnit(o,s),i||a.decryptAvcSamples(e,t,A+1,r)})},e.prototype.decryptAvcSamples=function(e,t,A,r){for(;;t++,A=0){if(t>=e.length)return void r();for(var n=e[t].units;!(A>=n.length);A++){var i=n[A];if(!(i.length<=48||1!==i.type&&5!==i.type)){var o=this.decrypter.isSync();if(this.decryptAvcSample(e,t,A,r,i,o),!o)return}}}},e}();t.default=n},"./src/demux/tsdemuxer.js":
/*!********************************!*\
  !*** ./src/demux/tsdemuxer.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=A(/*! ./adts */"./src/demux/adts.js"),n=A(/*! ./mpegaudio */"./src/demux/mpegaudio.js"),i=A(/*! ../events */"./src/events.js"),o=A(/*! ./exp-golomb */"./src/demux/exp-golomb.js"),s=A(/*! ./sample-aes */"./src/demux/sample-aes.js"),a=A(/*! ../utils/logger */"./src/utils/logger.js"),l=A(/*! ../errors */"./src/errors.js"),u={video:1,audio:2,id3:3,text:4},c=function(){function e(e,t,A,r){this.observer=e,this.config=A,this.typeSupported=r,this.remuxer=t,this.sampleAes=null}return e.prototype.setDecryptData=function(e){null!=e&&null!=e.key&&"SAMPLE-AES"===e.method?this.sampleAes=new s.default(this.observer,this.config,e,this.discardEPB):this.sampleAes=null},e.probe=function(t){var A=e._syncOffset(t);return!(A<0)&&(A&&a.logger.warn("MPEG2-TS detected but first sync word found @ offset "+A+", junk ahead ?"),!0)},e._syncOffset=function(e){for(var t=Math.min(1e3,e.length-564),A=0;A<t;){if(71===e[A]&&71===e[A+188]&&71===e[A+376])return A;A++}return-1},e.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:u[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:"video"===e?0:void 0,isAAC:"audio"===e||void 0,duration:"audio"===e?t:void 0}},e.prototype.resetInitSegment=function(t,A,r,n){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=e.createTrack("video",n),this._audioTrack=e.createTrack("audio",n),this._id3Track=e.createTrack("id3",n),this._txtTrack=e.createTrack("text",n),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=A,this.videoCodec=r,this._duration=n},e.prototype.resetTimeStamp=function(){},e.prototype.append=function(t,A,r,n){var o,s,u,c,d,f=t.length,h=!1;this.contiguous=r;var p=this.pmtParsed,g=this._avcTrack,B=this._audioTrack,m=this._id3Track,w=g.pid,E=B.pid,v=m.pid,y=this._pmtId,C=g.pesData,U=B.pesData,Q=m.pesData,F=this._parsePAT,T=this._parsePMT,b=this._parsePES,S=this._parseAVCPES.bind(this),_=this._parseAACPES.bind(this),R=this._parseMPEGPES.bind(this),I=this._parseID3PES.bind(this),L=e._syncOffset(t);for(f-=(f+L)%188,o=L;o<f;o+=188)if(71===t[o]){if(s=!!(64&t[o+1]),u=((31&t[o+1])<<8)+t[o+2],(48&t[o+3])>>4>1){if((c=o+5+t[o+4])===o+188)continue}else c=o+4;switch(u){case w:s&&(C&&(d=b(C))&&void 0!==d.pts&&S(d,!1),C={data:[],size:0}),C&&(C.data.push(t.subarray(c,o+188)),C.size+=o+188-c);break;case E:s&&(U&&(d=b(U))&&void 0!==d.pts&&(B.isAAC?_(d):R(d)),U={data:[],size:0}),U&&(U.data.push(t.subarray(c,o+188)),U.size+=o+188-c);break;case v:s&&(Q&&(d=b(Q))&&void 0!==d.pts&&I(d),Q={data:[],size:0}),Q&&(Q.data.push(t.subarray(c,o+188)),Q.size+=o+188-c);break;case 0:s&&(c+=t[c]+1),y=this._pmtId=F(t,c);break;case y:s&&(c+=t[c]+1);var N=T(t,c,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);(w=N.avc)>0&&(g.pid=w),(E=N.audio)>0&&(B.pid=E,B.isAAC=N.isAAC),(v=N.id3)>0&&(m.pid=v),h&&!p&&(a.logger.log("reparse from beginning"),h=!1,o=L-188),p=this.pmtParsed=!0;break;case 17:case 8191:break;default:h=!0}}else this.observer.trigger(i.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});C&&(d=b(C))&&void 0!==d.pts?(S(d,!0),g.pesData=null):g.pesData=C,U&&(d=b(U))&&void 0!==d.pts?(B.isAAC?_(d):R(d),B.pesData=null):(U&&U.size&&a.logger.log("last AAC PES packet truncated,might overlap between fragments"),B.pesData=U),Q&&(d=b(Q))&&void 0!==d.pts?(I(d),m.pesData=null):m.pesData=Q,null==this.sampleAes?this.remuxer.remux(B,g,m,this._txtTrack,A,r,n):this.decryptAndRemux(B,g,m,this._txtTrack,A,r,n)},e.prototype.decryptAndRemux=function(e,t,A,r,n,i,o){if(e.samples&&e.isAAC){var s=this;this.sampleAes.decryptAacSamples(e.samples,0,function(){s.decryptAndRemuxAvc(e,t,A,r,n,i,o)})}else this.decryptAndRemuxAvc(e,t,A,r,n,i,o)},e.prototype.decryptAndRemuxAvc=function(e,t,A,r,n,i,o){if(t.samples){var s=this;this.sampleAes.decryptAvcSamples(t.samples,0,0,function(){s.remuxer.remux(e,t,A,r,n,i,o)})}else this.remuxer.remux(e,t,A,r,n,i,o)},e.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},e.prototype._parsePAT=function(e,t){return(31&e[t+10])<<8|e[t+11]},e.prototype._parsePMT=function(e,t,A,r){var n,i,o={audio:-1,avc:-1,id3:-1,isAAC:!0};for(n=t+3+((15&e[t+1])<<8|e[t+2])-4,t+=12+((15&e[t+10])<<8|e[t+11]);t<n;){switch(i=(31&e[t+1])<<8|e[t+2],e[t]){case 207:if(!r){a.logger.log("unkown stream type:"+e[t]);break}case 15:-1===o.audio&&(o.audio=i);break;case 21:-1===o.id3&&(o.id3=i);break;case 219:if(!r){a.logger.log("unkown stream type:"+e[t]);break}case 27:-1===o.avc&&(o.avc=i);break;case 3:case 4:A?-1===o.audio&&(o.audio=i,o.isAAC=!1):a.logger.log("MPEG audio found, not supported in this browser for now");break;case 36:a.logger.warn("HEVC stream type found, not supported for now");break;default:a.logger.log("unkown stream type:"+e[t])}t+=5+((15&e[t+3])<<8|e[t+4])}return o},e.prototype._parsePES=function(e){var t,A,r,n,i,o,s,l,u=0,c=e.data;if(!e||0===e.size)return null;for(;c[0].length<19&&c.length>1;){var d=new Uint8Array(c[0].length+c[1].length);d.set(c[0]),d.set(c[1],c[0].length),c[0]=d,c.splice(1,1)}if(1===((t=c[0])[0]<<16)+(t[1]<<8)+t[2]){if((r=(t[4]<<8)+t[5])&&r>e.size-6)return null;192&(A=t[7])&&((o=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2)>4294967295&&(o-=8589934592),64&A?((s=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)>4294967295&&(s-=8589934592),o-s>54e5&&(a.logger.warn(Math.round((o-s)/9e4)+"s delta between PTS and DTS, align them"),o=s)):s=o),l=(n=t[8])+9,e.size-=l,i=new Uint8Array(e.size);for(var f=0,h=c.length;f<h;f++){var p=(t=c[f]).byteLength;if(l){if(l>p){l-=p;continue}t=t.subarray(l),p-=l,l=0}i.set(t,u),u+=p}return r&&(r-=n+3),{data:i,pts:o,dts:s,len:r}}return null},e.prototype.pushAccesUnit=function(e,t){if(e.units.length&&e.frame){var A=t.samples,r=A.length;!this.config.forceKeyFrameOnDiscontinuity||!0===e.key||t.sps&&(r||this.contiguous)?(e.id=r,A.push(e)):t.dropped++}e.debug.length&&a.logger.log(e.pts+"/"+e.dts+":"+e.debug)},e.prototype._parseAVCPES=function(e,t){var A,r,n,i=this,s=this._avcTrack,a=this._parseAVCNALu(e.data),l=this.avcSample,u=!1,c=this.pushAccesUnit.bind(this),d=function(e,t,A,r){return{key:e,pts:t,dts:A,units:[],debug:r}};e.data=null,l&&a.length&&!s.audFound&&(c(l,s),l=this.avcSample=d(!1,e.pts,e.dts,"")),a.forEach(function(t){switch(t.type){case 1:r=!0,l||(l=i.avcSample=d(!0,e.pts,e.dts,"")),l.frame=!0;var a=t.data;if(u&&a.length>4){var f=new o.default(a).readSliceType();2!==f&&4!==f&&7!==f&&9!==f||(l.key=!0)}break;case 5:r=!0,l||(l=i.avcSample=d(!0,e.pts,e.dts,"")),l.key=!0,l.frame=!0;break;case 6:r=!0,(A=new o.default(i.discardEPB(t.data))).readUByte();for(var h=0,p=0,g=!1,B=0;!g&&A.bytesAvailable>1;){h=0;do{h+=B=A.readUByte()}while(255===B);p=0;do{p+=B=A.readUByte()}while(255===B);if(4===h&&0!==A.bytesAvailable){if(g=!0,181===A.readUByte())if(49===A.readUShort())if(1195456820===A.readUInt())if(3===A.readUByte()){var m=A.readUByte(),w=31&m,E=[m,A.readUByte()];for(n=0;n<w;n++)E.push(A.readUByte()),E.push(A.readUByte()),E.push(A.readUByte());i._insertSampleInOrder(i._txtTrack.samples,{type:3,pts:e.pts,bytes:E})}}else if(p<A.bytesAvailable)for(n=0;n<p;n++)A.readUByte()}break;case 7:if(r=!0,u=!0,!s.sps){var v=(A=new o.default(t.data)).readSPS();s.width=v.width,s.height=v.height,s.pixelRatio=v.pixelRatio,s.sps=[t.data],s.duration=i._duration;var y=t.data.subarray(1,4),C="avc1.";for(n=0;n<3;n++){var U=y[n].toString(16);U.length<2&&(U="0"+U),C+=U}s.codec=C}break;case 8:r=!0,s.pps||(s.pps=[t.data]);break;case 9:r=!1,s.audFound=!0,l&&c(l,s),l=i.avcSample=d(!1,e.pts,e.dts,"");break;case 12:r=!1;break;default:r=!1,l&&(l.debug+="unknown NAL "+t.type+" ")}l&&r&&l.units.push(t)}),t&&l&&(c(l,s),this.avcSample=null)},e.prototype._insertSampleInOrder=function(e,t){var A=e.length;if(A>0){if(t.pts>=e[A-1].pts)e.push(t);else for(var r=A-1;r>=0;r--)if(t.pts<e[r].pts){e.splice(r,0,t);break}}else e.push(t)},e.prototype._getLastNalUnit=function(){var e,t=this.avcSample;if(!t||0===t.units.length){var A=this._avcTrack.samples;t=A[A.length-1]}if(t){var r=t.units;e=r[r.length-1]}return e},e.prototype._parseAVCNALu=function(e){var t,A,r,n,i=0,o=e.byteLength,s=this._avcTrack,a=s.naluState||0,l=a,u=[],c=-1;for(-1===a&&(c=0,n=31&e[0],a=0,i=1);i<o;)if(t=e[i++],a)if(1!==a)if(t)if(1===t){var d,f;if(c>=0)r={data:e.subarray(c,i-a-1),type:n},u.push(r);else if(d=this._getLastNalUnit())if(l&&i<=4-l&&d.state&&(d.data=d.data.subarray(0,d.data.byteLength-l)),(A=i-a-1)>0)(f=new Uint8Array(d.data.byteLength+A)).set(d.data,0),f.set(e.subarray(0,A),d.data.byteLength),d.data=f;i<o?(c=i,n=31&e[i],a=0):a=-1}else a=0;else a=3;else a=t?0:2;else a=t?0:1;(c>=0&&a>=0&&(r={data:e.subarray(c,o),type:n,state:a},u.push(r)),0===u.length)&&((d=this._getLastNalUnit())&&((f=new Uint8Array(d.data.byteLength+e.byteLength)).set(d.data,0),f.set(e,d.data.byteLength),d.data=f));return s.naluState=a,u},e.prototype.discardEPB=function(e){for(var t,A,r=e.byteLength,n=[],i=1;i<r-2;)0===e[i]&&0===e[i+1]&&3===e[i+2]?(n.push(i+2),i+=2):i++;if(0===n.length)return e;t=r-n.length,A=new Uint8Array(t);var o=0;for(i=0;i<t;o++,i++)o===n[0]&&(o++,n.shift()),A[i]=e[o];return A},e.prototype._parseAACPES=function(e){var t,A,n,o,s,u=this._audioTrack,c=e.data,d=e.pts,f=this.aacOverFlow,h=this.aacLastPTS;if(f){var p=new Uint8Array(f.byteLength+c.byteLength);p.set(f,0),p.set(c,f.byteLength),c=p}for(n=0,s=c.length;n<s-1&&!r.isHeader(c,n);n++);if(n){var g=void 0,B=void 0;if(n<s-1?(g="AAC PES did not start with ADTS header,offset:"+n,B=!1):(g="no ADTS header found in AAC PES",B=!0),a.logger.warn("parsing error:"+g),this.observer.trigger(i.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.FRAG_PARSING_ERROR,fatal:B,reason:g}),B)return}if(r.initTrackConfig(u,this.observer,c,n,this.audioCodec),A=0,t=r.getFrameDuration(u.samplerate),f&&h){var m=h+t;Math.abs(m-d)>1&&(a.logger.log("AAC: align PTS for overlapping frames by "+Math.round((m-d)/90)),d=m)}for(;n<s;)if(r.isHeader(c,n)&&n+5<s){var w=r.appendFrame(u,c,n,d,A);if(!w)break;n+=w.length,o=w.sample.pts,A++}else n++;f=n<s?c.subarray(n,s):null,this.aacOverFlow=f,this.aacLastPTS=o},e.prototype._parseMPEGPES=function(e){for(var t=e.data,A=t.length,r=0,i=0,o=e.pts;i<A;)if(n.default.isHeader(t,i)){var s=n.default.appendFrame(this._audioTrack,t,i,o,r);if(!s)break;i+=s.length,r++}else i++},e.prototype._parseID3PES=function(e){this._id3Track.samples.push(e)},e}();t.default=c},"./src/errors.js":
/*!***********************!*\
  !*** ./src/errors.js ***!
  \***********************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorTypes={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",KEY_SYSTEM_ERROR:"keySystemError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},t.ErrorDetails={KEY_SYSTEM_NO_KEYS:"keySystemNoKeys",KEY_SYSTEM_NO_ACCESS:"keySystemNoAccess",KEY_SYSTEM_NO_SESSION:"keySystemNoSession",KEY_SYSTEM_LICENSE_REQUEST_FAILED:"keySystemLicenseRequestFailed",MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},"./src/event-handler.js":
/*!******************************!*\
  !*** ./src/event-handler.js ***!
  \******************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=A(/*! ./utils/logger */"./src/utils/logger.js"),n=A(/*! ./errors */"./src/errors.js"),i=A(/*! ./events */"./src/events.js"),o={hlsEventGeneric:!0,hlsHandlerDestroying:!0,hlsHandlerDestroyed:!0},s=function(){function e(e){for(var t=[],A=1;A<arguments.length;A++)t[A-1]=arguments[A];this.hls=e,this.onEvent=this.onEvent.bind(this),this.handledEvents=t,this.useGenericHandler=!0,this.registerListeners()}return e.prototype.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},e.prototype.onHandlerDestroying=function(){},e.prototype.onHandlerDestroyed=function(){},e.prototype.isEventHandler=function(){return"object"==typeof this.handledEvents&&this.handledEvents.length&&"function"==typeof this.onEvent},e.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){if(o[e])throw new Error("Forbidden event-name: "+e);this.hls.on(e,this.onEvent)},this)},e.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){this.hls.off(e,this.onEvent)},this)},e.prototype.onEvent=function(e,t){this.onEventGeneric(e,t)},e.prototype.onEventGeneric=function(e,t){try{(function(e,t){var A="on"+e.replace("hls","");if("function"!=typeof this[A])throw new Error("Event "+e+" has no generic handler in this "+this.constructor.name+" class (tried "+A+")");return this[A].bind(this,t)}).call(this,e,t).call()}catch(t){r.logger.error("An internal error happened while handling event "+e+'. Error message: "'+t.message+'". Here is a stacktrace:',t),this.hls.trigger(i.default.ERROR,{type:n.ErrorTypes.OTHER_ERROR,details:n.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,err:t})}},e}();t.default=s},"./src/events.js":
/*!***********************!*\
  !*** ./src/events.js ***!
  \***********************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},"./src/hls.js":
/*!********************!*\
  !*** ./src/hls.js ***!
  \********************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])},function(e,t){function A(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var i=A(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),o=A(/*! ./errors */"./src/errors.js"),s=A(/*! ./loader/playlist-loader */"./src/loader/playlist-loader.js"),a=A(/*! ./loader/fragment-loader */"./src/loader/fragment-loader.js"),l=A(/*! ./loader/key-loader */"./src/loader/key-loader.js"),u=A(/*! ./controller/fragment-tracker */"./src/controller/fragment-tracker.js"),c=A(/*! ./controller/stream-controller */"./src/controller/stream-controller.js"),d=A(/*! ./controller/level-controller */"./src/controller/level-controller.js"),f=A(/*! ./controller/id3-track-controller */"./src/controller/id3-track-controller.js"),h=A(/*! ./is-supported */"./src/is-supported.js"),p=A(/*! ./utils/logger */"./src/utils/logger.js"),g=A(/*! ./config */"./src/config.js"),B=A(/*! ./events */"./src/events.js"),m=function(e){function t(A){void 0===A&&(A={});var r=e.call(this)||this,n=t.DefaultConfig;if((A.liveSyncDurationCount||A.liveMaxLatencyDurationCount)&&(A.liveSyncDuration||A.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var i in n)i in A||(A[i]=n[i]);if(void 0!==A.liveMaxLatencyDurationCount&&A.liveMaxLatencyDurationCount<=A.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==A.liveMaxLatencyDuration&&(A.liveMaxLatencyDuration<=A.liveSyncDuration||void 0===A.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');p.enableLogs(A.debug),r.config=A,r._autoLevelCapping=-1;var o=r.abrController=new A.abrController(r),h=new A.bufferController(r),g=new A.capLevelController(r),B=new A.fpsController(r),m=new s.default(r),w=new a.default(r),E=new l.default(r),v=new f.default(r),y=r.levelController=new d.default(r),C=new u.FragmentTracker(r),U=[y,r.streamController=new c.default(r,C)],Q=A.audioStreamController;Q&&U.push(new Q(r,C)),r.networkControllers=U;var F=[m,w,E,o,h,g,B,v,C];if(Q=A.audioTrackController){var T=new Q(r);r.audioTrackController=T,F.push(T)}if(Q=A.subtitleTrackController){var b=new Q(r);r.subtitleTrackController=b,U.push(b)}if(Q=A.emeController){var S=new Q(r);r.emeController=S,F.push(S)}return(Q=A.subtitleStreamController)&&U.push(new Q(r,C)),(Q=A.timelineController)&&F.push(new Q(r)),r.coreComponents=F,r}return n(t,e),Object.defineProperty(t,"version",{get:function(){return"0.12.4"},enumerable:!0,configurable:!0}),t.isSupported=function(){return h.isSupported()},Object.defineProperty(t,"Events",{get:function(){return B.default},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ErrorTypes",{get:function(){return o.ErrorTypes},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ErrorDetails",{get:function(){return o.ErrorDetails},enumerable:!0,configurable:!0}),Object.defineProperty(t,"DefaultConfig",{get:function(){return t.defaultConfig?t.defaultConfig:g.hlsDefaultConfig},set:function(e){t.defaultConfig=e},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){p.logger.log("destroy"),this.trigger(B.default.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(e){e.destroy()}),this.url=null,this.removeAllListeners(),this._autoLevelCapping=-1},t.prototype.attachMedia=function(e){p.logger.log("attachMedia"),this.media=e,this.trigger(B.default.MEDIA_ATTACHING,{media:e})},t.prototype.detachMedia=function(){p.logger.log("detachMedia"),this.trigger(B.default.MEDIA_DETACHING),this.media=null},t.prototype.loadSource=function(e){e=i.buildAbsoluteURL(window.location.href,e,{alwaysNormalize:!0}),p.logger.log("loadSource:"+e),this.url=e,this.trigger(B.default.MANIFEST_LOADING,{url:e})},t.prototype.startLoad=function(e){void 0===e&&(e=-1),p.logger.log("startLoad("+e+")"),this.networkControllers.forEach(function(t){t.startLoad(e)})},t.prototype.stopLoad=function(){p.logger.log("stopLoad"),this.networkControllers.forEach(function(e){e.stopLoad()})},t.prototype.swapAudioCodec=function(){p.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},t.prototype.recoverMediaError=function(){p.logger.log("recoverMediaError");var e=this.media;this.detachMedia(),this.attachMedia(e)},Object.defineProperty(t.prototype,"levels",{get:function(){return this.levelController.levels},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentLevel",{get:function(){return this.streamController.currentLevel},set:function(e){p.logger.log("set currentLevel:"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextLevel",{get:function(){return this.streamController.nextLevel},set:function(e){p.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loadLevel",{get:function(){return this.levelController.level},set:function(e){p.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextLoadLevel",{get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstLevel",{get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){p.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startLevel",{get:function(){return this.levelController.startLevel},set:function(e){p.logger.log("set startLevel:"+e);-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoLevelCapping",{get:function(){return this._autoLevelCapping},set:function(e){p.logger.log("set autoLevelCapping:"+e),this._autoLevelCapping=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoLevelEnabled",{get:function(){return-1===this.levelController.manualLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"manualLevel",{get:function(){return this.levelController.manualLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minAutoLevel",{get:function(){for(var e=this.levels,t=this.config.minAutoBitrate,A=e?e.length:0,r=0;r<A;r++){if((e[r].realBitrate?Math.max(e[r].realBitrate,e[r].bitrate):e[r].bitrate)>t)return r}return 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxAutoLevel",{get:function(){var e=this.levels,t=this.autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextAutoLevel",{get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"audioTracks",{get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"audioTrack",{get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"liveSyncPosition",{get:function(){return this.streamController.liveSyncPosition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subtitleTracks",{get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subtitleTrack",{get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subtitleDisplay",{get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)},enumerable:!0,configurable:!0}),t}(A(/*! ./observer */"./src/observer.js").Observer);t.default=m},"./src/is-supported.js":
/*!*****************************!*\
  !*** ./src/is-supported.js ***!
  \*****************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=A(/*! ./utils/mediasource-helper */"./src/utils/mediasource-helper.js");t.isSupported=function(){var e=r.getMediaSource(),t=window.SourceBuffer||window.WebKitSourceBuffer,A=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),n=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!A&&!!n}},"./src/loader/fragment-loader.js":
/*!***************************************!*\
  !*** ./src/loader/fragment-loader.js ***!
  \***************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";(function(e){var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])},function(e,t){function A(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var i=A(/*! ../events */"./src/events.js"),o=A(/*! ../event-handler */"./src/event-handler.js"),s=A(/*! ../errors */"./src/errors.js"),a=A(/*! ../utils/logger */"./src/utils/logger.js"),l=function(t){function A(e){var A=t.call(this,e,i.default.FRAG_LOADING)||this;return A.loaders={},A}return n(A,t),A.prototype.destroy=function(){var e=this.loaders;for(var A in e){var r=e[A];r&&r.destroy()}this.loaders={},t.prototype.destroy.call(this)},A.prototype.onFragLoading=function(t){var A=t.frag,r=A.type,n=this.loaders,i=this.hls.config,o=i.fLoader,s=i.loader;A.loaded=0;var l,u,c,d=n[r];d&&(a.logger.warn("abort previous fragment loader for type: "+r),d.abort()),d=n[r]=A.loader=i.fLoader?new o(i):new s(i),l={url:A.url,frag:A,responseType:"arraybuffer",progressData:!1};var f=A.byteRangeStartOffset,h=A.byteRangeEndOffset;e.isFinite(f)&&e.isFinite(h)&&(l.rangeStart=f,l.rangeEnd=h),u={timeout:i.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:i.fragLoadingMaxRetryTimeout},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},d.load(l,u,c)},A.prototype.loadsuccess=function(e,t,A,r){void 0===r&&(r=null);var n=e.data,o=A.frag;o.loader=void 0,this.loaders[o.type]=void 0,this.hls.trigger(i.default.FRAG_LOADED,{payload:n,frag:o,stats:t,networkDetails:r})},A.prototype.loaderror=function(e,t,A){void 0===A&&(A=null);var r=t.frag,n=r.loader;n&&n.abort(),this.loaders[r.type]=void 0,this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e,networkDetails:A})},A.prototype.loadtimeout=function(e,t,A){void 0===A&&(A=null);var r=t.frag,n=r.loader;n&&n.abort(),this.loaders[r.type]=void 0,this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag,networkDetails:A})},A.prototype.loadprogress=function(e,t,A,r){void 0===r&&(r=null);var n=t.frag;n.loaded=e.loaded,this.hls.trigger(i.default.FRAG_LOAD_PROGRESS,{frag:n,stats:e,networkDetails:r})},A}(o.default);t.default=l}).call(this,A(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/loader/fragment.js":
/*!********************************!*\
  !*** ./src/loader/fragment.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=A(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),n=A(/*! ./level-key */"./src/loader/level-key.js"),i=function(){function t(){var e;this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[],this.programDateTime=null,this.rawProgramDateTime=null,this._elementaryStreams=((e={})[t.ElementaryStreamTypes.AUDIO]=!1,e[t.ElementaryStreamTypes.VIDEO]=!1,e)}return Object.defineProperty(t,"ElementaryStreamTypes",{get:function(){return{AUDIO:"audio",VIDEO:"video"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return!this._url&&this.relurl&&(this._url=r.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(e){this._url=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"byteRange",{get:function(){if(!this._byteRange&&!this.rawByteRange)return[];if(this._byteRange)return this._byteRange;var e=[];if(this.rawByteRange){var t=this.rawByteRange.split("@",2);if(1===t.length){var A=this.lastByteRangeEndOffset;e[0]=A||0}else e[0]=parseInt(t[1]);e[1]=parseInt(t[0])+e[0],this._byteRange=e}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"byteRangeStartOffset",{get:function(){return this.byteRange[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"byteRangeEndOffset",{get:function(){return this.byteRange[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"decryptdata",{get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endProgramDateTime",{get:function(){if(!e.isFinite(this.programDateTime))return null;var t=e.isFinite(this.duration)?this.duration:0;return this.programDateTime+1e3*t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"encrypted",{get:function(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)},enumerable:!0,configurable:!0}),t.prototype.addElementaryStream=function(e){this._elementaryStreams[e]=!0},t.prototype.hasElementaryStream=function(e){return!0===this._elementaryStreams[e]},t.prototype.createInitializationVector=function(e){for(var t=new Uint8Array(16),A=12;A<16;A++)t[A]=e>>8*(15-A)&255;return t},t.prototype.fragmentDecryptdataFromLevelkey=function(e,t){var A=e;return e&&e.method&&e.uri&&!e.iv&&((A=new n.default).method=e.method,A.baseuri=e.baseuri,A.reluri=e.reluri,A.iv=this.createInitializationVector(t)),A},t}();t.default=i}).call(this,A(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/loader/key-loader.js":
/*!**********************************!*\
  !*** ./src/loader/key-loader.js ***!
  \**********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])},function(e,t){function A(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var i=A(/*! ../events */"./src/events.js"),o=A(/*! ../event-handler */"./src/event-handler.js"),s=A(/*! ../errors */"./src/errors.js"),a=A(/*! ../utils/logger */"./src/utils/logger.js"),l=function(e){function t(t){var A=e.call(this,t,i.default.KEY_LOADING)||this;return A.loaders={},A.decryptkey=null,A.decrypturl=null,A}return n(t,e),t.prototype.destroy=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},o.default.prototype.destroy.call(this)},t.prototype.onKeyLoading=function(e){var t=e.frag,A=t.type,r=this.loaders[A],n=t.decryptdata,o=n.uri;if(o!==this.decrypturl||null===this.decryptkey){var s=this.hls.config;r&&(a.logger.warn("abort previous key loader for type:"+A),r.abort()),t.loader=this.loaders[A]=new s.loader(s),this.decrypturl=o,this.decryptkey=null;var l,u,c;l={url:o,frag:t,responseType:"arraybuffer"},u={timeout:s.fragLoadingTimeOut,maxRetry:0,retryDelay:s.fragLoadingRetryDelay,maxRetryDelay:s.fragLoadingMaxRetryTimeout},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},t.loader.load(l,u,c)}else this.decryptkey&&(n.key=this.decryptkey,this.hls.trigger(i.default.KEY_LOADED,{frag:t}))},t.prototype.loadsuccess=function(e,t,A){var r=A.frag;this.decryptkey=r.decryptdata.key=new Uint8Array(e.data),r.loader=void 0,this.loaders[r.type]=void 0,this.hls.trigger(i.default.KEY_LOADED,{frag:r})},t.prototype.loaderror=function(e,t){var A=t.frag,r=A.loader;r&&r.abort(),this.loaders[t.type]=void 0,this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:A,response:e})},t.prototype.loadtimeout=function(e,t){var A=t.frag,r=A.loader;r&&r.abort(),this.loaders[t.type]=void 0,this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:A})},t}(o.default);t.default=l},"./src/loader/level-key.js":
/*!*********************************!*\
  !*** ./src/loader/level-key.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=A(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),n=function(){function e(){this.method=null,this.key=null,this.iv=null,this._uri=null}return Object.defineProperty(e.prototype,"uri",{get:function(){return!this._uri&&this.reluri&&(this._uri=r.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri},enumerable:!0,configurable:!0}),e}();t.default=n},"./src/loader/level.js":
/*!*****************************!*\
  !*** ./src/loader/level.js ***!
  \*****************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var A=function(){function t(e){this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=e,this.version=null}return Object.defineProperty(t.prototype,"hasProgramDateTime",{get:function(){return!(!this.fragments[0]||!e.isFinite(this.fragments[0].programDateTime))},enumerable:!0,configurable:!0}),t}();t.default=A}).call(this,A(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/loader/m3u8-parser.js":
/*!***********************************!*\
  !*** ./src/loader/m3u8-parser.js ***!
  \***********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=A(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),n=A(/*! ./fragment */"./src/loader/fragment.js"),i=A(/*! ./level */"./src/loader/level.js"),o=A(/*! ./level-key */"./src/loader/level-key.js"),s=A(/*! ../utils/attr-list */"./src/utils/attr-list.js"),a=A(/*! ../utils/logger */"./src/utils/logger.js"),l=A(/*! ../utils/codecs */"./src/utils/codecs.js"),u=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,c=/#EXT-X-MEDIA:(.*)/g,d=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)([\S+ ?]+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),f=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,h=/\.(mp4|m4s|m4v|m4a)$/i,p=function(){function t(){}return t.findGroup=function(e,t){if(!e)return null;for(var A=null,r=0;r<e.length;r++){var n=e[r];n.id===t&&(A=n)}return A},t.convertAVC1ToAVCOTI=function(e){var t,A=e.split(".");return A.length>2?(t=A.shift()+".",t+=parseInt(A.shift()).toString(16),t+=("000"+parseInt(A.shift()).toString(16)).substr(-4)):t=e,t},t.resolve=function(e,t){return r.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},t.parseMasterPlaylist=function(e,A){var r,n=[];function i(e,t){["video","audio"].forEach(function(A){var r=e.filter(function(e){return l.isCodecType(e,A)});if(r.length){var n=r.filter(function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)});t[A+"Codec"]=n.length>0?n[0]:r[0],e=e.filter(function(e){return-1===r.indexOf(e)})}}),t.unknownCodecs=e}for(u.lastIndex=0;null!=(r=u.exec(e));){var o={},a=o.attrs=new s.default(r[1]);o.url=t.resolve(r[2],A);var c=a.decimalResolution("RESOLUTION");c&&(o.width=c.width,o.height=c.height),o.bitrate=a.decimalInteger("AVERAGE-BANDWIDTH")||a.decimalInteger("BANDWIDTH"),o.name=a.NAME,i([].concat((a.CODECS||"").split(/[ ,]+/)),o),o.videoCodec&&-1!==o.videoCodec.indexOf("avc1")&&(o.videoCodec=t.convertAVC1ToAVCOTI(o.videoCodec)),n.push(o)}return n},t.parseMasterPlaylistMedia=function(e,A,r,n){var i;void 0===n&&(n=[]);var o=[],a=0;for(c.lastIndex=0;null!==(i=c.exec(e));){var l={},u=new s.default(i[1]);if(u.TYPE===r){if(l.groupId=u["GROUP-ID"],l.name=u.NAME,l.type=r,l.default="YES"===u.DEFAULT,l.autoselect="YES"===u.AUTOSELECT,l.forced="YES"===u.FORCED,u.URI&&(l.url=t.resolve(u.URI,A)),l.lang=u.LANGUAGE,l.name||(l.name=l.lang),n.length){var d=t.findGroup(n,l.groupId);l.audioCodec=d?d.codec:n[0].codec}l.id=a++,o.push(l)}}return o},t.parseLevelPlaylist=function(t,A,r,l,u){var c,p,B=0,m=0,w=new i.default(A),E=new o.default,v=0,y=null,C=new n.default,U=null;for(d.lastIndex=0;null!==(c=d.exec(t));){var Q=c[1];if(Q){C.duration=parseFloat(Q);var F=(" "+c[2]).slice(1);C.title=F||null,C.tagList.push(F?["INF",Q,F]:["INF",Q])}else if(c[3]){if(e.isFinite(C.duration)){var T=B++;C.type=l,C.start=m,C.levelkey=E,C.sn=T,C.level=r,C.cc=v,C.urlId=u,C.baseurl=A,C.relurl=(" "+c[3]).slice(1),g(C,y),w.fragments.push(C),y=C,m+=C.duration,C=new n.default}}else if(c[4]){if(C.rawByteRange=(" "+c[4]).slice(1),y){var b=y.byteRangeEndOffset;b&&(C.lastByteRangeEndOffset=b)}}else if(c[5])C.rawProgramDateTime=(" "+c[5]).slice(1),C.tagList.push(["PROGRAM-DATE-TIME",C.rawProgramDateTime]),null===U&&(U=w.fragments.length);else{for(c=c[0].match(f),p=1;p<c.length&&void 0===c[p];p++);var S=(" "+c[p+1]).slice(1),_=(" "+c[p+2]).slice(1);switch(c[p]){case"#":C.tagList.push(_?[S,_]:[S]);break;case"PLAYLIST-TYPE":w.type=S.toUpperCase();break;case"MEDIA-SEQUENCE":B=w.startSN=parseInt(S);break;case"TARGETDURATION":w.targetduration=parseFloat(S);break;case"VERSION":w.version=parseInt(S);break;case"EXTM3U":break;case"ENDLIST":w.live=!1;break;case"DIS":v++,C.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":v=parseInt(S);break;case"KEY":var R=S,I=new s.default(R),L=I.enumeratedString("METHOD"),N=I.URI,D=I.hexadecimalInteger("IV");L&&(E=new o.default,N&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(L)>=0&&(E.method=L,E.baseuri=A,E.reluri=N,E.key=null,E.iv=D));break;case"START":var H=S,O=new s.default(H).decimalFloatingPoint("TIME-OFFSET");e.isFinite(O)&&(w.startTimeOffset=O);break;case"MAP":var M=new s.default(S);C.relurl=M.URI,C.rawByteRange=M.BYTERANGE,C.baseurl=A,C.level=r,C.type=l,C.sn="initSegment",w.initSegment=C,(C=new n.default).rawProgramDateTime=w.initSegment.rawProgramDateTime;break;default:a.logger.warn("line parsed but not handled: "+c)}}}return(C=y)&&!C.relurl&&(w.fragments.pop(),m-=C.duration),w.totalduration=m,w.averagetargetduration=m/w.fragments.length,w.endSN=B-1,w.startCC=w.fragments[0]?w.fragments[0].cc:0,w.endCC=v,!w.initSegment&&w.fragments.length&&w.fragments.every(function(e){return h.test(e.relurl)})&&(a.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(C=new n.default).relurl=w.fragments[0].relurl,C.baseurl=A,C.level=r,C.type=l,C.sn="initSegment",w.initSegment=C,w.needSidxRanges=!0),U&&function(e,t){for(var A=e[t],r=t-1;r>=0;r--){var n=e[r];n.programDateTime=A.programDateTime-1e3*n.duration,A=n}}(w.fragments,U),w},t}();function g(t,A){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):A&&A.programDateTime&&(t.programDateTime=A.endProgramDateTime),e.isFinite(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}t.default=p}).call(this,A(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/loader/playlist-loader.js":
/*!***************************************!*\
  !*** ./src/loader/playlist-loader.js ***!
  \***************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";(function(e){var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])},function(e,t){function A(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var i=A(/*! ../events */"./src/events.js"),o=A(/*! ../event-handler */"./src/event-handler.js"),s=A(/*! ../errors */"./src/errors.js"),a=A(/*! ../utils/logger */"./src/utils/logger.js"),l=A(/*! ../demux/mp4demuxer */"./src/demux/mp4demuxer.js"),u=A(/*! ./m3u8-parser */"./src/loader/m3u8-parser.js"),c=window.performance,d={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},f={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"},h=function(t){function A(e){var A=t.call(this,e,i.default.MANIFEST_LOADING,i.default.LEVEL_LOADING,i.default.AUDIO_TRACK_LOADING,i.default.SUBTITLE_TRACK_LOADING)||this;return A.loaders={},A}return n(A,t),Object.defineProperty(A,"ContextType",{get:function(){return d},enumerable:!0,configurable:!0}),Object.defineProperty(A,"LevelType",{get:function(){return f},enumerable:!0,configurable:!0}),A.canHaveQualityLevels=function(e){return e!==d.AUDIO_TRACK&&e!==d.SUBTITLE_TRACK},A.mapContextToLevelType=function(e){switch(e.type){case d.AUDIO_TRACK:return f.AUDIO;case d.SUBTITLE_TRACK:return f.SUBTITLE;default:return f.MAIN}},A.getResponseUrl=function(e,t){var A=e.url;return void 0!==A&&0!==A.indexOf("data:")||(A=t.url),A},A.prototype.createInternalLoader=function(e){var t=this.hls.config,A=t.pLoader,r=t.loader,n=new(A||r)(t);return e.loader=n,this.loaders[e.type]=n,n},A.prototype.getInternalLoader=function(e){return this.loaders[e.type]},A.prototype.resetInternalLoader=function(e){this.loaders[e]&&delete this.loaders[e]},A.prototype.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}},A.prototype.destroy=function(){this.destroyInternalLoaders(),t.prototype.destroy.call(this)},A.prototype.onManifestLoading=function(e){this.load(e.url,{type:d.MANIFEST,level:0,id:null})},A.prototype.onLevelLoading=function(e){this.load(e.url,{type:d.LEVEL,level:e.level,id:e.id})},A.prototype.onAudioTrackLoading=function(e){this.load(e.url,{type:d.AUDIO_TRACK,level:null,id:e.id})},A.prototype.onSubtitleTrackLoading=function(e){this.load(e.url,{type:d.SUBTITLE_TRACK,level:null,id:e.id})},A.prototype.load=function(e,t){var A=this.hls.config;a.logger.debug("Loading playlist of type "+t.type+", level: "+t.level+", id: "+t.id);var r,n,i,o,s=this.getInternalLoader(t);if(s){var l=s.context;if(l&&l.url===e)return a.logger.trace("playlist request ongoing"),!1;a.logger.warn("aborting previous loader for type: "+t.type),s.abort()}switch(t.type){case d.MANIFEST:r=A.manifestLoadingMaxRetry,n=A.manifestLoadingTimeOut,i=A.manifestLoadingRetryDelay,o=A.manifestLoadingMaxRetryTimeout;break;case d.LEVEL:r=0,n=A.levelLoadingTimeOut;break;default:r=A.levelLoadingMaxRetry,n=A.levelLoadingTimeOut,i=A.levelLoadingRetryDelay,o=A.levelLoadingMaxRetryTimeout}s=this.createInternalLoader(t),t.url=e,t.responseType=t.responseType||"";var u={timeout:n,maxRetry:r,retryDelay:i,maxRetryDelay:o},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return a.logger.debug("Calling internal loader delegate for URL: "+e),s.load(t,u,c),!0},A.prototype.loadsuccess=function(e,t,A,r){if(void 0===r&&(r=null),A.isSidxRequest)return this._handleSidxRequest(e,A),void this._handlePlaylistLoaded(e,t,A,r);this.resetInternalLoader(A.type);var n=e.data;t.tload=c.now(),0===n.indexOf("#EXTM3U")?n.indexOf("#EXTINF:")>0||n.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(e,t,A,r):this._handleMasterPlaylist(e,t,A,r):this._handleManifestParsingError(e,A,"no EXTM3U delimiter",r)},A.prototype.loaderror=function(e,t,A){void 0===A&&(A=null),this._handleNetworkError(t,A,!1,e)},A.prototype.loadtimeout=function(e,t,A){void 0===A&&(A=null),this._handleNetworkError(t,A,!0)},A.prototype._handleMasterPlaylist=function(e,t,r,n){var o=this.hls,s=e.data,l=A.getResponseUrl(e,r),c=u.default.parseMasterPlaylist(s,l);if(c.length){var d=c.map(function(e){return{id:e.attrs.AUDIO,codec:e.audioCodec}}),f=u.default.parseMasterPlaylistMedia(s,l,"AUDIO",d),h=u.default.parseMasterPlaylistMedia(s,l,"SUBTITLES");if(f.length){var p=!1;f.forEach(function(e){e.url||(p=!0)}),!1===p&&c[0].audioCodec&&!c[0].attrs.AUDIO&&(a.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),f.unshift({type:"main",name:"main"}))}o.trigger(i.default.MANIFEST_LOADED,{levels:c,audioTracks:f,subtitles:h,url:l,stats:t,networkDetails:n})}else this._handleManifestParsingError(e,r,"no level found in manifest",n)},A.prototype._handleTrackOrLevelPlaylist=function(t,r,n,o){var s=this.hls,a=n.id,l=n.level,f=n.type,h=A.getResponseUrl(t,n),p=e.isFinite(a)?a:0,g=e.isFinite(l)?l:p,B=A.mapContextToLevelType(n),m=u.default.parseLevelPlaylist(t.data,h,g,B,p);if(m.tload=r.tload,f===d.MANIFEST){var w={url:h,details:m};s.trigger(i.default.MANIFEST_LOADED,{levels:[w],audioTracks:[],url:h,stats:r,networkDetails:o})}if(r.tparsed=c.now(),m.needSidxRanges){var E=m.initSegment.url;this.load(E,{isSidxRequest:!0,type:f,level:l,levelDetails:m,id:a,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"})}else n.levelDetails=m,this._handlePlaylistLoaded(t,r,n,o)},A.prototype._handleSidxRequest=function(e,t){var A=l.default.parseSegmentIndex(new Uint8Array(e.data));if(A){var r=A.references,n=t.levelDetails;r.forEach(function(e,t){var A=e.info,r=n.fragments[t];0===r.byteRange.length&&(r.rawByteRange=String(1+A.end-A.start)+"@"+String(A.start))}),n.initSegment.rawByteRange=String(A.moovEndOffset)+"@0"}},A.prototype._handleManifestParsingError=function(e,t,A,r){this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:e.url,reason:A,networkDetails:r})},A.prototype._handleNetworkError=function(e,t,A,r){var n,o;void 0===A&&(A=!1),void 0===r&&(r=null),a.logger.info("A network error occured while loading a "+e.type+"-type playlist");var l=this.getInternalLoader(e);switch(e.type){case d.MANIFEST:n=A?s.ErrorDetails.MANIFEST_LOAD_TIMEOUT:s.ErrorDetails.MANIFEST_LOAD_ERROR,o=!0;break;case d.LEVEL:n=A?s.ErrorDetails.LEVEL_LOAD_TIMEOUT:s.ErrorDetails.LEVEL_LOAD_ERROR,o=!1;break;case d.AUDIO_TRACK:n=A?s.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,o=!1;break;default:o=!1}l&&(l.abort(),this.resetInternalLoader(e.type));var u={type:s.ErrorTypes.NETWORK_ERROR,details:n,fatal:o,url:l.url,loader:l,context:e,networkDetails:t};r&&(u.response=r),this.hls.trigger(i.default.ERROR,u)},A.prototype._handlePlaylistLoaded=function(e,t,r,n){var o=r.type,s=r.level,a=r.id,l=r.levelDetails;if(l.targetduration)if(A.canHaveQualityLevels(r.type))this.hls.trigger(i.default.LEVEL_LOADED,{details:l,level:s||0,id:a||0,stats:t,networkDetails:n});else switch(o){case d.AUDIO_TRACK:this.hls.trigger(i.default.AUDIO_TRACK_LOADED,{details:l,id:a,stats:t,networkDetails:n});break;case d.SUBTITLE_TRACK:this.hls.trigger(i.default.SUBTITLE_TRACK_LOADED,{details:l,id:a,stats:t,networkDetails:n})}else this._handleManifestParsingError(e,r,"invalid target duration",n)},A}(o.default);t.default=h}).call(this,A(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/observer.js":
/*!*************************!*\
  !*** ./src/observer.js ***!
  \*************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])},function(e,t){function A(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.trigger=function(e){for(var t=[],A=1;A<arguments.length;A++)t[A-1]=arguments[A];this.emit.apply(this,[e,e].concat(t))},t}(A(/*! eventemitter3 */"./node_modules/eventemitter3/index.js").EventEmitter);t.Observer=i},"./src/polyfills/number.js":
/*!*********************************!*\
  !*** ./src/polyfills/number.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=A(/*! ../utils/get-self-scope */"./src/utils/get-self-scope.js").getSelfScope().Number;t.Number=r,r.isFinite=r.isFinite||function(e){return"number"==typeof e&&isFinite(e)}},"./src/remux/aac-helper.js":
/*!*********************************!*\
  !*** ./src/remux/aac-helper.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.getSilentFrame=function(e,t){switch(e){case"mp4a.40.2":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},e}();t.default=r},"./src/remux/mp4-generator.js":
/*!************************************!*\
  !*** ./src/remux/mp4-generator.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Math.pow(2,32)-1,n=function(){function e(){}return e.init=function(){var t;for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var A=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:A,audio:r};var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),i=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=i,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var o=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),a=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,o,a,o,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,n))},e.box=function(e){for(var t,A=Array.prototype.slice.call(arguments,1),r=8,n=A.length,i=n;n--;)r+=A[n].byteLength;for((t=new Uint8Array(r))[0]=r>>24&255,t[1]=r>>16&255,t[2]=r>>8&255,t[3]=255&r,t.set(e,4),n=0,r=8;n<i;n++)t.set(A[n],r),r+=A[n].byteLength;return t},e.hdlr=function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])},e.mdat=function(t){return e.box(e.types.mdat,t)},e.mdhd=function(t,A){A*=t;var n=Math.floor(A/(r+1)),i=Math.floor(A%(r+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,i>>24,i>>16&255,i>>8&255,255&i,85,196,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))},e.mfhd=function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},e.minf=function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))},e.moof=function(t,A,r){return e.box(e.types.moof,e.mfhd(t),e.traf(r,A))},e.moov=function(t){for(var A=t.length,r=[];A--;)r[A]=e.trak(t[A]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(r).concat(e.mvex(t)))},e.mvex=function(t){for(var A=t.length,r=[];A--;)r[A]=e.trex(t[A]);return e.box.apply(null,[e.types.mvex].concat(r))},e.mvhd=function(t,A){A*=t;var n=Math.floor(A/(r+1)),i=Math.floor(A%(r+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,i>>24,i>>16&255,i>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,o)},e.sdtp=function(t){var A,r,n=t.samples||[],i=new Uint8Array(4+n.length);for(r=0;r<n.length;r++)A=n[r].flags,i[r+4]=A.dependsOn<<4|A.isDependedOn<<2|A.hasRedundancy;return e.box(e.types.sdtp,i)},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))},e.avc1=function(t){var A,r,n,i=[],o=[];for(A=0;A<t.sps.length;A++)n=(r=t.sps[A]).byteLength,i.push(n>>>8&255),i.push(255&n),i=i.concat(Array.prototype.slice.call(r));for(A=0;A<t.pps.length;A++)n=(r=t.pps[A]).byteLength,o.push(n>>>8&255),o.push(255&n),o=o.concat(Array.prototype.slice.call(r));var s=e.box(e.types.avcC,new Uint8Array([1,i[3],i[4],i[5],255,224|t.sps.length].concat(i).concat([t.pps.length]).concat(o))),a=t.width,l=t.height,u=t.pixelRatio[0],c=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,a>>8&255,255&a,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,255&u,c>>24,c>>16&255,c>>8&255,255&c])))},e.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},e.mp4a=function(t){var A=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,A>>8&255,255&A,0,0]),e.box(e.types.esds,e.esds(t)))},e.mp3=function(t){var A=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,A>>8&255,255&A,0,0]))},e.stsd=function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))},e.tkhd=function(t){var A=t.id,n=t.duration*t.timescale,i=t.width,o=t.height,s=Math.floor(n/(r+1)),a=Math.floor(n%(r+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,A>>24&255,A>>16&255,A>>8&255,255&A,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,a>>24,a>>16&255,a>>8&255,255&a,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,o>>8&255,255&o,0,0]))},e.traf=function(t,A){var n=e.sdtp(t),i=t.id,o=Math.floor(A/(r+1)),s=Math.floor(A%(r+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,s>>24,s>>16&255,s>>8&255,255&s])),e.trun(t,n.length+16+20+8+16+8+8),n)},e.trak=function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.trex=function(t){var A=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,A>>24,A>>16&255,A>>8&255,255&A,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},e.trun=function(t,A){var r,n,i,o,s,a,l=t.samples||[],u=l.length,c=12+16*u,d=new Uint8Array(c);for(A+=8+c,d.set([0,0,15,1,u>>>24&255,u>>>16&255,u>>>8&255,255&u,A>>>24&255,A>>>16&255,A>>>8&255,255&A],0),r=0;r<u;r++)i=(n=l[r]).duration,o=n.size,s=n.flags,a=n.cts,d.set([i>>>24&255,i>>>16&255,i>>>8&255,255&i,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,a>>>24&255,a>>>16&255,a>>>8&255,255&a],12+16*r);return e.box(e.types.trun,d)},e.initSegment=function(t){e.types||e.init();var A,r=e.moov(t);return(A=new Uint8Array(e.FTYP.byteLength+r.byteLength)).set(e.FTYP),A.set(r,e.FTYP.byteLength),A},e}();t.default=n},"./src/remux/mp4-remuxer.js":
/*!**********************************!*\
  !*** ./src/remux/mp4-remuxer.js ***!
  \**********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=A(/*! ./aac-helper */"./src/remux/aac-helper.js"),n=A(/*! ./mp4-generator */"./src/remux/mp4-generator.js"),i=A(/*! ../events */"./src/events.js"),o=A(/*! ../errors */"./src/errors.js"),s=A(/*! ../utils/logger */"./src/utils/logger.js"),a=function(){function e(e,t,A,r){this.observer=e,this.config=t,this.typeSupported=A;var n=navigator.userAgent;this.isSafari=r&&r.indexOf("Apple")>-1&&n&&!n.match("CriOS"),this.ISGenerated=!1}return e.prototype.destroy=function(){},e.prototype.resetTimeStamp=function(e){this._initPTS=this._initDTS=e},e.prototype.resetInitSegment=function(){this.ISGenerated=!1},e.prototype.remux=function(e,t,A,r,n,o,a){if(this.ISGenerated||this.generateIS(e,t,n),this.ISGenerated){var l=e.samples.length,u=t.samples.length,c=n,d=n;if(l&&u){var f=(e.samples[0].pts-t.samples[0].pts)/t.inputTimeScale;c+=Math.max(0,f),d+=Math.max(0,-f)}if(l){e.timescale||(s.logger.warn("regenerate InitSegment as audio detected"),this.generateIS(e,t,n));var h=this.remuxAudio(e,c,o,a);if(u){var p=void 0;h&&(p=h.endPTS-h.startPTS),t.timescale||(s.logger.warn("regenerate InitSegment as video detected"),this.generateIS(e,t,n)),this.remuxVideo(t,d,o,p,a)}}else if(u){var g=this.remuxVideo(t,d,o,0,a);g&&e.codec&&this.remuxEmptyAudio(e,c,o,g)}}A.samples.length&&this.remuxID3(A,n),r.samples.length&&this.remuxText(r,n),this.observer.trigger(i.default.FRAG_PARSED)},e.prototype.generateIS=function(e,t,A){var r,a,l=this.observer,u=e.samples,c=t.samples,d=this.typeSupported,f="audio/mp4",h={},p={tracks:h},g=void 0===this._initPTS;if(g&&(r=a=1/0),e.config&&u.length&&(e.timescale=e.samplerate,s.logger.log("audio sampling rate : "+e.samplerate),e.isAAC||(d.mpeg?(f="audio/mpeg",e.codec=""):d.mp3&&(e.codec="mp3")),h.audio={container:f,codec:e.codec,initSegment:!e.isAAC&&d.mpeg?new Uint8Array:n.default.initSegment([e]),metadata:{channelCount:e.channelCount}},g&&(r=a=u[0].pts-e.inputTimeScale*A)),t.sps&&t.pps&&c.length){var B=t.inputTimeScale;t.timescale=B,h.video={container:"video/mp4",codec:t.codec,initSegment:n.default.initSegment([t]),metadata:{width:t.width,height:t.height}},g&&(r=Math.min(r,c[0].pts-B*A),a=Math.min(a,c[0].dts-B*A),this.observer.trigger(i.default.INIT_PTS_FOUND,{initPTS:r}))}Object.keys(h).length?(l.trigger(i.default.FRAG_PARSING_INIT_SEGMENT,p),this.ISGenerated=!0,g&&(this._initPTS=r,this._initDTS=a)):l.trigger(i.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},e.prototype.remuxVideo=function(e,t,A,r,a){var l,u,c,d,f,h,p,g=8,B=e.timescale,m=e.samples,w=[],E=m.length,v=this._PTSNormalize,y=this._initPTS,C=this.nextAvcDts,U=this.isSafari;if(0!==E){U&&(A|=m.length&&C&&(a&&Math.abs(t-C/B)<.1||Math.abs(m[0].pts-C-y)<B/5)),A||(C=t*B),m.forEach(function(e){e.pts=v(e.pts-y,C),e.dts=v(e.dts-y,C)}),m.sort(function(e,t){var A=e.dts-t.dts,r=e.pts-t.pts;return A||r||e.id-t.id});var Q=m.reduce(function(e,t){return Math.max(Math.min(e,t.pts-t.dts),-18e3)},0);if(Q<0){s.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(Q/90)+" ms to overcome this issue");for(var F=0;F<m.length;F++)m[F].dts+=Q}var T=m[0];f=Math.max(T.dts,0),d=Math.max(T.pts,0);var b=Math.round((f-C)/90);A&&b&&(b>1?s.logger.log("AVC:"+b+" ms hole between fragments detected,filling it"):b<-1&&s.logger.log("AVC:"+-b+" ms overlapping between fragments detected"),f=C,m[0].dts=f,d=Math.max(d-b,C),m[0].pts=d,s.logger.log("Video/PTS/DTS adjusted: "+Math.round(d/90)+"/"+Math.round(f/90)+",delta:"+b+" ms")),T=m[m.length-1],p=Math.max(T.dts,0),h=Math.max(T.pts,0,p),U&&(l=Math.round((p-f)/(m.length-1)));var S=0,_=0;for(F=0;F<E;F++){for(var R=m[F],I=R.units,L=I.length,N=0,D=0;D<L;D++)N+=I[D].data.length;_+=N,S+=L,R.length=N,R.dts=U?f+F*l:Math.max(R.dts,f),R.pts=Math.max(R.pts,R.dts)}var H=_+4*S+8;try{u=new Uint8Array(H)}catch(e){return void this.observer.trigger(i.default.ERROR,{type:o.ErrorTypes.MUX_ERROR,details:o.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:H,reason:"fail allocating video mdat "+H})}var O=new DataView(u.buffer);O.setUint32(0,H),u.set(n.default.types.mdat,4);for(F=0;F<E;F++){var M=m[F],x=M.units,P=0,K=void 0;for(D=0,L=x.length;D<L;D++){var k=x[D],G=k.data,j=k.data.byteLength;O.setUint32(g,j),g+=4,u.set(G,g),g+=j,P+=4+j}if(U)K=Math.max(0,l*Math.round((M.pts-M.dts)/l));else{if(F<E-1)l=m[F+1].dts-M.dts;else{var V=this.config,z=M.dts-m[F>0?F-1:F].dts;if(V.stretchShortVideoTrack){var X=V.maxBufferHole,Y=Math.floor(X*B),W=(r?d+r*B:this.nextAudioPts)-M.pts;W>Y?((l=W-z)<0&&(l=z),s.logger.log("It is approximately "+W/90+" ms to the next segment; using duration "+l/90+" ms for the last video frame.")):l=z}else l=z}K=Math.round(M.pts-M.dts)}w.push({size:P,duration:l,cts:K,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:M.key?2:1,isNonSync:M.key?0:1}})}this.nextAvcDts=p+l;var J=e.dropped;if(e.len=0,e.nbNalu=0,e.dropped=0,w.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var q=w[0].flags;q.dependsOn=2,q.isNonSync=0}e.samples=w,c=n.default.moof(e.sequenceNumber++,f,e),e.samples=[];var Z={data1:c,data2:u,startPTS:d/B,endPTS:(h+l)/B,startDTS:f/B,endDTS:this.nextAvcDts/B,type:"video",hasAudio:!1,hasVideo:!0,nb:w.length,dropped:J};return this.observer.trigger(i.default.FRAG_PARSING_DATA,Z),Z}},e.prototype.remuxAudio=function(e,t,A,a){var l,u,c,d,f,h,p,g=e.inputTimeScale,B=e.timescale,m=g/B,w=(e.isAAC?1024:1152)*m,E=this._PTSNormalize,v=this._initPTS,y=!e.isAAC&&this.typeSupported.mpeg,C=e.samples,U=[],Q=this.nextAudioPts;if(A|=C.length&&Q&&(a&&Math.abs(t-Q/g)<.1||Math.abs(C[0].pts-Q-v)<20*w),C.forEach(function(e){e.pts=e.dts=E(e.pts-v,t*g)}),0!==(C=C.filter(function(e){return e.pts>=0})).length){if(A||(Q=a?t*g:C[0].pts),e.isAAC)for(var F=this.config.maxAudioFramesDrift,T=0,b=Q;T<C.length;){var S,_=C[T];S=(M=_.pts)-b;var R=Math.abs(1e3*S/g);if(S<=-F*w)s.logger.warn("Dropping 1 audio frame @ "+(b/g).toFixed(3)+"s due to "+Math.round(R)+" ms overlap."),C.splice(T,1),e.len-=_.unit.length;else if(S>=F*w&&R<1e4&&b){var I=Math.round(S/w);s.logger.warn("Injecting "+I+" audio frame @ "+(b/g).toFixed(3)+"s due to "+Math.round(1e3*S/g)+" ms gap.");for(var L=0;L<I;L++){var N=Math.max(b,0);(c=r.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(s.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),c=_.unit.subarray()),C.splice(T,0,{unit:c,pts:N,dts:N}),e.len+=c.length,b+=w,T++}_.pts=_.dts=b,b+=w,T++}else Math.abs(S),_.pts=_.dts=b,b+=w,T++}L=0;for(var D=C.length;L<D;L++){var H=C[L],O=H.unit,M=H.pts;if(void 0!==p)u.duration=Math.round((M-p)/m);else{var x=Math.round(1e3*(M-Q)/g),P=0;if(A&&e.isAAC&&x){if(x>0&&x<1e4)P=Math.round((M-Q)/w),s.logger.log(x+" ms hole between AAC samples detected,filling it"),P>0&&((c=r.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(c=O.subarray()),e.len+=P*c.length);else if(x<-12){s.logger.log("drop overlapping AAC sample, expected/parsed/delta:"+(Q/g).toFixed(3)+"s/"+(M/g).toFixed(3)+"s/"+-x+"ms"),e.len-=O.byteLength;continue}M=Q}if(h=M,!(e.len>0))return;var K=y?e.len:e.len+8;l=y?0:8;try{d=new Uint8Array(K)}catch(e){return void this.observer.trigger(i.default.ERROR,{type:o.ErrorTypes.MUX_ERROR,details:o.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:K,reason:"fail allocating audio mdat "+K})}y||(new DataView(d.buffer).setUint32(0,K),d.set(n.default.types.mdat,4));for(T=0;T<P;T++)(c=r.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(s.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),c=O.subarray()),d.set(c,l),l+=c.byteLength,u={size:c.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},U.push(u)}d.set(O,l);var k=O.byteLength;l+=k,u={size:k,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},U.push(u),p=M}var G=0,j=U.length;if(j>=2&&(G=U[j-2].duration,u.duration=G),j){this.nextAudioPts=Q=p+m*G,e.len=0,e.samples=U,f=y?new Uint8Array:n.default.moof(e.sequenceNumber++,h/m,e),e.samples=[];var V=h/g,z=Q/g,X={data1:f,data2:d,startPTS:V,endPTS:z,startDTS:V,endDTS:z,type:"audio",hasAudio:!0,hasVideo:!1,nb:j};return this.observer.trigger(i.default.FRAG_PARSING_DATA,X),X}return null}},e.prototype.remuxEmptyAudio=function(e,t,A,n){var i=e.inputTimeScale,o=i/(e.samplerate?e.samplerate:i),a=this.nextAudioPts,l=(void 0!==a?a:n.startDTS*i)+this._initDTS,u=n.endDTS*i+this._initDTS,c=1024*o,d=Math.ceil((u-l)/c),f=r.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(s.logger.warn("remux empty Audio"),f){for(var h=[],p=0;p<d;p++){var g=l+p*c;h.push({unit:f,pts:g,dts:g}),e.len+=f.length}e.samples=h,this.remuxAudio(e,t,A)}else s.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},e.prototype.remuxID3=function(e){var t,A=e.samples.length,r=e.inputTimeScale,n=this._initPTS,o=this._initDTS;if(A){for(var s=0;s<A;s++)(t=e.samples[s]).pts=(t.pts-n)/r,t.dts=(t.dts-o)/r;this.observer.trigger(i.default.FRAG_PARSING_METADATA,{samples:e.samples})}e.samples=[]},e.prototype.remuxText=function(e){e.samples.sort(function(e,t){return e.pts-t.pts});var t,A=e.samples.length,r=e.inputTimeScale,n=this._initPTS;if(A){for(var o=0;o<A;o++)(t=e.samples[o]).pts=(t.pts-n)/r;this.observer.trigger(i.default.FRAG_PARSING_USERDATA,{samples:e.samples})}e.samples=[]},e.prototype._PTSNormalize=function(e,t){var A;if(void 0===t)return e;for(A=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=A;return e},e}();t.default=a},"./src/remux/passthrough-remuxer.js":
/*!******************************************!*\
  !*** ./src/remux/passthrough-remuxer.js ***!
  \******************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=A(/*! ../events */"./src/events.js"),n=function(){function e(e){this.observer=e}return e.prototype.destroy=function(){},e.prototype.resetTimeStamp=function(){},e.prototype.resetInitSegment=function(){},e.prototype.remux=function(e,t,A,n,i,o,s,a){var l=this.observer,u="";e&&(u+="audio"),t&&(u+="video"),l.trigger(r.default.FRAG_PARSING_DATA,{data1:a,startPTS:i,startDTS:i,type:u,hasAudio:!!e,hasVideo:!!t,nb:1,dropped:0}),l.trigger(r.default.FRAG_PARSED)},e}();t.default=n},"./src/task-loop.js":
/*!**************************!*\
  !*** ./src/task-loop.js ***!
  \**************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])},function(e,t){function A(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){for(var A=[],r=1;r<arguments.length;r++)A[r-1]=arguments[r];var n=e.apply(this,[t].concat(A))||this;return n._tickInterval=null,n._tickTimer=null,n._tickCallCount=0,n._boundTick=n.tick.bind(n),n}return n(t,e),t.prototype.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},t.prototype.hasInterval=function(){return!!this._tickInterval},t.prototype.hasNextTick=function(){return!!this._tickTimer},t.prototype.setInterval=function(e){return!this._tickInterval&&(this._tickInterval=setInterval(this._boundTick,e),!0)},t.prototype.clearInterval=function(){return!!this._tickInterval&&(clearInterval(this._tickInterval),this._tickInterval=null,!0)},t.prototype.clearNextTick=function(){return!!this._tickTimer&&(clearTimeout(this._tickTimer),this._tickTimer=null,!0)},t.prototype.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&(this.clearNextTick(),this._tickTimer=setTimeout(this._boundTick,0)),this._tickCallCount=0)},t.prototype.doTick=function(){},t}(A(/*! ./event-handler */"./src/event-handler.js").default);t.default=i},"./src/utils/attr-list.js":
/*!********************************!*\
  !*** ./src/utils/attr-list.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var A=/^(\d+)x(\d+)$/,r=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,n=function(){function t(e){for(var A in"string"==typeof e&&(e=t.parseAttrList(e)),e)e.hasOwnProperty(A)&&(this[A]=e[A])}return t.prototype.decimalInteger=function(t){var A=parseInt(this[t],10);return A>e.MAX_SAFE_INTEGER?1/0:A},t.prototype.hexadecimalInteger=function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var A=new Uint8Array(t.length/2),r=0;r<t.length/2;r++)A[r]=parseInt(t.slice(2*r,2*r+2),16);return A}return null},t.prototype.hexadecimalIntegerAsNumber=function(t){var A=parseInt(this[t],16);return A>e.MAX_SAFE_INTEGER?1/0:A},t.prototype.decimalFloatingPoint=function(e){return parseFloat(this[e])},t.prototype.enumeratedString=function(e){return this[e]},t.prototype.decimalResolution=function(e){var t=A.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},t.parseAttrList=function(e){var t,A={};for(r.lastIndex=0;null!==(t=r.exec(e));){var n=t[2];0===n.indexOf('"')&&n.lastIndexOf('"')===n.length-1&&(n=n.slice(1,-1)),A[t[1]]=n}return A},t}();t.default=n}).call(this,A(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/utils/binary-search.js":
/*!************************************!*\
  !*** ./src/utils/binary-search.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={search:function(e,t){for(var A=0,r=e.length-1,n=null,i=null;A<=r;){var o=t(i=e[n=(A+r)/2|0]);if(o>0)A=n+1;else{if(!(o<0))return i;r=n-1}}return null}}},"./src/utils/buffer-helper.js":
/*!************************************!*\
  !*** ./src/utils/buffer-helper.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.isBuffered=function(e,t){try{if(e)for(var A=e.buffered,r=0;r<A.length;r++)if(t>=A.start(r)&&t<=A.end(r))return!0}catch(e){}return!1},e.bufferInfo=function(e,t,A){try{if(e){var r=e.buffered,n=[],i=void 0;for(i=0;i<r.length;i++)n.push({start:r.start(i),end:r.end(i)});return this.bufferedInfo(n,t,A)}}catch(e){}return{len:0,start:t,end:t,nextStart:void 0}},e.bufferedInfo=function(e,t,A){var r,n,i,o,s,a=[];for(e.sort(function(e,t){var A=e.start-t.start;return A||t.end-e.end}),s=0;s<e.length;s++){var l=a.length;if(l){var u=a[l-1].end;e[s].start-u<A?e[s].end>u&&(a[l-1].end=e[s].end):a.push(e[s])}else a.push(e[s])}for(s=0,r=0,n=i=t;s<a.length;s++){var c=a[s].start,d=a[s].end;if(t+A>=c&&t<d)n=c,r=(i=d)-t;else if(t+A<c){o=c;break}}return{len:r,start:n,end:i,nextStart:o}},e}();t.BufferHelper=r},"./src/utils/cea-608-parser.js":
/*!*************************************!*\
  !*** ./src/utils/cea-608-parser.js ***!
  \*************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},n=function(e){var t=e;return r.hasOwnProperty(e)&&(t=r[e]),String.fromCharCode(t)},i=15,o=100,s={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},a={17:2,18:4,21:6,22:8,23:10,19:13,20:15},l={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},u={25:2,26:4,29:6,30:8,31:10,27:13,28:15},c=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],d={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){this.verboseFilter[e];this.verboseLevel}},f=function(e){for(var t=[],A=0;A<e.length;A++)t.push(e[A].toString(16));return t},h=function(){function e(e,t,A,r,n){this.foreground=e||"white",this.underline=t||!1,this.italics=A||!1,this.background=r||"black",this.flash=n||!1}return e.prototype.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},e.prototype.setStyles=function(e){for(var t=["foreground","underline","italics","background","flash"],A=0;A<t.length;A++){var r=t[A];e.hasOwnProperty(r)&&(this[r]=e[r])}},e.prototype.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},e.prototype.equals=function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},e.prototype.copy=function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},e.prototype.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},e}(),p=function(){function e(e,t,A,r,n,i){this.uchar=e||" ",this.penState=new h(t,A,r,n,i)}return e.prototype.reset=function(){this.uchar=" ",this.penState.reset()},e.prototype.setChar=function(e,t){this.uchar=e,this.penState.copy(t)},e.prototype.setPenState=function(e){this.penState.copy(e)},e.prototype.equals=function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},e.prototype.copy=function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},e.prototype.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},e}(),g=function(){function e(){this.chars=[];for(var e=0;e<o;e++)this.chars.push(new p);this.pos=0,this.currPenState=new h}return e.prototype.equals=function(e){for(var t=!0,A=0;A<o;A++)if(!this.chars[A].equals(e.chars[A])){t=!1;break}return t},e.prototype.copy=function(e){for(var t=0;t<o;t++)this.chars[t].copy(e.chars[t])},e.prototype.isEmpty=function(){for(var e=!0,t=0;t<o;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},e.prototype.setCursor=function(e){this.pos!==e&&(this.pos=e),this.pos<0?(d.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>o&&(d.log("ERROR","Too large cursor position "+this.pos),this.pos=o)},e.prototype.moveCursor=function(e){var t=this.pos+e;if(e>1)for(var A=this.pos+1;A<t+1;A++)this.chars[A].setPenState(this.currPenState);this.setCursor(t)},e.prototype.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},e.prototype.insertChar=function(e){e>=144&&this.backSpace();var t=n(e);this.pos>=o?d.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))},e.prototype.clearFromPos=function(e){var t;for(t=e;t<o;t++)this.chars[t].reset()},e.prototype.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},e.prototype.clearToEndOfRow=function(){this.clearFromPos(this.pos)},e.prototype.getTextString=function(){for(var e=[],t=!0,A=0;A<o;A++){var r=this.chars[A].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")},e.prototype.setPenStyles=function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)},e}(),B=function(){function e(){this.rows=[];for(var e=0;e<i;e++)this.rows.push(new g);this.currRow=i-1,this.nrRollUpRows=null,this.reset()}return e.prototype.reset=function(){for(var e=0;e<i;e++)this.rows[e].clear();this.currRow=i-1},e.prototype.equals=function(e){for(var t=!0,A=0;A<i;A++)if(!this.rows[A].equals(e.rows[A])){t=!1;break}return t},e.prototype.copy=function(e){for(var t=0;t<i;t++)this.rows[t].copy(e.rows[t])},e.prototype.isEmpty=function(){for(var e=!0,t=0;t<i;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},e.prototype.backSpace=function(){this.rows[this.currRow].backSpace()},e.prototype.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},e.prototype.insertChar=function(e){this.rows[this.currRow].insertChar(e)},e.prototype.setPen=function(e){this.rows[this.currRow].setPenStyles(e)},e.prototype.moveCursor=function(e){this.rows[this.currRow].moveCursor(e)},e.prototype.setCursor=function(e){d.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)},e.prototype.setPAC=function(e){d.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var A=0;A<i;A++)this.rows[A].clear();var r=this.currRow+1-this.nrRollUpRows,n=this.lastOutputScreen;if(n){var o=n.rows[r].cueStartTime;if(o&&o<d.time)for(A=0;A<this.nrRollUpRows;A++)this.rows[t-this.nrRollUpRows+A+1].copy(n.rows[r+A])}}this.currRow=t;var s=this.rows[this.currRow];if(null!==e.indent){var a=e.indent,l=Math.max(a-1,0);s.setCursor(e.indent),e.color=s.chars[l].penState.foreground}var u={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(u)},e.prototype.setBkgData=function(e){d.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},e.prototype.setRollUpRows=function(e){this.nrRollUpRows=e},e.prototype.rollUp=function(){if(null!==this.nrRollUpRows){d.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),d.log("INFO","Rolling up")}else d.log("DEBUG","roll_up but nrRollUpRows not set yet")},e.prototype.getDisplayText=function(e){e=e||!1;for(var t=[],A="",r=-1,n=0;n<i;n++){var o=this.rows[n].getTextString();o&&(r=n+1,e?t.push("Row "+r+": '"+o+"'"):t.push(o.trim()))}return t.length>0&&(A=e?"["+t.join(" | ")+"]":t.join("\n")),A},e.prototype.getTextAndFormat=function(){return this.rows},e}(),m=function(){function e(e,t){this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new B,this.nonDisplayedMemory=new B,this.lastOutputScreen=new B,this.currRollUpRow=this.displayedMemory.rows[i-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return e.prototype.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[i-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},e.prototype.getHandler=function(){return this.outputFilter},e.prototype.setHandler=function(e){this.outputFilter=e},e.prototype.setPAC=function(e){this.writeScreen.setPAC(e)},e.prototype.setBkgData=function(e){this.writeScreen.setBkgData(e)},e.prototype.setMode=function(e){e!==this.mode&&(this.mode=e,d.log("INFO","MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},e.prototype.insertChars=function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var A=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";d.log("INFO",A+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(d.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},e.prototype.ccRCL=function(){d.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},e.prototype.ccBS=function(){d.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},e.prototype.ccAOF=function(){},e.prototype.ccAON=function(){},e.prototype.ccDER=function(){d.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},e.prototype.ccRU=function(e){d.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},e.prototype.ccFON=function(){d.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},e.prototype.ccRDC=function(){d.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},e.prototype.ccTR=function(){d.log("INFO","TR"),this.setMode("MODE_TEXT")},e.prototype.ccRTD=function(){d.log("INFO","RTD"),this.setMode("MODE_TEXT")},e.prototype.ccEDM=function(){d.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},e.prototype.ccCR=function(){d.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},e.prototype.ccENM=function(){d.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},e.prototype.ccEOC=function(){if(d.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,d.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},e.prototype.ccTO=function(e){d.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},e.prototype.ccMIDROW=function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{var A=Math.floor(e/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][A]}d.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},e.prototype.outputDataUpdate=function(e){void 0===e&&(e=!1);var t=d.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),!0===e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue()),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))},e.prototype.cueSplitAtTime=function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))},e}(),w=function(){function e(e,t,A){this.field=e||1,this.outputs=[t,A],this.channels=[new m(1,t),new m(2,A)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return e.prototype.getHandler=function(e){return this.channels[e].getHandler()},e.prototype.setHandler=function(e,t){this.channels[e].setHandler(t)},e.prototype.addData=function(e,t){var A,r,n,i=!1;this.lastTime=e,d.setTime(e);for(var o=0;o<t.length;o+=2)if(r=127&t[o],n=127&t[o+1],0!==r||0!==n){if(d.log("DATA","["+f([t[o],t[o+1]])+"] -> ("+f([r,n])+")"),(A=this.parseCmd(r,n))||(A=this.parseMidrow(r,n)),A||(A=this.parsePAC(r,n)),A||(A=this.parseBackgroundAttributes(r,n)),!A)if(i=this.parseChars(r,n))if(this.currChNr&&this.currChNr>=0)this.channels[this.currChNr-1].insertChars(i);else d.log("WARNING","No channel found yet. TEXT-MODE?");A?this.dataCounters.cmd+=2:i?this.dataCounters.char+=2:(this.dataCounters.other+=2,d.log("WARNING","Couldn't parse cleaned data "+f([r,n])+" orig: "+f([t[o],t[o+1]])))}else this.dataCounters.padding+=2},e.prototype.parseCmd=function(e,t){var A=null;if(!((20===e||28===e)&&t>=32&&t<=47)&&!((23===e||31===e)&&t>=33&&t<=35))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,d.log("DEBUG","Repeated command ("+f([e,t])+") is dropped"),!0;A=20===e||23===e?1:2;var r=this.channels[A-1];return 20===e||28===e?32===t?r.ccRCL():33===t?r.ccBS():34===t?r.ccAOF():35===t?r.ccAON():36===t?r.ccDER():37===t?r.ccRU(2):38===t?r.ccRU(3):39===t?r.ccRU(4):40===t?r.ccFON():41===t?r.ccRDC():42===t?r.ccTR():43===t?r.ccRTD():44===t?r.ccEDM():45===t?r.ccCR():46===t?r.ccENM():47===t&&r.ccEOC():r.ccTO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=A,!0},e.prototype.parseMidrow=function(e,t){var A=null;return(17===e||25===e)&&t>=32&&t<=47&&((A=17===e?1:2)!==this.currChNr?(d.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[A-1].ccMIDROW(t),d.log("DEBUG","MIDROW ("+f([e,t])+")"),!0))},e.prototype.parsePAC=function(e,t){var A,r=null;if(!((e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127)&&!((16===e||24===e)&&t>=64&&t<=95))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;A=e<=23?1:2,r=t>=64&&t<=95?1===A?s[e]:l[e]:1===A?a[e]:u[e];var n=this.interpretPAC(r,t);return this.channels[A-1].setPAC(n),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=A,!0},e.prototype.interpretPAC=function(e,t){var A=t,r={color:null,italics:!1,indent:null,underline:!1,row:e};return A=t>95?t-96:t-64,r.underline=1==(1&A),A<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(A/2)]:A<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((A-16)/2),r},e.prototype.parseChars=function(e,t){var A=null,r=null,i=null;if(e>=25?(A=2,i=e-8):(A=1,i=e),i>=17&&i<=19){var o=t;o=17===i?t+80:18===i?t+112:t+144,d.log("INFO","Special char '"+n(o)+"' in channel "+A),r=[o]}else e>=32&&e<=127&&(r=0===t?[e]:[e,t]);if(r){var s=f(r);d.log("DEBUG","Char codes =  "+s.join(",")),this.lastCmdA=null,this.lastCmdB=null}return r},e.prototype.parseBackgroundAttributes=function(e,t){var A,r,n;return((16===e||24===e)&&t>=32&&t<=47||(23===e||31===e)&&t>=45&&t<=47)&&(A={},16===e||24===e?(r=Math.floor((t-32)/2),A.background=c[r],t%2==1&&(A.background=A.background+"_semi")):45===t?A.background="transparent":(A.foreground="black",47===t&&(A.underline=!0)),n=e<24?1:2,this.channels[n-1].setBkgData(A),this.lastCmdA=null,this.lastCmdB=null,!0)},e.prototype.reset=function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},e.prototype.cueSplitAtTime=function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)},e}();t.default=w},"./src/utils/codecs.js":
/*!*****************************!*\
  !*** ./src/utils/codecs.js ***!
  \*****************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};t.isCodecType=function(e,t){var A=r[t];return!!A&&!0===A[e.slice(0,4)]},t.isCodecSupportedInMp4=function(e,t){return window.MediaSource.isTypeSupported((t||"video")+'/mp4;codecs="'+e+'"')}},"./src/utils/cues.js":
/*!***************************!*\
  !*** ./src/utils/cues.js ***!
  \***************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=A(/*! ./vttparser */"./src/utils/vttparser.js");t.newCue=function(e,t,A,n){for(var i,o,s,a,l,u=window.VTTCue||window.TextTrackCue,c=0;c<n.rows.length;c++)if(s=!0,a=0,l="",!(i=n.rows[c]).isEmpty()){for(var d=0;d<i.chars.length;d++)i.chars[d].uchar.match(/\s/)&&s?a++:(l+=i.chars[d].uchar,s=!1);i.cueStartTime=t,t===A&&(A+=1e-4),o=new u(t,A,r.fixLineBreaks(l.trim())),a>=16?a--:a++,navigator.userAgent.match(/Firefox\//)?o.line=c+1:o.line=c>7?c-2:c+1,o.align="left",o.position=Math.max(0,Math.min(100,a/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),e.addCue(o)}}},"./src/utils/discontinuities.js":
/*!**************************************!*\
  !*** ./src/utils/discontinuities.js ***!
  \**************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=A(/*! ./binary-search */"./src/utils/binary-search.js"),n=A(/*! ../utils/logger */"./src/utils/logger.js");function i(e,t){for(var A=null,r=0;r<e.length;r+=1){var n=e[r];if(n&&n.cc===t){A=n;break}}return A}function o(e,t,A){var r=!1;return t&&t.details&&A&&(A.endCC>A.startCC||e&&e.cc<A.startCC)&&(r=!0),r}function s(e,t){var A=e.fragments,r=t.fragments;if(r.length&&A.length){var o=i(A,r[0].cc);if(o&&(!o||o.startPTS))return o;n.logger.log("No frag in previous level to align on")}else n.logger.log("No fragments to align")}function a(e,t){t.fragments.forEach(function(t){if(t){var A=t.start+e;t.start=t.startPTS=A,t.endPTS=A+t.duration}}),t.PTSKnown=!0}function l(e,t,A){if(o(e,A,t)){var r=s(A.details,t);r&&(n.logger.log("Adjusting PTS using last level due to CC increase within current level"),a(r.start,t))}}function u(t,A){if(A&&A.fragments.length){if(!t.hasProgramDateTime||!A.hasProgramDateTime)return;var r=A.fragments[0].programDateTime,i=(t.fragments[0].programDateTime-r)/1e3+A.fragments[0].start;e.isFinite(i)&&(n.logger.log("adjusting PTS using programDateTime delta, sliding:"+i.toFixed(3)),a(i,t))}}t.findFirstFragWithCC=i,t.findFragWithCC=function(e,t){return r.default.search(e,function(e){return e.cc<t?1:e.cc>t?-1:0})},t.shouldAlignOnDiscontinuities=o,t.findDiscontinuousReferenceFrag=s,t.adjustPts=a,t.alignStream=function(e,t,A){l(e,A,t),!A.PTSKnown&&t&&u(A,t.details)},t.alignDiscontinuities=l,t.alignPDT=u}).call(this,A(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/utils/ewma-bandwidth-estimator.js":
/*!***********************************************!*\
  !*** ./src/utils/ewma-bandwidth-estimator.js ***!
  \***********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=A(/*! ../utils/ewma */"./src/utils/ewma.js"),n=function(){function e(e,t,A,n){this.hls=e,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new r.default(t),this.fast_=new r.default(A)}return e.prototype.sample=function(e,t){var A=8e3*t/(e=Math.max(e,this.minDelayMs_)),r=e/1e3;this.fast_.sample(r,A),this.slow_.sample(r,A)},e.prototype.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},e.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},e.prototype.destroy=function(){},e}();t.default=n},"./src/utils/ewma.js":
/*!***************************!*\
  !*** ./src/utils/ewma.js ***!
  \***************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=0,this.totalWeight_=0}return e.prototype.sample=function(e,t){var A=Math.pow(this.alpha_,e);this.estimate_=t*(1-A)+A*this.estimate_,this.totalWeight_+=e},e.prototype.getTotalWeight=function(){return this.totalWeight_},e.prototype.getEstimate=function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}return this.estimate_},e}();t.default=r},"./src/utils/get-self-scope.js":
/*!*************************************!*\
  !*** ./src/utils/get-self-scope.js ***!
  \*************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSelfScope=function(){return"undefined"==typeof window?self:window}},"./src/utils/logger.js":
/*!*****************************!*\
  !*** ./src/utils/logger.js ***!
  \*****************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=A(/*! ./get-self-scope */"./src/utils/get-self-scope.js");function n(){}var i={trace:n,debug:n,log:n,warn:n,info:n,error:n},o=i;function s(e,t){return t="["+e+"] > "+t}var a=r.getSelfScope();function l(e){for(var t=[],A=1;A<arguments.length;A++)t[A-1]=arguments[A];t.forEach(function(t){o[t]=e[t]?e[t].bind(e):function(e){var t=a.console[e];return t?function(){for(var A=[],r=0;r<arguments.length;r++)A[r]=arguments[r];A[0]&&(A[0]=s(e,A[0])),t.apply(a.console,A)}:n}(t)})}t.enableLogs=function(e){if(!0===e||"object"==typeof e){l(e,"debug","log","info","warn","error");try{o.log()}catch(e){o=i}}else o=i},t.logger=o},"./src/utils/mediakeys-helper.js":
/*!***************************************!*\
  !*** ./src/utils/mediakeys-helper.js ***!
  \***************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="undefined"!=typeof window&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null;t.requestMediaKeySystemAccess=r},"./src/utils/mediasource-helper.js":
/*!*****************************************!*\
  !*** ./src/utils/mediasource-helper.js ***!
  \*****************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMediaSource=function(){if("undefined"!=typeof window)return window.MediaSource||window.WebKitMediaSource}},"./src/utils/output-filter.js":
/*!************************************!*\
  !*** ./src/utils/output-filter.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.timelineController=e,this.trackName=t,this.startTime=null,this.endTime=null,this.screen=null}return e.prototype.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen),this.startTime=null)},e.prototype.newCue=function(e,t,A){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=A,this.timelineController.createCaptionsTrack(this.trackName)},e}();t.default=r},"./src/utils/texttrack-utils.js":
/*!**************************************!*\
  !*** ./src/utils/texttrack-utils.js ***!
  \**************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendAddTrackEvent=function(e,t){var A=null;try{A=new window.Event("addtrack")}catch(e){(A=document.createEvent("Event")).initEvent("addtrack",!1,!1)}A.track=e,t.dispatchEvent(A)},t.clearCurrentCues=function(e){if(e&&e.cues)for(;e.cues.length>0;)e.removeCue(e.cues[0])}},"./src/utils/time-ranges.js":
/*!**********************************!*\
  !*** ./src/utils/time-ranges.js ***!
  \**********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={toString:function(e){for(var t="",A=e.length,r=0;r<A;r++)t+="["+e.start(r).toFixed(3)+","+e.end(r).toFixed(3)+"]";return t}}},"./src/utils/vttcue.js":
/*!*****************************!*\
  !*** ./src/utils/vttcue.js ***!
  \*****************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var e="auto",t={"":!0,lr:!0,rl:!0},A={start:!0,middle:!0,end:!0,left:!0,right:!0};function r(e){return"string"==typeof e&&(!!A[e.toLowerCase()]&&e.toLowerCase())}function n(e){for(var t=1;t<arguments.length;t++){var A=arguments[t];for(var r in A)e[r]=A[r]}return e}function i(A,i,o){var s=this,a=function(){if("undefined"!=typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),l={};a?s=document.createElement("custom"):l.enumerable=!0,s.hasBeenReset=!1;var u="",c=!1,d=A,f=i,h=o,p=null,g="",B=!0,m="auto",w="start",E=50,v="middle",y=50,C="middle";if(Object.defineProperty(s,"id",n({},l,{get:function(){return u},set:function(e){u=""+e}})),Object.defineProperty(s,"pauseOnExit",n({},l,{get:function(){return c},set:function(e){c=!!e}})),Object.defineProperty(s,"startTime",n({},l,{get:function(){return d},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");d=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",n({},l,{get:function(){return f},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",n({},l,{get:function(){return h},set:function(e){h=""+e,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",n({},l,{get:function(){return p},set:function(e){p=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",n({},l,{get:function(){return g},set:function(e){var A=function(e){return"string"==typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===A)throw new SyntaxError("An invalid or illegal string was specified.");g=A,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",n({},l,{get:function(){return B},set:function(e){B=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",n({},l,{get:function(){return m},set:function(t){if("number"!=typeof t&&t!==e)throw new SyntaxError("An invalid number or illegal string was specified.");m=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",n({},l,{get:function(){return w},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");w=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",n({},l,{get:function(){return E},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");E=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",n({},l,{get:function(){return v},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");v=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",n({},l,{get:function(){return y},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",n({},l,{get:function(){return C},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");C=t,this.hasBeenReset=!0}})),s.displayState=void 0,a)return s}return i.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},i}()},"./src/utils/vttparser.js":
/*!********************************!*\
  !*** ./src/utils/vttparser.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=A(/*! ./vttcue */"./src/utils/vttcue.js"),n=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}};function i(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new n,this.regionList=[]}function o(){this.values=Object.create(null)}function s(e,t,A,r){var n=r?e.split(r):[e];for(var i in n)if("string"==typeof n[i]){var o=n[i].split(A);if(2===o.length)t(o[0],o[1])}}o.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,A){return A?this.has(e)?this.values[e]:t[A]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,A){for(var r=0;r<A.length;++r)if(t===A[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var a=new r.default(0,0,0),l="middle"===a.align?"middle":"center";function u(e,t,A){var r=e;function n(){var t=function(e){function t(e,t,A,r){return 3600*(0|e)+60*(0|t)+(0|A)+(0|r)/1e3}var A=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return A?A[3]?t(A[1],A[2],A[3].replace(":",""),A[4]):A[1]>59?t(A[1],A[2],0,A[4]):t(0,A[1],A[2],A[4]):null}(e);if(null===t)throw new Error("Malformed timestamp: "+r);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function i(){e=e.replace(/^\s+/,"")}if(i(),t.startTime=n(),i(),"--\x3e"!==e.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);e=e.substr(3),i(),t.endTime=n(),i(),function(e,t){var r=new o;s(e,function(e,t){switch(e){case"region":for(var n=A.length-1;n>=0;n--)if(A[n].id===t){r.set(e,A[n].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":var i=t.split(","),o=i[0];r.integer(e,o),r.percent(e,o)&&r.set("snapToLines",!1),r.alt(e,o,["auto"]),2===i.length&&r.alt("lineAlign",i[1],["start",l,"end"]);break;case"position":i=t.split(","),r.percent(e,i[0]),2===i.length&&r.alt("positionAlign",i[1],["start",l,"end","line-left","line-right","auto"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start",l,"end","left","right"])}},/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical","");var n=r.get("line","auto");"auto"===n&&-1===a.line&&(n=-1),t.line=n,t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100),t.align=r.get("align",l);var i=r.get("position","auto");"auto"===i&&50===a.position&&(i="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=i}(e,t)}function c(e){return e.replace(/<br(?: \/)?>/gi,"\n")}t.fixLineBreaks=c,i.prototype={parse:function(e){var t=this;function A(){var e=t.buffer,A=0;for(e=c(e);A<e.length&&"\r"!==e[A]&&"\n"!==e[A];)++A;var r=e.substr(0,A);return"\r"===e[A]&&++A,"\n"===e[A]&&++A,t.buffer=e.substr(A),r}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var n=void 0;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var i=(n=A()).match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!i||!i[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}for(var o=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(o?o=!1:n=A(),t.state){case"HEADER":/:/.test(n)?s(n,function(e,t){},/:/):n||(t.state="ID");continue;case"NOTE":n||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){t.state="NOTE";break}if(!n)continue;if(t.cue=new r.default(0,0,""),t.state="CUE",-1===n.indexOf("--\x3e")){t.cue.id=n;continue}case"CUE":try{u(n,t.cue,t.regionList)}catch(e){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var a=-1!==n.indexOf("--\x3e");if(!n||a&&(o=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=n;continue;case"BADCUE":n||(t.state="ID");continue}}}catch(e){"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new Error("Malformed WebVTT signature.")}catch(e){throw e}return this.onflush&&this.onflush(),this}},t.default=i},"./src/utils/webvtt-parser.js":
/*!************************************!*\
  !*** ./src/utils/webvtt-parser.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=A(/*! ./vttparser */"./src/utils/vttparser.js"),n=A(/*! ../demux/id3 */"./src/demux/id3.js"),i=function(e,t,A){return e.substr(A||0,t.length)===t},o=function(e){for(var t=5381,A=e.length;A;)t=33*t^e.charCodeAt(--A);return(t>>>0).toString()},s={parse:function(t,A,s,a,l,u){var c,d=n.utf8ArrayToStr(new Uint8Array(t)).trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),f="00:00.000",h=0,p=0,g=0,B=[],m=!0,w=new r.default;w.oncue=function(e){var t=s[a],A=s.ccOffset;t&&t.new&&(void 0!==p?A=s.ccOffset=t.start:function(e,t,A){var r=e[t],n=e[r.prevCC];if(!n||!n.new&&r.new)return e.ccOffset=e.presentationOffset=r.start,void(r.new=!1);for(;n&&n.new;)e.ccOffset+=r.start-n.start,r.new=!1,n=e[(r=n).prevCC];e.presentationOffset=A}(s,a,g)),g&&(A=g-s.presentationOffset),e.startTime+=A-p,e.endTime+=A-p,e.id=o(e.startTime.toString())+o(e.endTime.toString())+o(e.text),e.text=decodeURIComponent(encodeURIComponent(e.text)),e.endTime>0&&B.push(e)},w.onparsingerror=function(e){c=e},w.onflush=function(){c&&u?u(c):l(B)},d.forEach(function(t){if(m){if(i(t,"X-TIMESTAMP-MAP=")){m=!1,t.substr(16).split(",").forEach(function(e){i(e,"LOCAL:")?f=e.substr(6):i(e,"MPEGTS:")&&(h=parseInt(e.substr(7)))});try{A+(9e4*s[a].start||0)<0&&(A+=8589934592),h-=A,r=f,n=parseInt(r.substr(-3)),o=parseInt(r.substr(-6,2)),l=parseInt(r.substr(-9,2)),u=r.length>9?parseInt(r.substr(0,r.indexOf(":"))):0,p=(e.isFinite(n)&&e.isFinite(o)&&e.isFinite(l)&&e.isFinite(u)?(n+=1e3*o,n+=6e4*l,n+=36e5*u):-1)/1e3,g=h/9e4,-1===p&&(c=new Error("Malformed X-TIMESTAMP-MAP: "+t))}catch(e){c=new Error("Malformed X-TIMESTAMP-MAP: "+t)}return}""===t&&(m=!1)}var r,n,o,l,u;w.parse(t+"\n")}),w.flush()}};t.default=s}).call(this,A(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/utils/xhr-loader.js":
/*!*********************************!*\
  !*** ./src/utils/xhr-loader.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=A(/*! ../utils/logger */"./src/utils/logger.js"),n=window.performance,i=window.XMLHttpRequest,o=function(){function e(e){e&&e.xhrSetup&&(this.xhrSetup=e.xhrSetup)}return e.prototype.destroy=function(){this.abort(),this.loader=null},e.prototype.abort=function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},e.prototype.load=function(e,t,A){this.context=e,this.config=t,this.callbacks=A,this.stats={trequest:n.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()},e.prototype.loadInternal=function(){var e,t=this.context;e=this.loader=new i;var A=this.stats;A.tfirst=0,A.loaded=0;var r=this.xhrSetup;try{if(r)try{r(e,t.url)}catch(A){e.open("GET",t.url,!0),r(e,t.url)}e.readyState||e.open("GET",t.url,!0)}catch(A){return void this.callbacks.onError({code:e.status,text:A.message},t,e)}t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()},e.prototype.readystatechange=function(e){var t=e.currentTarget,A=t.readyState,i=this.stats,o=this.context,s=this.config;if(!i.aborted&&A>=2)if(window.clearTimeout(this.requestTimeout),0===i.tfirst&&(i.tfirst=Math.max(n.now(),i.trequest)),4===A){var a=t.status;if(a>=200&&a<300){i.tload=Math.max(i.tfirst,n.now());var l=void 0,u=void 0;u="arraybuffer"===o.responseType?(l=t.response).byteLength:(l=t.responseText).length,i.loaded=i.total=u;var c={url:t.responseURL,data:l};this.callbacks.onSuccess(c,i,o,t)}else i.retry>=s.maxRetry||a>=400&&a<499?(r.logger.error(a+" while loading "+o.url),this.callbacks.onError({code:a,text:t.statusText},o,t)):(r.logger.warn(a+" while loading "+o.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,s.maxRetryDelay),i.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),s.timeout)},e.prototype.loadtimeout=function(){r.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},e.prototype.loadprogress=function(e){var t=e.currentTarget,A=this.stats;A.loaded=e.loaded,e.lengthComputable&&(A.total=e.total);var r=this.callbacks.onProgress;r&&r(A,this.context,null,t)},e}();t.default=o}}).default},e.exports=r())},function(e,t,A){
/*!
 * html2canvas 1.0.0-rc.3 <https://html2canvas.hertzen.com>
 * Copyright (c) 2019 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */
e.exports=function(){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};function t(t,A){function r(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(r.prototype=A.prototype,new r)}var A=function(){return(A=Object.assign||function(e){for(var t,A=1,r=arguments.length;A<r;A++)for(var n in t=arguments[A])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function r(e,t,A,r){return new(A||(A=Promise))(function(n,i){function o(e){try{a(r.next(e))}catch(e){i(e)}}function s(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){e.done?n(e.value):new A(function(t){t(e.value)}).then(o,s)}a((r=r.apply(e,t||[])).next())})}function n(e,t){var A,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(A)throw new TypeError("Generator is already executing.");for(;o;)try{if(A=1,r&&(n=2&i[0]?r.return:i[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(n=(n=o.trys).length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{A=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}for(var i=function(){function e(e,t,A,r){this.left=e,this.top=t,this.width=A,this.height=r}return e.prototype.add=function(t,A,r,n){return new e(this.left+t,this.top+A,this.width+r,this.height+n)},e.fromClientRect=function(t){return new e(t.left,t.top,t.width,t.height)},e}(),o=function(e){return i.fromClientRect(e.getBoundingClientRect())},s=function(e){for(var t=[],A=0,r=e.length;A<r;){var n=e.charCodeAt(A++);if(n>=55296&&n<=56319&&A<r){var i=e.charCodeAt(A++);56320==(64512&i)?t.push(((1023&n)<<10)+(1023&i)+65536):(t.push(n),A--)}else t.push(n)}return t},a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var A=e.length;if(!A)return"";for(var r=[],n=-1,i="";++n<A;){var o=e[n];o<=65535?r.push(o):(o-=65536,r.push(55296+(o>>10),o%1024+56320)),(n+1===A||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u="undefined"==typeof Uint8Array?[]:new Uint8Array(256),c=0;c<l.length;c++)u[l.charCodeAt(c)]=c;var d,f=function(e,t,A){return e.slice?e.slice(t,A):new Uint16Array(Array.prototype.slice.call(e,t,A))},h=function(){function e(e,t,A,r,n,i){this.initialValue=e,this.errorValue=t,this.highStart=A,this.highValueIndex=r,this.index=n,this.data=i}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>5])<<2)+(31&e),this.data[t];if(e<=65535)return t=((t=this.index[2048+(e-55296>>5)])<<2)+(31&e),this.data[t];if(e<this.highStart)return t=2080+(e>>11),t=this.index[t],t+=e>>5&63,t=((t=this.index[t])<<2)+(31&e),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),p=10,g=13,B=15,m=17,w=18,E=19,v=20,y=21,C=22,U=24,Q=25,F=26,T=27,b=28,S=30,_=32,R=33,I=34,L=35,N=37,D=38,H=39,O=40,M=42,x="!",P=function(e){var t,A,r,n=function(e){var t,A,r,n,i,o=.75*e.length,s=e.length,a=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var l="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),c=Array.isArray(l)?l:new Uint8Array(l);for(t=0;t<s;t+=4)A=u[e.charCodeAt(t)],r=u[e.charCodeAt(t+1)],n=u[e.charCodeAt(t+2)],i=u[e.charCodeAt(t+3)],c[a++]=A<<2|r>>4,c[a++]=(15&r)<<4|n>>2,c[a++]=(3&n)<<6|63&i;return l}(e),i=Array.isArray(n)?function(e){for(var t=e.length,A=[],r=0;r<t;r+=4)A.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return A}(n):new Uint32Array(n),o=Array.isArray(n)?function(e){for(var t=e.length,A=[],r=0;r<t;r+=2)A.push(e[r+1]<<8|e[r]);return A}(n):new Uint16Array(n),s=f(o,12,i[4]/2),a=2===i[5]?f(o,(24+i[4])/2):(t=i,A=Math.ceil((24+i[4])/4),t.slice?t.slice(A,r):new Uint32Array(Array.prototype.slice.call(t,A,r)));return new h(i[0],i[1],i[2],i[3],s,a)}("KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA"),K=[S,36],k=[1,2,3,5],G=[p,8],j=[T,F],V=k.concat(G),z=[D,H,O,I,L],X=[B,g],Y=function(e,t,A,r){var n=r[A];if(Array.isArray(e)?-1!==e.indexOf(n):e===n)for(var i=A;i<=r.length;){var o=r[++i];if(o===t)return!0;if(o!==p)break}if(n===p)for(var i=A;i>0;){var s=r[--i];if(Array.isArray(e)?-1!==e.indexOf(s):e===s)for(var a=A;a<=r.length;){var o=r[++a];if(o===t)return!0;if(o!==p)break}if(s!==p)break}return!1},W=function(e,t){for(var A=e;A>=0;){var r=t[A];if(r!==p)return r;A--}return 0},J=function(e,t,A,r,n){if(0===A[r])return"×";var i=r-1;if(Array.isArray(n)&&!0===n[i])return"×";var o=i-1,s=i+1,a=t[i],l=o>=0?t[o]:0,u=t[s];if(2===a&&3===u)return"×";if(-1!==k.indexOf(a))return x;if(-1!==k.indexOf(u))return"×";if(-1!==G.indexOf(u))return"×";if(8===W(i,t))return"÷";if(11===P.get(e[i])&&(u===N||u===_||u===R))return"×";if(7===a||7===u)return"×";if(9===a)return"×";if(-1===[p,g,B].indexOf(a)&&9===u)return"×";if(-1!==[m,w,E,U,b].indexOf(u))return"×";if(W(i,t)===C)return"×";if(Y(23,C,i,t))return"×";if(Y([m,w],y,i,t))return"×";if(Y(12,12,i,t))return"×";if(a===p)return"÷";if(23===a||23===u)return"×";if(16===u||16===a)return"÷";if(-1!==[g,B,y].indexOf(u)||14===a)return"×";if(36===l&&-1!==X.indexOf(a))return"×";if(a===b&&36===u)return"×";if(u===v&&-1!==K.concat(v,E,Q,N,_,R).indexOf(a))return"×";if(-1!==K.indexOf(u)&&a===Q||-1!==K.indexOf(a)&&u===Q)return"×";if(a===T&&-1!==[N,_,R].indexOf(u)||-1!==[N,_,R].indexOf(a)&&u===F)return"×";if(-1!==K.indexOf(a)&&-1!==j.indexOf(u)||-1!==j.indexOf(a)&&-1!==K.indexOf(u))return"×";if(-1!==[T,F].indexOf(a)&&(u===Q||-1!==[C,B].indexOf(u)&&t[s+1]===Q)||-1!==[C,B].indexOf(a)&&u===Q||a===Q&&-1!==[Q,b,U].indexOf(u))return"×";if(-1!==[Q,b,U,m,w].indexOf(u))for(var c=i;c>=0;){var d=t[c];if(d===Q)return"×";if(-1===[b,U].indexOf(d))break;c--}if(-1!==[T,F].indexOf(u))for(var c=-1!==[m,w].indexOf(a)?o:i;c>=0;){var d=t[c];if(d===Q)return"×";if(-1===[b,U].indexOf(d))break;c--}if(D===a&&-1!==[D,H,I,L].indexOf(u)||-1!==[H,I].indexOf(a)&&-1!==[H,O].indexOf(u)||-1!==[O,L].indexOf(a)&&u===O)return"×";if(-1!==z.indexOf(a)&&-1!==[v,F].indexOf(u)||-1!==z.indexOf(u)&&a===T)return"×";if(-1!==K.indexOf(a)&&-1!==K.indexOf(u))return"×";if(a===U&&-1!==K.indexOf(u))return"×";if(-1!==K.concat(Q).indexOf(a)&&u===C||-1!==K.concat(Q).indexOf(u)&&a===w)return"×";if(41===a&&41===u){for(var f=A[i],h=1;f>0&&41===t[--f];)h++;if(h%2!=0)return"×"}return a===_&&u===R?"×":"÷"},q=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var A=function(e,t){void 0===t&&(t="strict");var A=[],r=[],n=[];return e.forEach(function(e,i){var o=P.get(e);if(o>50?(n.push(!0),o-=50):n.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(i),A.push(16);if(4===o||11===o){if(0===i)return r.push(i),A.push(S);var s=A[i-1];return-1===V.indexOf(s)?(r.push(r[i-1]),A.push(s)):(r.push(i),A.push(S))}return r.push(i),31===o?A.push("strict"===t?y:N):o===M?A.push(S):29===o?A.push(S):43===o?e>=131072&&e<=196605||e>=196608&&e<=262141?A.push(N):A.push(S):void A.push(o)}),[r,A,n]}(e,t.lineBreak),r=A[0],n=A[1],i=A[2];"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(n=n.map(function(e){return-1!==[Q,S,M].indexOf(e)?N:e}));var o="keep-all"===t.wordBreak?i.map(function(t,A){return t&&e[A]>=19968&&e[A]<=40959}):void 0;return[r,n,o]},Z=function(){function e(e,t,A,r){this.codePoints=e,this.required=t===x,this.start=A,this.end=r}return e.prototype.slice=function(){return a.apply(void 0,this.codePoints.slice(this.start,this.end))},e}();!function(e){e[e.STRING_TOKEN=0]="STRING_TOKEN",e[e.BAD_STRING_TOKEN=1]="BAD_STRING_TOKEN",e[e.LEFT_PARENTHESIS_TOKEN=2]="LEFT_PARENTHESIS_TOKEN",e[e.RIGHT_PARENTHESIS_TOKEN=3]="RIGHT_PARENTHESIS_TOKEN",e[e.COMMA_TOKEN=4]="COMMA_TOKEN",e[e.HASH_TOKEN=5]="HASH_TOKEN",e[e.DELIM_TOKEN=6]="DELIM_TOKEN",e[e.AT_KEYWORD_TOKEN=7]="AT_KEYWORD_TOKEN",e[e.PREFIX_MATCH_TOKEN=8]="PREFIX_MATCH_TOKEN",e[e.DASH_MATCH_TOKEN=9]="DASH_MATCH_TOKEN",e[e.INCLUDE_MATCH_TOKEN=10]="INCLUDE_MATCH_TOKEN",e[e.LEFT_CURLY_BRACKET_TOKEN=11]="LEFT_CURLY_BRACKET_TOKEN",e[e.RIGHT_CURLY_BRACKET_TOKEN=12]="RIGHT_CURLY_BRACKET_TOKEN",e[e.SUFFIX_MATCH_TOKEN=13]="SUFFIX_MATCH_TOKEN",e[e.SUBSTRING_MATCH_TOKEN=14]="SUBSTRING_MATCH_TOKEN",e[e.DIMENSION_TOKEN=15]="DIMENSION_TOKEN",e[e.PERCENTAGE_TOKEN=16]="PERCENTAGE_TOKEN",e[e.NUMBER_TOKEN=17]="NUMBER_TOKEN",e[e.FUNCTION=18]="FUNCTION",e[e.FUNCTION_TOKEN=19]="FUNCTION_TOKEN",e[e.IDENT_TOKEN=20]="IDENT_TOKEN",e[e.COLUMN_TOKEN=21]="COLUMN_TOKEN",e[e.URL_TOKEN=22]="URL_TOKEN",e[e.BAD_URL_TOKEN=23]="BAD_URL_TOKEN",e[e.CDC_TOKEN=24]="CDC_TOKEN",e[e.CDO_TOKEN=25]="CDO_TOKEN",e[e.COLON_TOKEN=26]="COLON_TOKEN",e[e.SEMICOLON_TOKEN=27]="SEMICOLON_TOKEN",e[e.LEFT_SQUARE_BRACKET_TOKEN=28]="LEFT_SQUARE_BRACKET_TOKEN",e[e.RIGHT_SQUARE_BRACKET_TOKEN=29]="RIGHT_SQUARE_BRACKET_TOKEN",e[e.UNICODE_RANGE_TOKEN=30]="UNICODE_RANGE_TOKEN",e[e.WHITESPACE_TOKEN=31]="WHITESPACE_TOKEN",e[e.EOF_TOKEN=32]="EOF_TOKEN"}(d||(d={}));var $=function(e){return e>=48&&e<=57},ee=function(e){return $(e)||e>=65&&e<=70||e>=97&&e<=102},te=function(e){return function(e){return e>=97&&e<=122}(e)||function(e){return e>=65&&e<=90}(e)},Ae=function(e){return 10===e||9===e||32===e},re=function(e){return te(e)||function(e){return e>=128}(e)||95===e},ne=function(e){return re(e)||$(e)||45===e},ie=function(e){return e>=0&&e<=8||11===e||e>=14&&e<=31||127===e},oe=function(e,t){return 92===e&&10!==t},se=function(e,t,A){return 45===e?re(t)||oe(t,A):!!re(e)||!(92!==e||!oe(e,t))},ae=function(e,t,A){return 43===e||45===e?!!$(t)||46===t&&$(A):$(46===e?t:e)},le=function(e){var t=0,A=1;43!==e[t]&&45!==e[t]||(45===e[t]&&(A=-1),t++);for(var r=[];$(e[t]);)r.push(e[t++]);var n=r.length?parseInt(a.apply(void 0,r),10):0;46===e[t]&&t++;for(var i=[];$(e[t]);)i.push(e[t++]);var o=i.length,s=o?parseInt(a.apply(void 0,i),10):0;69!==e[t]&&101!==e[t]||t++;var l=1;43!==e[t]&&45!==e[t]||(45===e[t]&&(l=-1),t++);for(var u=[];$(e[t]);)u.push(e[t++]);var c=u.length?parseInt(a.apply(void 0,u),10):0;return A*(n+s*Math.pow(10,-o))*Math.pow(10,l*c)},ue={type:d.LEFT_PARENTHESIS_TOKEN},ce={type:d.RIGHT_PARENTHESIS_TOKEN},de={type:d.COMMA_TOKEN},fe={type:d.SUFFIX_MATCH_TOKEN},he={type:d.PREFIX_MATCH_TOKEN},pe={type:d.COLUMN_TOKEN},ge={type:d.DASH_MATCH_TOKEN},Be={type:d.INCLUDE_MATCH_TOKEN},me={type:d.LEFT_CURLY_BRACKET_TOKEN},we={type:d.RIGHT_CURLY_BRACKET_TOKEN},Ee={type:d.SUBSTRING_MATCH_TOKEN},ve={type:d.BAD_URL_TOKEN},ye={type:d.BAD_STRING_TOKEN},Ce={type:d.CDO_TOKEN},Ue={type:d.CDC_TOKEN},Qe={type:d.COLON_TOKEN},Fe={type:d.SEMICOLON_TOKEN},Te={type:d.LEFT_SQUARE_BRACKET_TOKEN},be={type:d.RIGHT_SQUARE_BRACKET_TOKEN},Se={type:d.WHITESPACE_TOKEN},_e={type:d.EOF_TOKEN},Re=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(s(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==_e;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case 34:return this.consumeStringToken(34);case 35:var t=this.peekCodePoint(0),A=this.peekCodePoint(1),r=this.peekCodePoint(2);if(ne(t)||oe(A,r)){var n=se(t,A,r)?2:1,i=this.consumeName();return{type:d.HASH_TOKEN,value:i,flags:n}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),fe;break;case 39:return this.consumeStringToken(39);case 40:return ue;case 41:return ce;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ee;break;case 43:if(ae(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case 44:return de;case 45:var o=e,s=this.peekCodePoint(0),l=this.peekCodePoint(1);if(ae(o,s,l))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(se(o,s,l))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(45===s&&62===l)return this.consumeCodePoint(),this.consumeCodePoint(),Ue;break;case 46:if(ae(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(42===u&&47===(u=this.consumeCodePoint()))return this.consumeToken();if(-1===u)return this.consumeToken()}break;case 58:return Qe;case 59:return Fe;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),Ce;break;case 64:var c=this.peekCodePoint(0),f=this.peekCodePoint(1),h=this.peekCodePoint(2);if(se(c,f,h)){var i=this.consumeName();return{type:d.AT_KEYWORD_TOKEN,value:i}}break;case 91:return Te;case 92:if(oe(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case 93:return be;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),he;break;case 123:return me;case 125:return we;case 117:case 85:var p=this.peekCodePoint(0),g=this.peekCodePoint(1);return 43!==p||!ee(g)&&63!==g||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),ge;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),pe;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Be;break;case-1:return _e}return Ae(e)?(this.consumeWhiteSpace(),Se):$(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):re(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:d.DELIM_TOKEN,value:a(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return void 0===e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();ee(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var A=!1;63===t&&e.length<6;)e.push(t),t=this.consumeCodePoint(),A=!0;if(A){var r=parseInt(a.apply(void 0,e.map(function(e){return 63===e?48:e})),16),n=parseInt(a.apply(void 0,e.map(function(e){return 63===e?70:e})),16);return{type:d.UNICODE_RANGE_TOKEN,start:r,end:n}}var i=parseInt(a.apply(void 0,e),16);if(45===this.peekCodePoint(0)&&ee(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var o=[];ee(t)&&o.length<6;)o.push(t),t=this.consumeCodePoint();var n=parseInt(a.apply(void 0,o),16);return{type:d.UNICODE_RANGE_TOKEN,start:i,end:n}}return{type:d.UNICODE_RANGE_TOKEN,start:i,end:i}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:d.FUNCTION_TOKEN,value:e}):{type:d.IDENT_TOKEN,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:d.URL_TOKEN,value:""};var t=this.peekCodePoint(0);if(39===t||34===t){var A=this.consumeStringToken(this.consumeCodePoint());return A.type===d.STRING_TOKEN&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:d.URL_TOKEN,value:A.value}):(this.consumeBadUrlRemnants(),ve)}for(;;){var r=this.consumeCodePoint();if(-1===r||41===r)return{type:d.URL_TOKEN,value:a.apply(void 0,e)};if(Ae(r))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:d.URL_TOKEN,value:a.apply(void 0,e)}):(this.consumeBadUrlRemnants(),ve);if(34===r||39===r||40===r||ie(r))return this.consumeBadUrlRemnants(),ve;if(92===r){if(!oe(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),ve;e.push(this.consumeEscapedCodePoint())}else e.push(r)}},e.prototype.consumeWhiteSpace=function(){for(;Ae(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(41===e||-1===e)return;oe(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t="";e>0;){var A=Math.min(6e4,e);t+=a.apply(void 0,this._value.splice(0,A)),e-=A}return this._value.shift(),t},e.prototype.consumeStringToken=function(e){for(var t="",A=0;;){var r=this._value[A];if(-1===r||void 0===r||r===e)return t+=this.consumeStringSlice(A),{type:d.STRING_TOKEN,value:t};if(10===r)return this._value.splice(0,A),ye;if(92===r){var n=this._value[A+1];-1!==n&&void 0!==n&&(10===n?(t+=this.consumeStringSlice(A),A=-1,this._value.shift()):oe(r,n)&&(t+=this.consumeStringSlice(A),t+=a(this.consumeEscapedCodePoint()),A=-1))}A++}},e.prototype.consumeNumber=function(){var e=[],t=4,A=this.peekCodePoint(0);for(43!==A&&45!==A||e.push(this.consumeCodePoint());$(this.peekCodePoint(0));)e.push(this.consumeCodePoint());A=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(46===A&&$(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;$(this.peekCodePoint(0));)e.push(this.consumeCodePoint());A=this.peekCodePoint(0),r=this.peekCodePoint(1);var n=this.peekCodePoint(2);if((69===A||101===A)&&((43===r||45===r)&&$(n)||$(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;$(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[le(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],A=e[1],r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(se(r,n,i)){var o=this.consumeName();return{type:d.DIMENSION_TOKEN,number:t,flags:A,unit:o}}return 37===r?(this.consumeCodePoint(),{type:d.PERCENTAGE_TOKEN,number:t,flags:A}):{type:d.NUMBER_TOKEN,number:t,flags:A}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(ee(e)){for(var t=a(e);ee(this.peekCodePoint(0))&&t.length<6;)t+=a(this.consumeCodePoint());Ae(this.peekCodePoint(0))&&this.consumeCodePoint();var A=parseInt(t,16);return 0===A||function(e){return e>=55296&&e<=57343}(A)||A>1114111?65533:A}return-1===e?65533:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(ne(t))e+=a(t);else{if(!oe(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=a(this.consumeEscapedCodePoint())}}},e}(),Ie=function(){function e(e){this._tokens=e}return e.create=function(t){var A=new Re;return A.write(t),new e(A.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===d.WHITESPACE_TOKEN;)e=this.consumeToken();if(e.type===d.EOF_TOKEN)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(e.type===d.WHITESPACE_TOKEN);if(e.type===d.EOF_TOKEN)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===d.EOF_TOKEN)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case d.LEFT_CURLY_BRACKET_TOKEN:case d.LEFT_SQUARE_BRACKET_TOKEN:case d.LEFT_PARENTHESIS_TOKEN:return this.consumeSimpleBlock(e.type);case d.FUNCTION_TOKEN:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},A=this.consumeToken();;){if(A.type===d.EOF_TOKEN||Ke(A,e))return t;this.reconsumeToken(A),t.values.push(this.consumeComponentValue()),A=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:d.FUNCTION};;){var A=this.consumeToken();if(A.type===d.EOF_TOKEN||A.type===d.RIGHT_PARENTHESIS_TOKEN)return t;this.reconsumeToken(A),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return void 0===e?_e:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),Le=function(e){return e.type===d.DIMENSION_TOKEN},Ne=function(e){return e.type===d.NUMBER_TOKEN},De=function(e){return e.type===d.IDENT_TOKEN},He=function(e){return e.type===d.STRING_TOKEN},Oe=function(e,t){return De(e)&&e.value===t},Me=function(e){return e.type!==d.WHITESPACE_TOKEN},xe=function(e){return e.type!==d.WHITESPACE_TOKEN&&e.type!==d.COMMA_TOKEN},Pe=function(e){var t=[],A=[];return e.forEach(function(e){if(e.type===d.COMMA_TOKEN){if(0===A.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(A),void(A=[])}e.type!==d.WHITESPACE_TOKEN&&A.push(e)}),A.length&&t.push(A),t},Ke=function(e,t){return t===d.LEFT_CURLY_BRACKET_TOKEN&&e.type===d.RIGHT_CURLY_BRACKET_TOKEN||t===d.LEFT_SQUARE_BRACKET_TOKEN&&e.type===d.RIGHT_SQUARE_BRACKET_TOKEN||t===d.LEFT_PARENTHESIS_TOKEN&&e.type===d.RIGHT_PARENTHESIS_TOKEN},ke=function(e){return e.type===d.NUMBER_TOKEN||e.type===d.DIMENSION_TOKEN},Ge=function(e){return e.type===d.PERCENTAGE_TOKEN||ke(e)},je=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Ve={type:d.NUMBER_TOKEN,number:0,flags:4},ze={type:d.PERCENTAGE_TOKEN,number:50,flags:4},Xe={type:d.PERCENTAGE_TOKEN,number:100,flags:4},Ye=function(e,t,A){var r=e[0],n=e[1];return[We(r,t),We(void 0!==n?n:r,A)]},We=function(e,t){if(e.type===d.PERCENTAGE_TOKEN)return e.number/100*t;if(Le(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},Je={name:"angle",parse:function(e){if(e.type===d.DIMENSION_TOKEN)switch(e.unit){case"deg":return Math.PI*e.number/180;case"grad":return Math.PI/200*e.number;case"rad":return e.number;case"turn":return 2*Math.PI*e.number}throw new Error("Unsupported angle type")}},qe=function(e){return e.type===d.DIMENSION_TOKEN&&("deg"===e.unit||"grad"===e.unit||"rad"===e.unit||"turn"===e.unit)},Ze=function(e){var t=e.filter(De).map(function(e){return e.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ve,Ve];case"to top":case"bottom":return $e(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ve,Xe];case"to right":case"left":return $e(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Xe,Xe];case"to bottom":case"top":return $e(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Xe,Ve];case"to left":case"right":return $e(270)}return 0},$e=function(e){return Math.PI*e/180},et={name:"color",parse:function(e){if(e.type===d.FUNCTION){var t=ut[e.name];if(void 0===t)throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(e.values)}if(e.type===d.HASH_TOKEN){if(3===e.value.length){var A=e.value.substring(0,1),r=e.value.substring(1,2),n=e.value.substring(2,3);return rt(parseInt(A+A,16),parseInt(r+r,16),parseInt(n+n,16),1)}if(4===e.value.length){var A=e.value.substring(0,1),r=e.value.substring(1,2),n=e.value.substring(2,3),i=e.value.substring(3,4);return rt(parseInt(A+A,16),parseInt(r+r,16),parseInt(n+n,16),parseInt(i+i,16)/255)}if(6===e.value.length){var A=e.value.substring(0,2),r=e.value.substring(2,4),n=e.value.substring(4,6);return rt(parseInt(A,16),parseInt(r,16),parseInt(n,16),1)}if(8===e.value.length){var A=e.value.substring(0,2),r=e.value.substring(2,4),n=e.value.substring(4,6),i=e.value.substring(6,8);return rt(parseInt(A,16),parseInt(r,16),parseInt(n,16),parseInt(i,16)/255)}}if(e.type===d.IDENT_TOKEN){var o=ct[e.value.toUpperCase()];if(void 0!==o)return o}return ct.TRANSPARENT}},tt=function(e){return 0==(255&e)},At=function(e){var t=255&e,A=255&e>>8,r=255&e>>16,n=255&e>>24;return t<255?"rgba("+n+","+r+","+A+","+t/255+")":"rgb("+n+","+r+","+A+")"},rt=function(e,t,A,r){return(e<<24|t<<16|A<<8|Math.round(255*r)<<0)>>>0},nt=function(e,t){if(e.type===d.NUMBER_TOKEN)return e.number;if(e.type===d.PERCENTAGE_TOKEN){var A=3===t?1:255;return 3===t?e.number/100*A:Math.round(e.number/100*A)}return 0},it=function(e){var t=e.filter(xe);if(3===t.length){var A=t.map(nt),r=A[0],n=A[1],i=A[2];return rt(r,n,i,1)}if(4===t.length){var o=t.map(nt),r=o[0],n=o[1],i=o[2],s=o[3];return rt(r,n,i,s)}return 0};function ot(e,t,A){return A<0&&(A+=1),A>=1&&(A-=1),A<1/6?(t-e)*A*6+e:A<.5?t:A<2/3?6*(t-e)*(2/3-A)+e:e}var st,at,lt=function(e){var t=e.filter(xe),A=t[0],r=t[1],n=t[2],i=t[3],o=(A.type===d.NUMBER_TOKEN?$e(A.number):Je.parse(A))/(2*Math.PI),s=Ge(r)?r.number/100:0,a=Ge(n)?n.number/100:0,l=void 0!==i&&Ge(i)?We(i,1):1;if(0===s)return rt(255*a,255*a,255*a,1);var u=a<=.5?a*(s+1):a+s-a*s,c=2*a-u,f=ot(c,u,o+1/3),h=ot(c,u,o),p=ot(c,u,o-1/3);return rt(255*f,255*h,255*p,l)},ut={hsl:lt,hsla:lt,rgb:it,rgba:it},ct={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199};(function(e){e[e.VALUE=0]="VALUE",e[e.LIST=1]="LIST",e[e.IDENT_VALUE=2]="IDENT_VALUE",e[e.TYPE_VALUE=3]="TYPE_VALUE",e[e.TOKEN_VALUE=4]="TOKEN_VALUE"})(st||(st={})),function(e){e[e.BORDER_BOX=0]="BORDER_BOX",e[e.PADDING_BOX=1]="PADDING_BOX",e[e.CONTENT_BOX=2]="CONTENT_BOX"}(at||(at={}));var dt,ft,ht,pt={name:"background-clip",initialValue:"border-box",prefix:!1,type:st.LIST,parse:function(e){return e.map(function(e){if(De(e))switch(e.value){case"padding-box":return at.PADDING_BOX;case"content-box":return at.CONTENT_BOX}return at.BORDER_BOX})}},gt={name:"background-color",initialValue:"transparent",prefix:!1,type:st.TYPE_VALUE,format:"color"},Bt=function(e){var t=et.parse(e[0]),A=e[1];return A&&Ge(A)?{color:t,stop:A}:{color:t,stop:null}},mt=function(e,t){var A=e[0],r=e[e.length-1];null===A.stop&&(A.stop=Ve),null===r.stop&&(r.stop=Xe);for(var n=[],i=0,o=0;o<e.length;o++){var s=e[o].stop;if(null!==s){var a=We(s,t);a>i?n.push(a):n.push(i),i=a}else n.push(null)}for(var l=null,o=0;o<n.length;o++){var u=n[o];if(null===u)null===l&&(l=o);else if(null!==l){for(var c=o-l,d=n[l-1],f=(u-d)/(c+1),h=1;h<=c;h++)n[l+h-1]=f*h;l=null}}return e.map(function(e,A){var r=e.color;return{color:r,stop:Math.max(Math.min(1,n[A]/t),0)}})},wt=function(e,t,A){var r="number"==typeof e?e:function(e,t,A){var r=t/2,n=A/2,i=We(e[0],t)-r,o=n-We(e[1],A);return(Math.atan2(o,i)+2*Math.PI)%(2*Math.PI)}(e,t,A),n=Math.abs(t*Math.sin(r))+Math.abs(A*Math.cos(r)),i=t/2,o=A/2,s=n/2,a=Math.sin(r-Math.PI/2)*s,l=Math.cos(r-Math.PI/2)*s;return[n,i-l,i+l,o-a,o+a]},Et=function(e,t){return Math.sqrt(e*e+t*t)},vt=function(e,t,A,r,n){var i=[[0,0],[0,t],[e,0],[e,t]];return i.reduce(function(e,t){var i=t[0],o=t[1],s=Et(A-i,r-o);return(n?s<e.optimumDistance:s>e.optimumDistance)?{optimumCorner:t,optimumDistance:s}:e},{optimumDistance:n?1/0:-1/0,optimumCorner:null}).optimumCorner},yt=function(e){var t=$e(180),A=[];return Pe(e).forEach(function(e,r){if(0===r){var n=e[0];if(n.type===d.IDENT_TOKEN&&-1!==["top","left","right","bottom"].indexOf(n.value))return void(t=Ze(e));if(qe(n))return void(t=(Je.parse(n)+$e(270))%$e(360))}var i=Bt(e);A.push(i)}),{angle:t,stops:A,type:dt.LINEAR_GRADIENT}},Ct=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},Ut=function(e,t,A,r,n){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),s=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",A.toString()),s.setAttributeNS(null,"y",r.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(s),s.appendChild(n),o},Qt=function(e){return new Promise(function(t,A){var r=new Image;r.onload=function(){return t(r)},r.onerror=A,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))})},Ft={get SUPPORT_RANGE_BOUNDS(){var e=function(e){if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var A=e.createElement("boundtest");A.style.height="123px",A.style.display="block",e.body.appendChild(A),t.selectNode(A);var r=t.getBoundingClientRect(),n=Math.round(r.height);if(e.body.removeChild(A),123===n)return!0}}return!1}(document);return Object.defineProperty(Ft,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=function(e){var t=new Image,A=e.createElement("canvas"),r=A.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),A.toDataURL()}catch(e){return!1}return!0}(document);return Object.defineProperty(Ft,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"==typeof Array.from&&"function"==typeof window.fetch?function(e){var t=e.createElement("canvas");t.width=100,t.height=100;var A=t.getContext("2d");if(!A)return Promise.reject(!1);A.fillStyle="rgb(0, 255, 0)",A.fillRect(0,0,100,100);var r=new Image,n=t.toDataURL();r.src=n;var i=Ut(100,100,0,0,r);return A.fillStyle="red",A.fillRect(0,0,100,100),Qt(i).then(function(t){A.drawImage(t,0,0);var r=A.getImageData(0,0,100,100).data;A.fillStyle="red",A.fillRect(0,0,100,100);var i=e.createElement("div");return i.style.backgroundImage="url("+n+")",i.style.height="100px",Ct(r)?Qt(Ut(100,100,0,0,i)):Promise.reject(!1)}).then(function(e){return A.drawImage(e,0,0),Ct(A.getImageData(0,0,100,100).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(Ft,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=void 0!==(new Image).crossOrigin;return Object.defineProperty(Ft,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(Ft,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ft,"SUPPORT_CORS_XHR",{value:e}),e}},Tt=function(){function e(e){this.id=e,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];"undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,[this.id,this.getTime()+"ms"].concat(e)):this.info.apply(this,e)},e.prototype.getTime=function(){return Date.now()-this.start},e.create=function(t){e.instances[t]=new e(t)},e.destroy=function(t){delete e.instances[t]},e.getInstance=function(t){var A=e.instances[t];if(void 0===A)throw new Error("No logger instance found with id "+t);return A},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,[this.id,this.getTime()+"ms"].concat(e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];"undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,[this.id,this.getTime()+"ms"].concat(e)):this.info.apply(this,e)},e.instances={},e}(),bt=function(){function e(){}return e.create=function(t,A){return e._caches[t]=new St(t,A)},e.destroy=function(t){delete e._caches[t]},e.open=function(t){var A=e._caches[t];if(void 0!==A)return A;throw new Error('Cache with key "'+t+'" not found')},e.getOrigin=function(t){var A=e._link;return A?(A.href=t,A.href=A.href,A.protocol+A.hostname+A.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e.getInstance=function(){var t=e._current;if(null===t)throw new Error("No cache instance attached");return t},e.attachInstance=function(t){e._current=t},e.detachInstance=function(){e._current=null},e._caches={},e._origin="about:blank",e._current=null,e}(),St=function(){function e(e,t){this.id=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:Ht(e)||Lt(e)?(this._cache[e]=this.loadImage(e),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return r(this,void 0,void 0,function(){var t,A,r,i,o=this;return n(this,function(n){switch(n.label){case 0:return t=bt.isSameOrigin(e),A=!Nt(e)&&!0===this._options.useCORS&&Ft.SUPPORT_CORS_IMAGES&&!t,r=!Nt(e)&&!t&&"string"==typeof this._options.proxy&&Ft.SUPPORT_CORS_XHR&&!A,t||!1!==this._options.allowTaint||Nt(e)||r||A?(i=e,r?[4,this.proxy(i)]:[3,2]):[2];case 1:i=n.sent(),n.label=2;case 2:return Tt.getInstance(this.id).debug("Added image "+e.substring(0,256)),[4,new Promise(function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,(Dt(i)||A)&&(r.crossOrigin="anonymous"),r.src=i,!0===r.complete&&setTimeout(function(){return e(r)},500),o._options.imageTimeout>0&&setTimeout(function(){return t("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,n.sent()]}})})},e.prototype.has=function(e){return void 0!==this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,A=this._options.proxy;if(!A)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise(function(n,i){var o=Ft.SUPPORT_RESPONSE_TYPE?"blob":"text",s=new XMLHttpRequest;if(s.onload=function(){if(200===s.status)if("text"===o)n(s.response);else{var e=new FileReader;e.addEventListener("load",function(){return n(e.result)},!1),e.addEventListener("error",function(e){return i(e)},!1),e.readAsDataURL(s.response)}else i("Failed to proxy resource "+r+" with status code "+s.status)},s.onerror=i,s.open("GET",A+"?url="+encodeURIComponent(e)+"&responseType="+o),"text"!==o&&s instanceof XMLHttpRequest&&(s.responseType=o),t._options.imageTimeout){var a=t._options.imageTimeout;s.timeout=a,s.ontimeout=function(){return i("Timed out ("+a+"ms) proxying "+r)}}s.send()})},e}(),_t=/^data:image\/svg\+xml/i,Rt=/^data:image\/.*;base64,/i,It=/^data:image\/.*/i,Lt=function(e){return Ft.SUPPORT_SVG_DRAWING||!Ot(e)},Nt=function(e){return It.test(e)},Dt=function(e){return Rt.test(e)},Ht=function(e){return"blob"===e.substr(0,4)},Ot=function(e){return"svg"===e.substr(-3).toLowerCase()||_t.test(e)},Mt=function(e){var t=ft.CIRCLE,A=ht.FARTHEST_CORNER,r=[],n=[];return Pe(e).forEach(function(e,i){var o=!0;if(0===i?o=e.reduce(function(e,t){if(De(t))switch(t.value){case"center":return n.push(ze),!1;case"top":case"left":return n.push(Ve),!1;case"right":case"bottom":return n.push(Xe),!1}else if(Ge(t)||ke(t))return n.push(t),!1;return e},o):1===i&&(o=e.reduce(function(e,r){if(De(r))switch(r.value){case"circle":return t=ft.CIRCLE,!1;case"ellipse":return t=ft.ELLIPSE,!1;case"contain":case"closest-side":return A=ht.CLOSEST_SIDE,!1;case"farthest-side":return A=ht.FARTHEST_SIDE,!1;case"closest-corner":return A=ht.CLOSEST_CORNER,!1;case"cover":case"farthest-corner":return A=ht.FARTHEST_CORNER,!1}else if(ke(r)||Ge(r))return Array.isArray(A)||(A=[]),A.push(r),!1;return e},o)),o){var s=Bt(e);r.push(s)}}),{size:A,shape:t,stops:r,position:n,type:dt.RADIAL_GRADIENT}};!function(e){e[e.URL=0]="URL",e[e.LINEAR_GRADIENT=1]="LINEAR_GRADIENT",e[e.RADIAL_GRADIENT=2]="RADIAL_GRADIENT"}(dt||(dt={})),function(e){e[e.CIRCLE=0]="CIRCLE",e[e.ELLIPSE=1]="ELLIPSE"}(ft||(ft={})),function(e){e[e.CLOSEST_SIDE=0]="CLOSEST_SIDE",e[e.FARTHEST_SIDE=1]="FARTHEST_SIDE",e[e.CLOSEST_CORNER=2]="CLOSEST_CORNER",e[e.FARTHEST_CORNER=3]="FARTHEST_CORNER"}(ht||(ht={}));var xt,Pt={name:"image",parse:function(e){if(e.type===d.URL_TOKEN){var t={url:e.value,type:dt.URL};return bt.getInstance().addImage(e.value),t}if(e.type===d.FUNCTION){var A=Kt[e.name];if(void 0===A)throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return A(e.values)}throw new Error("Unsupported image type")}},Kt={"linear-gradient":function(e){var t=$e(180),A=[];return Pe(e).forEach(function(e,r){if(0===r){var n=e[0];if(n.type===d.IDENT_TOKEN&&"to"===n.value)return void(t=Ze(e));if(qe(n))return void(t=Je.parse(n))}var i=Bt(e);A.push(i)}),{angle:t,stops:A,type:dt.LINEAR_GRADIENT}},"-moz-linear-gradient":yt,"-ms-linear-gradient":yt,"-o-linear-gradient":yt,"-webkit-linear-gradient":yt,"radial-gradient":function(e){var t=ft.CIRCLE,A=ht.FARTHEST_CORNER,r=[],n=[];return Pe(e).forEach(function(e,i){var o=!0;if(0===i){var s=!1;o=e.reduce(function(e,r){if(s)if(De(r))switch(r.value){case"center":return n.push(ze),e;case"top":case"left":return n.push(Ve),e;case"right":case"bottom":return n.push(Xe),e}else(Ge(r)||ke(r))&&n.push(r);else if(De(r))switch(r.value){case"circle":return t=ft.CIRCLE,!1;case"ellipse":return t=ft.ELLIPSE,!1;case"at":return s=!0,!1;case"closest-side":return A=ht.CLOSEST_SIDE,!1;case"cover":case"farthest-side":return A=ht.FARTHEST_SIDE,!1;case"contain":case"closest-corner":return A=ht.CLOSEST_CORNER,!1;case"farthest-corner":return A=ht.FARTHEST_CORNER,!1}else if(ke(r)||Ge(r))return Array.isArray(A)||(A=[]),A.push(r),!1;return e},o)}if(o){var a=Bt(e);r.push(a)}}),{size:A,shape:t,stops:r,position:n,type:dt.RADIAL_GRADIENT}},"-moz-radial-gradient":Mt,"-ms-radial-gradient":Mt,"-o-radial-gradient":Mt,"-webkit-radial-gradient":Mt,"-webkit-gradient":function(e){var t=$e(180),A=[],r=dt.LINEAR_GRADIENT,n=ft.CIRCLE,i=ht.FARTHEST_CORNER;return Pe(e).forEach(function(e,t){var n=e[0];if(0===t){if(De(n)&&"linear"===n.value)return void(r=dt.LINEAR_GRADIENT);if(De(n)&&"radial"===n.value)return void(r=dt.RADIAL_GRADIENT)}if(n.type===d.FUNCTION)if("from"===n.name){var i=et.parse(n.values[0]);A.push({stop:Ve,color:i})}else if("to"===n.name)i=et.parse(n.values[0]),A.push({stop:Xe,color:i});else if("color-stop"===n.name){var o=n.values.filter(xe);if(2===o.length){i=et.parse(o[1]);var s=o[0];Ne(s)&&A.push({stop:{type:d.PERCENTAGE_TOKEN,number:100*s.number,flags:s.flags},color:i})}}}),r===dt.LINEAR_GRADIENT?{angle:(t+$e(180))%$e(360),stops:A,type:r}:{size:i,shape:n,stops:A,position:[],type:r}}},kt={name:"background-image",initialValue:"none",type:st.LIST,prefix:!1,parse:function(e){if(0===e.length)return[];var t=e[0];return t.type===d.IDENT_TOKEN&&"none"===t.value?[]:e.filter(xe).map(Pt.parse)}},Gt={name:"background-origin",initialValue:"border-box",prefix:!1,type:st.LIST,parse:function(e){return e.map(function(e){if(De(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},jt={name:"background-position",initialValue:"0% 0%",type:st.LIST,prefix:!1,parse:function(e){return Pe(e).map(function(e){return e.filter(Ge)}).map(je)}};!function(e){e[e.REPEAT=0]="REPEAT",e[e.NO_REPEAT=1]="NO_REPEAT",e[e.REPEAT_X=2]="REPEAT_X",e[e.REPEAT_Y=3]="REPEAT_Y"}(xt||(xt={}));var Vt,zt={name:"background-repeat",initialValue:"repeat",prefix:!1,type:st.LIST,parse:function(e){return Pe(e).map(function(e){return e.filter(De).map(function(e){return e.value}).join(" ")}).map(Xt)}},Xt=function(e){switch(e){case"no-repeat":return xt.NO_REPEAT;case"repeat-x":case"repeat no-repeat":return xt.REPEAT_X;case"repeat-y":case"no-repeat repeat":return xt.REPEAT_Y;case"repeat":default:return xt.REPEAT}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(Vt||(Vt={}));var Yt,Wt={name:"background-size",initialValue:"0",prefix:!1,type:st.LIST,parse:function(e){return Pe(e).map(function(e){return e.filter(Jt)})}},Jt=function(e){return De(e)||Ge(e)},qt=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:st.TYPE_VALUE,format:"color"}},Zt=qt("top"),$t=qt("right"),eA=qt("bottom"),tA=qt("left"),AA=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:st.LIST,parse:function(e){return je(e.filter(Ge))}}},rA=AA("top-left"),nA=AA("top-right"),iA=AA("bottom-right"),oA=AA("bottom-left");!function(e){e[e.NONE=0]="NONE",e[e.SOLID=1]="SOLID"}(Yt||(Yt={}));var sA,aA=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:st.IDENT_VALUE,parse:function(e){switch(e){case"none":return Yt.NONE}return Yt.SOLID}}},lA=aA("top"),uA=aA("right"),cA=aA("bottom"),dA=aA("left"),fA=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:st.VALUE,prefix:!1,parse:function(e){return Le(e)?e.number:0}}},hA=fA("top"),pA=fA("right"),gA=fA("bottom"),BA=fA("left"),mA={name:"color",initialValue:"transparent",prefix:!1,type:st.TYPE_VALUE,format:"color"},wA={name:"display",initialValue:"inline-block",prefix:!1,type:st.LIST,parse:function(e){return e.filter(De).reduce(function(e,t){return e|EA(t.value)},0)}},EA=function(e){switch(e){case"block":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0};!function(e){e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.INLINE_START=3]="INLINE_START",e[e.INLINE_END=4]="INLINE_END"}(sA||(sA={}));var vA,yA={name:"float",initialValue:"none",prefix:!1,type:st.IDENT_VALUE,parse:function(e){switch(e){case"left":return sA.LEFT;case"right":return sA.RIGHT;case"inline-start":return sA.INLINE_START;case"inline-end":return sA.INLINE_END}return sA.NONE}},CA={name:"letter-spacing",initialValue:"0",prefix:!1,type:st.VALUE,parse:function(e){return e.type===d.IDENT_TOKEN&&"normal"===e.value?0:e.type===d.NUMBER_TOKEN?e.number:e.type===d.DIMENSION_TOKEN?e.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(vA||(vA={}));var UA,QA={name:"line-break",initialValue:"normal",prefix:!1,type:st.IDENT_VALUE,parse:function(e){switch(e){case"strict":return vA.STRICT;case"normal":default:return vA.NORMAL}}},FA={name:"line-height",initialValue:"normal",prefix:!1,type:st.TOKEN_VALUE},TA={name:"list-style-image",initialValue:"none",type:st.VALUE,prefix:!1,parse:function(e){return e.type===d.IDENT_TOKEN&&"none"===e.value?null:Pt.parse(e)}};!function(e){e[e.INSIDE=0]="INSIDE",e[e.OUTSIDE=1]="OUTSIDE"}(UA||(UA={}));var bA,SA={name:"list-style-position",initialValue:"outside",prefix:!1,type:st.IDENT_VALUE,parse:function(e){switch(e){case"inside":return UA.INSIDE;case"outside":default:return UA.OUTSIDE}}};!function(e){e[e.NONE=-1]="NONE",e[e.DISC=0]="DISC",e[e.CIRCLE=1]="CIRCLE",e[e.SQUARE=2]="SQUARE",e[e.DECIMAL=3]="DECIMAL",e[e.CJK_DECIMAL=4]="CJK_DECIMAL",e[e.DECIMAL_LEADING_ZERO=5]="DECIMAL_LEADING_ZERO",e[e.LOWER_ROMAN=6]="LOWER_ROMAN",e[e.UPPER_ROMAN=7]="UPPER_ROMAN",e[e.LOWER_GREEK=8]="LOWER_GREEK",e[e.LOWER_ALPHA=9]="LOWER_ALPHA",e[e.UPPER_ALPHA=10]="UPPER_ALPHA",e[e.ARABIC_INDIC=11]="ARABIC_INDIC",e[e.ARMENIAN=12]="ARMENIAN",e[e.BENGALI=13]="BENGALI",e[e.CAMBODIAN=14]="CAMBODIAN",e[e.CJK_EARTHLY_BRANCH=15]="CJK_EARTHLY_BRANCH",e[e.CJK_HEAVENLY_STEM=16]="CJK_HEAVENLY_STEM",e[e.CJK_IDEOGRAPHIC=17]="CJK_IDEOGRAPHIC",e[e.DEVANAGARI=18]="DEVANAGARI",e[e.ETHIOPIC_NUMERIC=19]="ETHIOPIC_NUMERIC",e[e.GEORGIAN=20]="GEORGIAN",e[e.GUJARATI=21]="GUJARATI",e[e.GURMUKHI=22]="GURMUKHI",e[e.HEBREW=22]="HEBREW",e[e.HIRAGANA=23]="HIRAGANA",e[e.HIRAGANA_IROHA=24]="HIRAGANA_IROHA",e[e.JAPANESE_FORMAL=25]="JAPANESE_FORMAL",e[e.JAPANESE_INFORMAL=26]="JAPANESE_INFORMAL",e[e.KANNADA=27]="KANNADA",e[e.KATAKANA=28]="KATAKANA",e[e.KATAKANA_IROHA=29]="KATAKANA_IROHA",e[e.KHMER=30]="KHMER",e[e.KOREAN_HANGUL_FORMAL=31]="KOREAN_HANGUL_FORMAL",e[e.KOREAN_HANJA_FORMAL=32]="KOREAN_HANJA_FORMAL",e[e.KOREAN_HANJA_INFORMAL=33]="KOREAN_HANJA_INFORMAL",e[e.LAO=34]="LAO",e[e.LOWER_ARMENIAN=35]="LOWER_ARMENIAN",e[e.MALAYALAM=36]="MALAYALAM",e[e.MONGOLIAN=37]="MONGOLIAN",e[e.MYANMAR=38]="MYANMAR",e[e.ORIYA=39]="ORIYA",e[e.PERSIAN=40]="PERSIAN",e[e.SIMP_CHINESE_FORMAL=41]="SIMP_CHINESE_FORMAL",e[e.SIMP_CHINESE_INFORMAL=42]="SIMP_CHINESE_INFORMAL",e[e.TAMIL=43]="TAMIL",e[e.TELUGU=44]="TELUGU",e[e.THAI=45]="THAI",e[e.TIBETAN=46]="TIBETAN",e[e.TRAD_CHINESE_FORMAL=47]="TRAD_CHINESE_FORMAL",e[e.TRAD_CHINESE_INFORMAL=48]="TRAD_CHINESE_INFORMAL",e[e.UPPER_ARMENIAN=49]="UPPER_ARMENIAN",e[e.DISCLOSURE_OPEN=50]="DISCLOSURE_OPEN",e[e.DISCLOSURE_CLOSED=51]="DISCLOSURE_CLOSED"}(bA||(bA={}));var _A,RA={name:"list-style-type",initialValue:"none",prefix:!1,type:st.IDENT_VALUE,parse:function(e){switch(e){case"disc":return bA.DISC;case"circle":return bA.CIRCLE;case"square":return bA.SQUARE;case"decimal":return bA.DECIMAL;case"cjk-decimal":return bA.CJK_DECIMAL;case"decimal-leading-zero":return bA.DECIMAL_LEADING_ZERO;case"lower-roman":return bA.LOWER_ROMAN;case"upper-roman":return bA.UPPER_ROMAN;case"lower-greek":return bA.LOWER_GREEK;case"lower-alpha":return bA.LOWER_ALPHA;case"upper-alpha":return bA.UPPER_ALPHA;case"arabic-indic":return bA.ARABIC_INDIC;case"armenian":return bA.ARMENIAN;case"bengali":return bA.BENGALI;case"cambodian":return bA.CAMBODIAN;case"cjk-earthly-branch":return bA.CJK_EARTHLY_BRANCH;case"cjk-heavenly-stem":return bA.CJK_HEAVENLY_STEM;case"cjk-ideographic":return bA.CJK_IDEOGRAPHIC;case"devanagari":return bA.DEVANAGARI;case"ethiopic-numeric":return bA.ETHIOPIC_NUMERIC;case"georgian":return bA.GEORGIAN;case"gujarati":return bA.GUJARATI;case"gurmukhi":return bA.GURMUKHI;case"hebrew":return bA.HEBREW;case"hiragana":return bA.HIRAGANA;case"hiragana-iroha":return bA.HIRAGANA_IROHA;case"japanese-formal":return bA.JAPANESE_FORMAL;case"japanese-informal":return bA.JAPANESE_INFORMAL;case"kannada":return bA.KANNADA;case"katakana":return bA.KATAKANA;case"katakana-iroha":return bA.KATAKANA_IROHA;case"khmer":return bA.KHMER;case"korean-hangul-formal":return bA.KOREAN_HANGUL_FORMAL;case"korean-hanja-formal":return bA.KOREAN_HANJA_FORMAL;case"korean-hanja-informal":return bA.KOREAN_HANJA_INFORMAL;case"lao":return bA.LAO;case"lower-armenian":return bA.LOWER_ARMENIAN;case"malayalam":return bA.MALAYALAM;case"mongolian":return bA.MONGOLIAN;case"myanmar":return bA.MYANMAR;case"oriya":return bA.ORIYA;case"persian":return bA.PERSIAN;case"simp-chinese-formal":return bA.SIMP_CHINESE_FORMAL;case"simp-chinese-informal":return bA.SIMP_CHINESE_INFORMAL;case"tamil":return bA.TAMIL;case"telugu":return bA.TELUGU;case"thai":return bA.THAI;case"tibetan":return bA.TIBETAN;case"trad-chinese-formal":return bA.TRAD_CHINESE_FORMAL;case"trad-chinese-informal":return bA.TRAD_CHINESE_INFORMAL;case"upper-armenian":return bA.UPPER_ARMENIAN;case"disclosure-open":return bA.DISCLOSURE_OPEN;case"disclosure-closed":return bA.DISCLOSURE_CLOSED;case"none":default:return bA.NONE}}},IA=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:st.TOKEN_VALUE}},LA=IA("top"),NA=IA("right"),DA=IA("bottom"),HA=IA("left");!function(e){e[e.VISIBLE=0]="VISIBLE",e[e.HIDDEN=1]="HIDDEN",e[e.SCROLL=2]="SCROLL",e[e.AUTO=3]="AUTO"}(_A||(_A={}));var OA,MA={name:"overflow",initialValue:"visible",prefix:!1,type:st.LIST,parse:function(e){return e.filter(De).map(function(e){switch(e.value){case"hidden":return _A.HIDDEN;case"scroll":return _A.SCROLL;case"auto":return _A.AUTO;case"visible":default:return _A.VISIBLE}})}};!function(e){e.NORMAL="normal",e.BREAK_WORD="break-word"}(OA||(OA={}));var xA,PA={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:st.IDENT_VALUE,parse:function(e){switch(e){case"break-word":return OA.BREAK_WORD;case"normal":default:return OA.NORMAL}}},KA=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:st.TYPE_VALUE,format:"length-percentage"}},kA=KA("top"),GA=KA("right"),jA=KA("bottom"),VA=KA("left");!function(e){e[e.LEFT=0]="LEFT",e[e.CENTER=1]="CENTER",e[e.RIGHT=2]="RIGHT"}(xA||(xA={}));var zA,XA={name:"text-align",initialValue:"left",prefix:!1,type:st.IDENT_VALUE,parse:function(e){switch(e){case"right":return xA.RIGHT;case"center":case"justify":return xA.CENTER;case"left":default:return xA.LEFT}}};!function(e){e[e.STATIC=0]="STATIC",e[e.RELATIVE=1]="RELATIVE",e[e.ABSOLUTE=2]="ABSOLUTE",e[e.FIXED=3]="FIXED",e[e.STICKY=4]="STICKY"}(zA||(zA={}));var YA,WA={name:"position",initialValue:"static",prefix:!1,type:st.IDENT_VALUE,parse:function(e){switch(e){case"relative":return zA.RELATIVE;case"absolute":return zA.ABSOLUTE;case"fixed":return zA.FIXED;case"sticky":return zA.STICKY}return zA.STATIC}},JA={name:"text-shadow",initialValue:"none",type:st.LIST,prefix:!1,parse:function(e){return 1===e.length&&Oe(e[0],"none")?[]:Pe(e).map(function(e){for(var t={color:ct.TRANSPARENT,offsetX:Ve,offsetY:Ve,blur:Ve},A=0,r=0;r<e.length;r++){var n=e[r];ke(n)?(0===A?t.offsetX=n:1===A?t.offsetY=n:t.blur=n,A++):t.color=et.parse(n)}return t})}};!function(e){e[e.NONE=0]="NONE",e[e.LOWERCASE=1]="LOWERCASE",e[e.UPPERCASE=2]="UPPERCASE",e[e.CAPITALIZE=3]="CAPITALIZE"}(YA||(YA={}));var qA,ZA={name:"text-transform",initialValue:"none",prefix:!1,type:st.IDENT_VALUE,parse:function(e){switch(e){case"uppercase":return YA.UPPERCASE;case"lowercase":return YA.LOWERCASE;case"capitalize":return YA.CAPITALIZE}return YA.NONE}},$A={name:"transform",initialValue:"none",prefix:!0,type:st.VALUE,parse:function(e){if(e.type===d.IDENT_TOKEN&&"none"===e.value)return null;if(e.type===d.FUNCTION){var t=er[e.name];if(void 0===t)throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},er={matrix:function(e){var t=e.filter(function(e){return e.type===d.NUMBER_TOKEN}).map(function(e){return e.number});return 6===t.length?t:null},matrix3d:function(e){var t=e.filter(function(e){return e.type===d.NUMBER_TOKEN}).map(function(e){return e.number}),A=t[0],r=t[1],n=(t[2],t[3],t[4]),i=t[5],o=(t[6],t[7],t[8],t[9],t[10],t[11],t[12]),s=t[13];return t[14],t[15],16===t.length?[A,r,n,i,o,s]:null}},tr={type:d.PERCENTAGE_TOKEN,number:50,flags:4},Ar=[tr,tr],rr={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:st.LIST,parse:function(e){var t=e.filter(Ge);return 2!==t.length?Ar:[t[0],t[1]]}};!function(e){e[e.VISIBLE=0]="VISIBLE",e[e.HIDDEN=1]="HIDDEN",e[e.COLLAPSE=2]="COLLAPSE"}(qA||(qA={}));var nr,ir={name:"visible",initialValue:"none",prefix:!1,type:st.IDENT_VALUE,parse:function(e){switch(e){case"hidden":return qA.HIDDEN;case"collapse":return qA.COLLAPSE;case"visible":default:return qA.VISIBLE}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(nr||(nr={}));var or,sr={name:"word-break",initialValue:"normal",prefix:!1,type:st.IDENT_VALUE,parse:function(e){switch(e){case"break-all":return nr.BREAK_ALL;case"keep-all":return nr.KEEP_ALL;case"normal":default:return nr.NORMAL}}},ar={name:"z-index",initialValue:"auto",prefix:!1,type:st.VALUE,parse:function(e){if(e.type===d.IDENT_TOKEN)return{auto:!0,order:0};if(Ne(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},lr={name:"opacity",initialValue:"1",type:st.VALUE,prefix:!1,parse:function(e){return Ne(e)?e.number:1}},ur={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:st.TYPE_VALUE,format:"color"},cr={name:"text-decoration-line",initialValue:"none",prefix:!1,type:st.LIST,parse:function(e){return e.filter(De).map(function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(e){return 0!==e})}},dr={name:"font-family",initialValue:"",prefix:!1,type:st.LIST,parse:function(e){return e.filter(fr).map(function(e){return e.value})}},fr=function(e){return e.type===d.STRING_TOKEN||e.type===d.IDENT_TOKEN},hr={name:"font-size",initialValue:"0",prefix:!1,type:st.TYPE_VALUE,format:"length"},pr={name:"font-weight",initialValue:"normal",type:st.VALUE,prefix:!1,parse:function(e){if(Ne(e))return e.number;if(De(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},gr={name:"font-variant",initialValue:"none",type:st.LIST,prefix:!1,parse:function(e){return e.filter(De).map(function(e){return e.value})}};!function(e){e.NORMAL="normal",e.ITALIC="italic",e.OBLIQUE="oblique"}(or||(or={}));var Br,mr={name:"font-style",initialValue:"normal",prefix:!1,type:st.IDENT_VALUE,parse:function(e){switch(e){case"oblique":return or.OBLIQUE;case"italic":return or.ITALIC;case"normal":default:return or.NORMAL}}},wr=function(e,t){return 0!=(e&t)},Er={name:"content",initialValue:"none",type:st.LIST,prefix:!1,parse:function(e){if(0===e.length)return[];var t=e[0];return t.type===d.IDENT_TOKEN&&"none"===t.value?[]:e}},vr={name:"counter-increment",initialValue:"none",prefix:!0,type:st.LIST,parse:function(e){if(0===e.length)return null;var t=e[0];if(t.type===d.IDENT_TOKEN&&"none"===t.value)return null;for(var A=[],r=e.filter(Me),n=0;n<r.length;n++){var i=r[n],o=r[n+1];if(i.type===d.IDENT_TOKEN){var s=o&&Ne(o)?o.number:1;A.push({counter:i.value,increment:s})}}return A}},yr={name:"counter-reset",initialValue:"none",prefix:!0,type:st.LIST,parse:function(e){if(0===e.length)return[];for(var t=[],A=e.filter(Me),r=0;r<A.length;r++){var n=A[r],i=A[r+1];if(De(n)&&"none"!==n.value){var o=i&&Ne(i)?i.number:0;t.push({counter:n.value,reset:o})}}return t}},Cr={name:"quotes",initialValue:"none",prefix:!0,type:st.LIST,parse:function(e){if(0===e.length)return null;var t=e[0];if(t.type===d.IDENT_TOKEN&&"none"===t.value)return null;var A=[],r=e.filter(He);if(r.length%2!=0)return null;for(var n=0;n<r.length;n+=2){var i=r[n].value,o=r[n+1].value;A.push({open:i,close:o})}return A}},Ur=function(e,t,A){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?A?r.open:r.close:""},Qr={name:"box-shadow",initialValue:"none",type:st.LIST,prefix:!1,parse:function(e){return 1===e.length&&Oe(e[0],"none")?[]:Pe(e).map(function(e){for(var t={color:255,offsetX:Ve,offsetY:Ve,blur:Ve,spread:Ve,inset:!1},A=0,r=0;r<e.length;r++){var n=e[r];Oe(n,"inset")?t.inset=!0:ke(n)?(0===A?t.offsetX=n:1===A?t.offsetY=n:2===A?t.blur=n:t.spread=n,A++):t.color=et.parse(n)}return t})}},Fr=function(){function e(e){this.backgroundClip=Sr(pt,e.backgroundClip),this.backgroundColor=Sr(gt,e.backgroundColor),this.backgroundImage=Sr(kt,e.backgroundImage),this.backgroundOrigin=Sr(Gt,e.backgroundOrigin),this.backgroundPosition=Sr(jt,e.backgroundPosition),this.backgroundRepeat=Sr(zt,e.backgroundRepeat),this.backgroundSize=Sr(Wt,e.backgroundSize),this.borderTopColor=Sr(Zt,e.borderTopColor),this.borderRightColor=Sr($t,e.borderRightColor),this.borderBottomColor=Sr(eA,e.borderBottomColor),this.borderLeftColor=Sr(tA,e.borderLeftColor),this.borderTopLeftRadius=Sr(rA,e.borderTopLeftRadius),this.borderTopRightRadius=Sr(nA,e.borderTopRightRadius),this.borderBottomRightRadius=Sr(iA,e.borderBottomRightRadius),this.borderBottomLeftRadius=Sr(oA,e.borderBottomLeftRadius),this.borderTopStyle=Sr(lA,e.borderTopStyle),this.borderRightStyle=Sr(uA,e.borderRightStyle),this.borderBottomStyle=Sr(cA,e.borderBottomStyle),this.borderLeftStyle=Sr(dA,e.borderLeftStyle),this.borderTopWidth=Sr(hA,e.borderTopWidth),this.borderRightWidth=Sr(pA,e.borderRightWidth),this.borderBottomWidth=Sr(gA,e.borderBottomWidth),this.borderLeftWidth=Sr(BA,e.borderLeftWidth),this.boxShadow=Sr(Qr,e.boxShadow),this.color=Sr(mA,e.color),this.display=Sr(wA,e.display),this.float=Sr(yA,e.cssFloat),this.fontFamily=Sr(dr,e.fontFamily),this.fontSize=Sr(hr,e.fontSize),this.fontStyle=Sr(mr,e.fontStyle),this.fontVariant=Sr(gr,e.fontVariant),this.fontWeight=Sr(pr,e.fontWeight),this.letterSpacing=Sr(CA,e.letterSpacing),this.lineBreak=Sr(QA,e.lineBreak),this.lineHeight=Sr(FA,e.lineHeight),this.listStyleImage=Sr(TA,e.listStyleImage),this.listStylePosition=Sr(SA,e.listStylePosition),this.listStyleType=Sr(RA,e.listStyleType),this.marginTop=Sr(LA,e.marginTop),this.marginRight=Sr(NA,e.marginRight),this.marginBottom=Sr(DA,e.marginBottom),this.marginLeft=Sr(HA,e.marginLeft),this.opacity=Sr(lr,e.opacity);var t=Sr(MA,e.overflow);this.overflowX=t[0],this.overflowY=t[t.length>1?1:0],this.overflowWrap=Sr(PA,e.overflowWrap),this.paddingTop=Sr(kA,e.paddingTop),this.paddingRight=Sr(GA,e.paddingRight),this.paddingBottom=Sr(jA,e.paddingBottom),this.paddingLeft=Sr(VA,e.paddingLeft),this.position=Sr(WA,e.position),this.textAlign=Sr(XA,e.textAlign),this.textDecorationColor=Sr(ur,e.textDecorationColor||e.color),this.textDecorationLine=Sr(cr,e.textDecorationLine),this.textShadow=Sr(JA,e.textShadow),this.textTransform=Sr(ZA,e.textTransform),this.transform=Sr($A,e.transform),this.transformOrigin=Sr(rr,e.transformOrigin),this.visibility=Sr(ir,e.visibility),this.wordBreak=Sr(sr,e.wordBreak),this.zIndex=Sr(ar,e.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===qA.VISIBLE},e.prototype.isTransparent=function(){return tt(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return this.position!==zA.STATIC},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==sA.NONE},e.prototype.isInlineLevel=function(){return wr(this.display,4)||wr(this.display,33554432)||wr(this.display,268435456)||wr(this.display,536870912)||wr(this.display,67108864)||wr(this.display,134217728)},e}(),Tr=function(e){this.content=Sr(Er,e.content),this.quotes=Sr(Cr,e.quotes)},br=function(e){this.counterIncrement=Sr(vr,e.counterIncrement),this.counterReset=Sr(yr,e.counterReset)},Sr=function(e,t){var A=new Re,r=null!=t?t.toString():e.initialValue;A.write(r);var n=new Ie(A.read());switch(e.type){case st.IDENT_VALUE:var i=n.parseComponentValue();return e.parse(De(i)?i.value:e.initialValue);case st.VALUE:return e.parse(n.parseComponentValue());case st.LIST:return e.parse(n.parseComponentValues());case st.TOKEN_VALUE:return n.parseComponentValue();case st.TYPE_VALUE:switch(e.format){case"angle":return Je.parse(n.parseComponentValue());case"color":return et.parse(n.parseComponentValue());case"image":return Pt.parse(n.parseComponentValue());case"length":var o=n.parseComponentValue();return ke(o)?o:Ve;case"length-percentage":var s=n.parseComponentValue();return Ge(s)?s:Ve}}throw new Error("Attempting to parse unsupported css format type "+e.format)},_r=function(e){this.styles=new Fr(window.getComputedStyle(e,null)),this.textNodes=[],this.elements=[],null!==this.styles.transform&&fn(e)&&(e.style.transform="none"),this.bounds=o(e),this.flags=0},Rr=function(e,t){this.text=e,this.bounds=t},Ir=function(e,t,A){var r=Dr(e,t),n=[],i=0;return r.forEach(function(e){if(t.textDecorationLine.length||e.trim().length>0)if(Ft.SUPPORT_RANGE_BOUNDS)n.push(new Rr(e,Nr(A,i,e.length)));else{var r=A.splitText(e.length);n.push(new Rr(e,Lr(A))),A=r}else Ft.SUPPORT_RANGE_BOUNDS||(A=A.splitText(e.length));i+=e.length}),n},Lr=function(e){var t=e.ownerDocument;if(t){var A=t.createElement("html2canvaswrapper");A.appendChild(e.cloneNode(!0));var r=e.parentNode;if(r){r.replaceChild(A,e);var n=o(A);return A.firstChild&&r.replaceChild(A.firstChild,A),n}}return new i(0,0,0,0)},Nr=function(e,t,A){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var n=r.createRange();return n.setStart(e,t),n.setEnd(e,t+A),i.fromClientRect(n.getBoundingClientRect())},Dr=function(e,t){return 0!==t.letterSpacing?s(e).map(function(e){return a(e)}):Hr(e,t)},Hr=function(e,t){for(var A,r=function(e,t){var A=s(e),r=q(A,t),n=r[0],i=r[1],o=r[2],a=A.length,l=0,u=0;return{next:function(){if(u>=a)return{done:!0,value:null};for(var e="×";u<a&&"×"===(e=J(A,i,n,++u,o)););if("×"!==e||u===a){var t=new Z(A,e,l,u);return l=u,{value:t,done:!1}}return{done:!0,value:null}}}}(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap===OA.BREAK_WORD?"break-word":t.wordBreak}),n=[];!(A=r.next()).done;)A.value&&n.push(A.value.slice());return n},Or=function(e,t){this.text=Mr(e.data,t.textTransform),this.textBounds=Ir(this.text,t,e)},Mr=function(e,t){switch(t){case YA.LOWERCASE:return e.toLowerCase();case YA.CAPITALIZE:return e.replace(xr,Pr);case YA.UPPERCASE:return e.toUpperCase();default:return e}},xr=/(^|\s|:|-|\(|\))([a-z])/g,Pr=function(e,t,A){return e.length>0?t+A.toUpperCase():e},Kr=function(e){function A(t){var A=e.call(this,t)||this;return A.src=t.currentSrc||t.src,A.intrinsicWidth=t.naturalWidth,A.intrinsicHeight=t.naturalHeight,bt.getInstance().addImage(A.src),A}return t(A,e),A}(_r),kr=function(e){function A(t){var A=e.call(this,t)||this;return A.canvas=t,A.intrinsicWidth=t.width,A.intrinsicHeight=t.height,A}return t(A,e),A}(_r),Gr=function(e){function A(t){var A=e.call(this,t)||this,r=new XMLSerializer;return A.svg="data:image/svg+xml,"+encodeURIComponent(r.serializeToString(t)),A.intrinsicWidth=t.width.baseVal.value,A.intrinsicHeight=t.height.baseVal.value,bt.getInstance().addImage(A.svg),A}return t(A,e),A}(_r),jr=function(e){function A(t){var A=e.call(this,t)||this;return A.value=t.value,A}return t(A,e),A}(_r),Vr=function(e){function A(t){var A=e.call(this,t)||this;return A.start=t.start,A.reversed="boolean"==typeof t.reversed&&!0===t.reversed,A}return t(A,e),A}(_r),zr=[{type:d.DIMENSION_TOKEN,flags:0,unit:"px",number:3}],Xr=[{type:d.PERCENTAGE_TOKEN,flags:0,number:50}],Yr=function(e){return e.width>e.height?new i(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new i(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},Wr=function(e){var t=e.type===Zr?new Array(e.value.length+1).join("•"):e.value;return 0===t.length?e.placeholder||"":t},Jr="checkbox",qr="radio",Zr="password",$r=function(e){function A(t){var A=e.call(this,t)||this;switch(A.type=t.type.toLowerCase(),A.checked=t.checked,A.value=Wr(t),A.type!==Jr&&A.type!==qr||(A.styles.backgroundColor=3739148031,A.styles.borderTopColor=A.styles.borderRightColor=A.styles.borderBottomColor=A.styles.borderLeftColor=2779096575,A.styles.borderTopWidth=A.styles.borderRightWidth=A.styles.borderBottomWidth=A.styles.borderLeftWidth=1,A.styles.borderTopStyle=A.styles.borderRightStyle=A.styles.borderBottomStyle=A.styles.borderLeftStyle=Yt.SOLID,A.styles.backgroundClip=[at.BORDER_BOX],A.styles.backgroundOrigin=[0],A.bounds=Yr(A.bounds)),A.type){case Jr:A.styles.borderTopRightRadius=A.styles.borderTopLeftRadius=A.styles.borderBottomRightRadius=A.styles.borderBottomLeftRadius=zr;break;case qr:A.styles.borderTopRightRadius=A.styles.borderTopLeftRadius=A.styles.borderBottomRightRadius=A.styles.borderBottomLeftRadius=Xr}return A}return t(A,e),A}(_r),en=function(e){function A(t){var A=e.call(this,t)||this,r=t.options[t.selectedIndex||0];return A.value=r&&r.text||"",A}return t(A,e),A}(_r),tn=function(e){function A(t){var A=e.call(this,t)||this;return A.value=t.value,A}return t(A,e),A}(_r),An=function(e){return et.parse(Ie.create(e).parseComponentValue())},rn=function(e){function A(t){var A=e.call(this,t)||this;A.src=t.src,A.width=parseInt(t.width,10),A.height=parseInt(t.height,10),A.backgroundColor=A.styles.backgroundColor;try{if(t.contentWindow&&t.contentWindow.document&&t.contentWindow.document.documentElement){A.tree=an(t.contentWindow.document.documentElement);var r=t.contentWindow.document.documentElement?An(getComputedStyle(t.contentWindow.document.documentElement).backgroundColor):ct.TRANSPARENT,n=t.contentWindow.document.body?An(getComputedStyle(t.contentWindow.document.body).backgroundColor):ct.TRANSPARENT;A.backgroundColor=tt(r)?tt(n)?A.styles.backgroundColor:n:r}}catch(e){}return A}return t(A,e),A}(_r),nn=["OL","UL","MENU"],on=function(e,t,A){for(var r=e.firstChild,n=void 0;r;r=n)if(n=r.nextSibling,cn(r)&&r.data.trim().length>0)t.textNodes.push(new Or(r,t.styles));else if(dn(r)){var i=sn(r);i.styles.isVisible()&&(ln(r,i,A)?i.flags|=4:un(i.styles)&&(i.flags|=2),-1!==nn.indexOf(r.tagName)&&(i.flags|=8),t.elements.push(i),Un(r)||Bn(r)||Qn(r)||on(r,i,A))}},sn=function(e){return En(e)?new Kr(e):wn(e)?new kr(e):Bn(e)?new Gr(e):hn(e)?new jr(e):pn(e)?new Vr(e):gn(e)?new $r(e):Qn(e)?new en(e):Un(e)?new tn(e):vn(e)?new rn(e):new _r(e)},an=function(e){var t=sn(e);return t.flags|=4,on(e,t,t),t},ln=function(e,t,A){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||mn(e)&&A.styles.isTransparent()},un=function(e){return e.isPositioned()||e.isFloating()},cn=function(e){return e.nodeType===Node.TEXT_NODE},dn=function(e){return e.nodeType===Node.ELEMENT_NODE},fn=function(e){return void 0!==e.style},hn=function(e){return"LI"===e.tagName},pn=function(e){return"OL"===e.tagName},gn=function(e){return"INPUT"===e.tagName},Bn=function(e){return"svg"===e.tagName},mn=function(e){return"BODY"===e.tagName},wn=function(e){return"CANVAS"===e.tagName},En=function(e){return"IMG"===e.tagName},vn=function(e){return"IFRAME"===e.tagName},yn=function(e){return"STYLE"===e.tagName},Cn=function(e){return"SCRIPT"===e.tagName},Un=function(e){return"TEXTAREA"===e.tagName},Qn=function(e){return"SELECT"===e.tagName},Fn=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach(function(e){return t.counters[e].pop()})},e.prototype.parse=function(e){var t=this,A=e.counterIncrement,r=e.counterReset;null!==A&&A.forEach(function(e){var A=t.counters[e.counter];A&&(A[Math.max(0,A.length-1)]+=e.increment)});var n=[];return r.forEach(function(e){var A=t.counters[e.counter];n.push(e.counter),A||(A=t.counters[e.counter]=[]),A.push(e.reset)}),n},e}(),Tn={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},bn={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},Sn={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},_n={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},Rn=function(e,t,A,r,n,i){return e<t||e>A?Hn(e,n,i.length>0):r.integers.reduce(function(t,A,n){for(;e>=A;)e-=A,t+=r.values[n];return t},"")+i},In=function(e,t,A,r){var n="";do{A||e--,n=r(e)+n,e/=t}while(e*t>=t);return n},Ln=function(e,t,A,r,n){var i=A-t+1;return(e<0?"-":"")+(In(Math.abs(e),i,r,function(e){return a(Math.floor(e%i)+t)})+n)},Nn=function(e,t,A){void 0===A&&(A=". ");var r=t.length;return In(Math.abs(e),r,!1,function(e){return t[Math.floor(e%r)]})+A},Dn=function(e,t,A,r,n,i){if(e<-9999||e>9999)return Hn(e,bA.CJK_DECIMAL,n.length>0);var o=Math.abs(e),s=n;if(0===o)return t[0]+s;for(var a=0;o>0&&a<=4;a++){var l=o%10;0===l&&wr(i,1)&&""!==s?s=t[l]+s:l>1||1===l&&0===a||1===l&&1===a&&wr(i,2)||1===l&&1===a&&wr(i,4)&&e>100||1===l&&a>1&&wr(i,8)?s=t[l]+(a>0?A[a-1]:"")+s:1===l&&a>0&&(s=A[a-1]+s),o=Math.floor(o/10)}return(e<0?r:"")+s},Hn=function(e,t,A){var r=A?". ":"",n=A?"、":"",i=A?", ":"",o=A?" ":"";switch(t){case bA.DISC:return"•"+o;case bA.CIRCLE:return"◦"+o;case bA.SQUARE:return"◾"+o;case bA.DECIMAL_LEADING_ZERO:var s=Ln(e,48,57,!0,r);return s.length<4?"0"+s:s;case bA.CJK_DECIMAL:return Nn(e,"〇一二三四五六七八九",n);case bA.LOWER_ROMAN:return Rn(e,1,3999,Tn,bA.DECIMAL,r).toLowerCase();case bA.UPPER_ROMAN:return Rn(e,1,3999,Tn,bA.DECIMAL,r);case bA.LOWER_GREEK:return Ln(e,945,969,!1,r);case bA.LOWER_ALPHA:return Ln(e,97,122,!1,r);case bA.UPPER_ALPHA:return Ln(e,65,90,!1,r);case bA.ARABIC_INDIC:return Ln(e,1632,1641,!0,r);case bA.ARMENIAN:case bA.UPPER_ARMENIAN:return Rn(e,1,9999,bn,bA.DECIMAL,r);case bA.LOWER_ARMENIAN:return Rn(e,1,9999,bn,bA.DECIMAL,r).toLowerCase();case bA.BENGALI:return Ln(e,2534,2543,!0,r);case bA.CAMBODIAN:case bA.KHMER:return Ln(e,6112,6121,!0,r);case bA.CJK_EARTHLY_BRANCH:return Nn(e,"子丑寅卯辰巳午未申酉戌亥",n);case bA.CJK_HEAVENLY_STEM:return Nn(e,"甲乙丙丁戊己庚辛壬癸",n);case bA.CJK_IDEOGRAPHIC:case bA.TRAD_CHINESE_INFORMAL:return Dn(e,"零一二三四五六七八九","十百千萬","負",n,14);case bA.TRAD_CHINESE_FORMAL:return Dn(e,"零壹貳參肆伍陸柒捌玖","拾佰仟萬","負",n,15);case bA.SIMP_CHINESE_INFORMAL:return Dn(e,"零一二三四五六七八九","十百千萬","负",n,14);case bA.SIMP_CHINESE_FORMAL:return Dn(e,"零壹贰叁肆伍陆柒捌玖","拾佰仟萬","负",n,15);case bA.JAPANESE_INFORMAL:return Dn(e,"〇一二三四五六七八九","十百千万","マイナス",n,0);case bA.JAPANESE_FORMAL:return Dn(e,"零壱弐参四伍六七八九","拾百千万","マイナス",n,7);case bA.KOREAN_HANGUL_FORMAL:return Dn(e,"영일이삼사오육칠팔구","십백천만","마이너스",i,7);case bA.KOREAN_HANJA_INFORMAL:return Dn(e,"零一二三四五六七八九","十百千萬","마이너스",i,0);case bA.KOREAN_HANJA_FORMAL:return Dn(e,"零壹貳參四五六七八九","拾百千","마이너스",i,7);case bA.DEVANAGARI:return Ln(e,2406,2415,!0,r);case bA.GEORGIAN:return Rn(e,1,19999,_n,bA.DECIMAL,r);case bA.GUJARATI:return Ln(e,2790,2799,!0,r);case bA.GURMUKHI:return Ln(e,2662,2671,!0,r);case bA.HEBREW:return Rn(e,1,10999,Sn,bA.DECIMAL,r);case bA.HIRAGANA:return Nn(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case bA.HIRAGANA_IROHA:return Nn(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case bA.KANNADA:return Ln(e,3302,3311,!0,r);case bA.KATAKANA:return Nn(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",n);case bA.KATAKANA_IROHA:return Nn(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",n);case bA.LAO:return Ln(e,3792,3801,!0,r);case bA.MONGOLIAN:return Ln(e,6160,6169,!0,r);case bA.MYANMAR:return Ln(e,4160,4169,!0,r);case bA.ORIYA:return Ln(e,2918,2927,!0,r);case bA.PERSIAN:return Ln(e,1776,1785,!0,r);case bA.TAMIL:return Ln(e,3046,3055,!0,r);case bA.TELUGU:return Ln(e,3174,3183,!0,r);case bA.THAI:return Ln(e,3664,3673,!0,r);case bA.TIBETAN:return Ln(e,3872,3881,!0,r);case bA.DECIMAL:default:return Ln(e,48,57,!0,r)}},On=function(){function e(e,t){if(this.options=t,this.scrolledElements=[],this.referenceElement=e,this.counters=new Fn,this.quoteDepth=0,!e.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(e.ownerDocument.documentElement)}return e.prototype.toIFrame=function(e,t){var A=this,r=xn(e,t);if(!r.contentWindow)return Promise.reject("Unable to find iframe window");var n=e.defaultView.pageXOffset,i=e.defaultView.pageYOffset,o=r.contentWindow,s=o.document,a=Pn(r).then(function(){A.scrolledElements.forEach(jn),o&&(o.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||o.scrollY===t.top&&o.scrollX===t.left||(s.documentElement.style.top=-t.top+"px",s.documentElement.style.left=-t.left+"px",s.documentElement.style.position="absolute"));var e=A.options.onclone;return void 0===A.clonedReferenceElement?Promise.reject("Error finding the "+A.referenceElement.nodeName+" in the cloned document"):"function"==typeof e?Promise.resolve().then(function(){return e(s)}).then(function(){return r}):r});return s.open(),s.write(kn(document.doctype)+"<html></html>"),Gn(this.referenceElement.ownerDocument,n,i),s.replaceChild(s.adoptNode(this.documentElement),s.documentElement),s.close(),a},e.prototype.createElementClone=function(e){return wn(e)?this.createCanvasClone(e):yn(e)?this.createStyleClone(e):e.cloneNode(!1)},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var A=[].slice.call(t.cssRules,0).reduce(function(e,t){return t&&"string"==typeof t.cssText?e+t.cssText:e},""),r=e.cloneNode(!1);return r.textContent=A,r}}catch(e){if(Tt.getInstance(this.options.id).error("Unable to access cssRules property",e),"SecurityError"!==e.name)throw e}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){if(this.options.inlineImages&&e.ownerDocument){var t=e.ownerDocument.createElement("img");try{return t.src=e.toDataURL(),t}catch(e){Tt.getInstance(this.options.id).info("Unable to clone canvas contents, canvas is tainted")}}var A=e.cloneNode(!1);try{A.width=e.width,A.height=e.height;var r=e.getContext("2d"),n=A.getContext("2d");return n&&(r?n.putImageData(r.getImageData(0,0,e.width,e.height),0,0):n.drawImage(e,0,0)),A}catch(e){}return A},e.prototype.cloneNode=function(e){if(cn(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var t=e.ownerDocument.defaultView;if(fn(e)&&t){var A=this.createElementClone(e),r=t.getComputedStyle(e),n=t.getComputedStyle(e,":before"),i=t.getComputedStyle(e,":after");this.referenceElement===e&&(this.clonedReferenceElement=A),mn(A)&&Xn(A);for(var o=this.counters.parse(new br(r)),s=this.resolvePseudoContent(e,A,n,Br.BEFORE),a=e.firstChild;a;a=a.nextSibling)dn(a)&&(Cn(a)||a.hasAttribute("data-html2canvas-ignore")||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(a))||this.options.copyStyles&&dn(a)&&yn(a)||A.appendChild(this.cloneNode(a));s&&A.insertBefore(s,A.firstChild);var l=this.resolvePseudoContent(e,A,i,Br.AFTER);return l&&A.appendChild(l),this.counters.pop(o),r&&this.options.copyStyles&&!vn(e)&&Kn(r,A),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([A,e.scrollLeft,e.scrollTop]),(Un(e)||Qn(e))&&(Un(A)||Qn(A))&&(A.value=e.value),A}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,A,r){var n=this;if(A){var i=A.content,o=t.ownerDocument;if(o&&i&&"none"!==i&&"-moz-alt-content"!==i&&"none"!==A.display){this.counters.parse(new br(A));var s=new Tr(A),a=o.createElement("html2canvaspseudoelement");return Kn(A,a),s.content.forEach(function(t){if(t.type===d.STRING_TOKEN)a.appendChild(o.createTextNode(t.value));else if(t.type===d.URL_TOKEN){var A=o.createElement("img");A.src=t.value,A.style.opacity="1",a.appendChild(A)}else if(t.type===d.FUNCTION){if("attr"===t.name){var r=t.values.filter(De);r.length&&a.appendChild(o.createTextNode(e.getAttribute(r[0].value)||""))}else if("counter"===t.name){var i=t.values.filter(xe),l=i[0],u=i[1];if(l&&De(l)){var c=n.counters.getCounterValue(l.value),f=u&&De(u)?RA.parse(u.value):bA.DECIMAL;a.appendChild(o.createTextNode(Hn(c,f,!1)))}}else if("counters"===t.name){var h=t.values.filter(xe),l=h[0],p=h[1],u=h[2];if(l&&De(l)){var g=n.counters.getCounterValues(l.value),B=u&&De(u)?RA.parse(u.value):bA.DECIMAL,m=p&&p.type===d.STRING_TOKEN?p.value:"",w=g.map(function(e){return Hn(e,B,!1)}).join(m);a.appendChild(o.createTextNode(w))}}}else if(t.type===d.IDENT_TOKEN)switch(t.value){case"open-quote":a.appendChild(o.createTextNode(Ur(s.quotes,n.quoteDepth++,!0)));break;case"close-quote":a.appendChild(o.createTextNode(Ur(s.quotes,--n.quoteDepth,!1)))}}),a.className=Vn+" "+zn,t.className+=r===Br.BEFORE?" "+Vn:" "+zn,a}}},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(Br||(Br={}));var Mn,xn=function(e,t){var A=e.createElement("iframe");return A.className="html2canvas-container",A.style.visibility="hidden",A.style.position="fixed",A.style.left="-10000px",A.style.top="0px",A.style.border="0",A.width=t.width.toString(),A.height=t.height.toString(),A.scrolling="no",A.setAttribute("data-html2canvas-ignore","true"),e.body.appendChild(A),A},Pn=function(e){return new Promise(function(t,A){var r=e.contentWindow;if(!r)return A("No window assigned for iframe");var n=r.document;r.onload=e.onload=n.onreadystatechange=function(){r.onload=e.onload=n.onreadystatechange=null;var A=setInterval(function(){n.body.childNodes.length>0&&"complete"===n.readyState&&(clearInterval(A),t(e))},50)}})},Kn=function(e,t){for(var A=e.length-1;A>=0;A--){var r=e.item(A);"content"!==r&&t.style.setProperty(r,e.getPropertyValue(r))}return t},kn=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},Gn=function(e,t,A){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||A!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,A)},jn=function(e){var t=e[0],A=e[1],r=e[2];t.scrollLeft=A,t.scrollTop=r},Vn="___html2canvas___pseudoelement_before",zn="___html2canvas___pseudoelement_after",Xn=function(e){Yn(e,"."+Vn+':before{\n    content: "" !important;\n    display: none !important;\n}\n         .'+zn+':after{\n    content: "" !important;\n    display: none !important;\n}')},Yn=function(e,t){var A=e.ownerDocument;if(A){var r=A.createElement("style");r.textContent=t,e.appendChild(r)}};!function(e){e[e.VECTOR=0]="VECTOR",e[e.BEZIER_CURVE=1]="BEZIER_CURVE"}(Mn||(Mn={}));var Wn,Jn=function(e,t){return e.length===t.length&&e.some(function(e,A){return e===t[A]})},qn=function(){function e(e,t){this.type=Mn.VECTOR,this.x=e,this.y=t}return e.prototype.add=function(t,A){return new e(this.x+t,this.y+A)},e}(),Zn=function(e,t,A){return new qn(e.x+(t.x-e.x)*A,e.y+(t.y-e.y)*A)},$n=function(){function e(e,t,A,r){this.type=Mn.BEZIER_CURVE,this.start=e,this.startControl=t,this.endControl=A,this.end=r}return e.prototype.subdivide=function(t,A){var r=Zn(this.start,this.startControl,t),n=Zn(this.startControl,this.endControl,t),i=Zn(this.endControl,this.end,t),o=Zn(r,n,t),s=Zn(n,i,t),a=Zn(o,s,t);return A?new e(this.start,r,o,a):new e(a,s,i,this.end)},e.prototype.add=function(t,A){return new e(this.start.add(t,A),this.startControl.add(t,A),this.endControl.add(t,A),this.end.add(t,A))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),ei=function(e){return e.type===Mn.BEZIER_CURVE},ti=function(e){var t=e.styles,A=e.bounds,r=Ye(t.borderTopLeftRadius,A.width,A.height),n=r[0],i=r[1],o=Ye(t.borderTopRightRadius,A.width,A.height),s=o[0],a=o[1],l=Ye(t.borderBottomRightRadius,A.width,A.height),u=l[0],c=l[1],d=Ye(t.borderBottomLeftRadius,A.width,A.height),f=d[0],h=d[1],p=[];p.push((n+s)/A.width),p.push((f+u)/A.width),p.push((i+h)/A.height),p.push((a+c)/A.height);var g=Math.max.apply(Math,p);g>1&&(n/=g,i/=g,s/=g,a/=g,u/=g,c/=g,f/=g,h/=g);var B=A.width-s,m=A.height-c,w=A.width-u,E=A.height-h,v=t.borderTopWidth,y=t.borderRightWidth,C=t.borderBottomWidth,U=t.borderLeftWidth,Q=We(t.paddingTop,e.bounds.width),F=We(t.paddingRight,e.bounds.width),T=We(t.paddingBottom,e.bounds.width),b=We(t.paddingLeft,e.bounds.width);this.topLeftBorderBox=n>0||i>0?Ai(A.left,A.top,n,i,Wn.TOP_LEFT):new qn(A.left,A.top),this.topRightBorderBox=s>0||a>0?Ai(A.left+B,A.top,s,a,Wn.TOP_RIGHT):new qn(A.left+A.width,A.top),this.bottomRightBorderBox=u>0||c>0?Ai(A.left+w,A.top+m,u,c,Wn.BOTTOM_RIGHT):new qn(A.left+A.width,A.top+A.height),this.bottomLeftBorderBox=f>0||h>0?Ai(A.left,A.top+E,f,h,Wn.BOTTOM_LEFT):new qn(A.left,A.top+A.height),this.topLeftPaddingBox=n>0||i>0?Ai(A.left+U,A.top+v,Math.max(0,n-U),Math.max(0,i-v),Wn.TOP_LEFT):new qn(A.left+U,A.top+v),this.topRightPaddingBox=s>0||a>0?Ai(A.left+Math.min(B,A.width+U),A.top+v,B>A.width+U?0:s-U,a-v,Wn.TOP_RIGHT):new qn(A.left+A.width-y,A.top+v),this.bottomRightPaddingBox=u>0||c>0?Ai(A.left+Math.min(w,A.width-U),A.top+Math.min(m,A.height+v),Math.max(0,u-y),c-C,Wn.BOTTOM_RIGHT):new qn(A.left+A.width-y,A.top+A.height-C),this.bottomLeftPaddingBox=f>0||h>0?Ai(A.left+U,A.top+E,Math.max(0,f-U),h-C,Wn.BOTTOM_LEFT):new qn(A.left+U,A.top+A.height-C),this.topLeftContentBox=n>0||i>0?Ai(A.left+U+b,A.top+v+Q,Math.max(0,n-(U+b)),Math.max(0,i-(v+Q)),Wn.TOP_LEFT):new qn(A.left+U+b,A.top+v+Q),this.topRightContentBox=s>0||a>0?Ai(A.left+Math.min(B,A.width+U+b),A.top+v+Q,B>A.width+U+b?0:s-U+b,a-(v+Q),Wn.TOP_RIGHT):new qn(A.left+A.width-(y+F),A.top+v+Q),this.bottomRightContentBox=u>0||c>0?Ai(A.left+Math.min(w,A.width-(U+b)),A.top+Math.min(m,A.height+v+Q),Math.max(0,u-(y+F)),c-(C+T),Wn.BOTTOM_RIGHT):new qn(A.left+A.width-(y+F),A.top+A.height-(C+T)),this.bottomLeftContentBox=f>0||h>0?Ai(A.left+U+b,A.top+E,Math.max(0,f-(U+b)),h-(C+T),Wn.BOTTOM_LEFT):new qn(A.left+U+b,A.top+A.height-(C+T))};!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(Wn||(Wn={}));var Ai=function(e,t,A,r,n){var i=(Math.sqrt(2)-1)/3*4,o=A*i,s=r*i,a=e+A,l=t+r;switch(n){case Wn.TOP_LEFT:return new $n(new qn(e,l),new qn(e,l-s),new qn(a-o,t),new qn(a,t));case Wn.TOP_RIGHT:return new $n(new qn(e,t),new qn(e+o,t),new qn(a,l-s),new qn(a,l));case Wn.BOTTOM_RIGHT:return new $n(new qn(a,t),new qn(a,t+s),new qn(e+o,l),new qn(e,l));case Wn.BOTTOM_LEFT:default:return new $n(new qn(a,l),new qn(a-o,l),new qn(e,t+s),new qn(e,t))}},ri=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},ni=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},ii=function(e,t,A){this.type=0,this.offsetX=e,this.offsetY=t,this.matrix=A,this.target=6},oi=function(e,t){this.type=1,this.target=t,this.path=e},si=function(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},ai=function(){function e(e,t){if(this.container=e,this.effects=t.slice(0),this.curves=new ti(e),null!==e.styles.transform){var A=e.bounds.left+e.styles.transformOrigin[0].number,r=e.bounds.top+e.styles.transformOrigin[1].number,n=e.styles.transform;this.effects.push(new ii(A,r,n))}if(e.styles.overflowX!==_A.VISIBLE){var i=ri(this.curves),o=ni(this.curves);Jn(i,o)?this.effects.push(new oi(i,6)):(this.effects.push(new oi(i,2)),this.effects.push(new oi(o,4)))}}return e.prototype.getParentEffects=function(){var e=this.effects.slice(0);if(this.container.styles.overflowX!==_A.VISIBLE){var t=ri(this.curves),A=ni(this.curves);Jn(t,A)||e.push(new oi(A,6))}return e},e}(),li=function(e,t,A,r){e.container.elements.forEach(function(n){var i=wr(n.flags,4),o=wr(n.flags,2),s=new ai(n,e.getParentEffects());wr(n.styles.display,2048)&&r.push(s);var a=wr(n.flags,8)?[]:r;if(i||o){var l=i||n.styles.isPositioned()?A:t,u=new si(s);if(n.styles.isPositioned()||n.styles.opacity<1||n.styles.isTransformed()){var c=n.styles.zIndex.order;if(c<0){var d=0;l.negativeZIndex.some(function(e,t){return c>e.element.container.styles.zIndex.order&&(d=t,!0)}),l.negativeZIndex.splice(d,0,u)}else if(c>0){var f=0;l.positiveZIndex.some(function(e,t){return c>e.element.container.styles.zIndex.order&&(f=t+1,!0)}),l.positiveZIndex.splice(f,0,u)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else n.styles.isFloating()?l.nonPositionedFloats.push(u):l.nonPositionedInlineLevel.push(u);li(s,u,i?u:A,a)}else n.styles.isInlineLevel()?t.inlineLevel.push(s):t.nonInlineLevel.push(s),li(s,t,A,a);wr(n.flags,8)&&ui(n,a)})},ui=function(e,t){for(var A=e instanceof Vr?e.start:1,r=e instanceof Vr&&e.reversed,n=0;n<t.length;n++){var i=t[n];i.container instanceof jr&&"number"==typeof i.container.value&&0!==i.container.value&&(A=i.container.value),i.listValue=Hn(A,i.container.styles.listStyleType,!0),A+=r?-1:1}},ci=function(e,t,A,r){var n=[];return ei(e)?n.push(e.subdivide(.5,!1)):n.push(e),ei(A)?n.push(A.subdivide(.5,!0)):n.push(A),ei(r)?n.push(r.subdivide(.5,!0).reverse()):n.push(r),ei(t)?n.push(t.subdivide(.5,!1).reverse()):n.push(t),n},di=function(e){var t=e.bounds,A=e.styles;return t.add(A.borderLeftWidth,A.borderTopWidth,-(A.borderRightWidth+A.borderLeftWidth),-(A.borderTopWidth+A.borderBottomWidth))},fi=function(e){var t=e.styles,A=e.bounds,r=We(t.paddingLeft,A.width),n=We(t.paddingRight,A.width),i=We(t.paddingTop,A.width),o=We(t.paddingBottom,A.width);return A.add(r+t.borderLeftWidth,i+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+n),-(t.borderTopWidth+t.borderBottomWidth+i+o))},hi=function(e,t,A){var r=function(e,t){return 0===e?t.bounds:2===e?fi(t):di(t)}(mi(e.styles.backgroundOrigin,t),e),n=function(e,t){return e===at.BORDER_BOX?t.bounds:e===at.CONTENT_BOX?fi(t):di(t)}(mi(e.styles.backgroundClip,t),e),i=Bi(mi(e.styles.backgroundSize,t),A,r),o=i[0],s=i[1],a=Ye(mi(e.styles.backgroundPosition,t),r.width-o,r.height-s),l=wi(mi(e.styles.backgroundRepeat,t),a,i,r,n),u=Math.round(r.left+a[0]),c=Math.round(r.top+a[1]);return[l,u,c,o,s]},pi=function(e){return De(e)&&e.value===Vt.AUTO},gi=function(e){return"number"==typeof e},Bi=function(e,t,A){var r=t[0],n=t[1],i=t[2],o=e[0],s=e[1];if(Ge(o)&&s&&Ge(s))return[We(o,A.width),We(s,A.height)];var a=gi(i);if(De(o)&&(o.value===Vt.CONTAIN||o.value===Vt.COVER)){if(gi(i)){var l=A.width/A.height;return l<i!=(o.value===Vt.COVER)?[A.width,A.width/i]:[A.height*i,A.height]}return[A.width,A.height]}var u=gi(r),c=gi(n),d=u||c;if(pi(o)&&(!s||pi(s))){if(u&&c)return[r,n];if(!a&&!d)return[A.width,A.height];if(d&&a){var f=u?r:n*i,h=c?n:r/i;return[f,h]}var p=u?r:A.width,g=c?n:A.height;return[p,g]}if(a){var B=0,m=0;return Ge(o)?B=We(o,A.width):Ge(s)&&(m=We(s,A.height)),pi(o)?B=m*i:s&&!pi(s)||(m=B/i),[B,m]}var w=null,E=null;if(Ge(o)?w=We(o,A.width):s&&Ge(s)&&(E=We(s,A.height)),null===w||s&&!pi(s)||(E=u&&c?w/r*n:A.height),null!==E&&pi(o)&&(w=u&&c?E/n*r:A.width),null!==w&&null!==E)return[w,E];throw new Error("Unable to calculate background-size for element")},mi=function(e,t){var A=e[t];return void 0===A?e[0]:A},wi=function(e,t,A,r,n){var i=t[0],o=t[1],s=A[0],a=A[1];switch(e){case xt.REPEAT_X:return[new qn(Math.round(r.left),Math.round(r.top+o)),new qn(Math.round(r.left+r.width),Math.round(r.top+o)),new qn(Math.round(r.left+r.width),Math.round(a+r.top+o)),new qn(Math.round(r.left),Math.round(a+r.top+o))];case xt.REPEAT_Y:return[new qn(Math.round(r.left+i),Math.round(r.top)),new qn(Math.round(r.left+i+s),Math.round(r.top)),new qn(Math.round(r.left+i+s),Math.round(r.height+r.top)),new qn(Math.round(r.left+i),Math.round(r.height+r.top))];case xt.NO_REPEAT:return[new qn(Math.round(r.left+i),Math.round(r.top+o)),new qn(Math.round(r.left+i+s),Math.round(r.top+o)),new qn(Math.round(r.left+i+s),Math.round(r.top+o+a)),new qn(Math.round(r.left+i),Math.round(r.top+o+a))];default:return[new qn(Math.round(n.left),Math.round(n.top)),new qn(Math.round(n.left+n.width),Math.round(n.top)),new qn(Math.round(n.left+n.width),Math.round(n.height+n.top)),new qn(Math.round(n.left),Math.round(n.height+n.top))]}},Ei=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var A=this._document.createElement("div"),r=this._document.createElement("img"),n=this._document.createElement("span"),i=this._document.body;A.style.visibility="hidden",A.style.fontFamily=e,A.style.fontSize=t,A.style.margin="0",A.style.padding="0",i.appendChild(A),r.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.appendChild(this._document.createTextNode("Hidden Text")),A.appendChild(n),A.appendChild(r);var o=r.offsetTop-n.offsetTop+2;A.removeChild(n),A.appendChild(this._document.createTextNode("Hidden Text")),A.style.lineHeight="normal",r.style.verticalAlign="super";var s=r.offsetTop-A.offsetTop+2;return i.removeChild(A),{baseline:o,middle:s}},e.prototype.getMetrics=function(e,t){var A=e+" "+t;return void 0===this._data[A]&&(this._data[A]=this.parseMetrics(e,t)),this._data[A]},e}(),vi=function(){function e(e){this._activeEffects=[],this.canvas=e.canvas?e.canvas:document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.options=e,this.canvas.width=Math.floor(e.width*e.scale),this.canvas.height=Math.floor(e.height*e.scale),this.canvas.style.width=e.width+"px",this.canvas.style.height=e.height+"px",this.fontMetrics=new Ei(document),this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-e.x+e.scrollX,-e.y+e.scrollY),this.ctx.textBaseline="bottom",this._activeEffects=[],Tt.getInstance(e.id).debug("Canvas renderer initialized ("+e.width+"x"+e.height+" at "+e.x+","+e.y+") with scale "+e.scale)}return e.prototype.applyEffects=function(e,t){for(var A=this;this._activeEffects.length;)this.popEffect();e.filter(function(e){return wr(e.target,t)}).forEach(function(e){return A.applyEffect(e)})},e.prototype.applyEffect=function(e){this.ctx.save(),function(e){return 0===e.type}(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),function(e){return 1===e.type}(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(e){return r(this,void 0,void 0,function(){var t;return n(this,function(A){switch(A.label){case 0:return(t=e.element.container.styles).isVisible()?(this.ctx.globalAlpha=t.opacity,[4,this.renderStackContent(e)]):[3,2];case 1:A.sent(),A.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(e){return r(this,void 0,void 0,function(){return n(this,function(t){switch(t.label){case 0:return e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(e,t){var A=this;if(0===t)this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+e.bounds.height);else{var r=s(e.text).map(function(e){return a(e)});r.reduce(function(t,r){return A.ctx.fillText(r,t,e.bounds.top+e.bounds.height),t+A.ctx.measureText(r).width},e.bounds.left)}},e.prototype.createFontStyle=function(e){var t=e.fontVariant.filter(function(e){return"normal"===e||"small-caps"===e}).join(""),A=e.fontFamily.join(", "),r=Le(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,r,A].join(" "),A,r]},e.prototype.renderTextNode=function(e,t){return r(this,void 0,void 0,function(){var A,r,i,o,s=this;return n(this,function(n){return A=this.createFontStyle(t),r=A[0],i=A[1],o=A[2],this.ctx.font=r,e.textBounds.forEach(function(e){s.ctx.fillStyle=At(t.color),s.renderTextWithLetterSpacing(e,t.letterSpacing);var A=t.textShadow;A.length&&e.text.trim().length&&(A.slice(0).reverse().forEach(function(t){s.ctx.shadowColor=At(t.color),s.ctx.shadowOffsetX=t.offsetX.number*s.options.scale,s.ctx.shadowOffsetY=t.offsetY.number*s.options.scale,s.ctx.shadowBlur=t.blur.number,s.ctx.fillText(e.text,e.bounds.left,e.bounds.top+e.bounds.height)}),s.ctx.shadowColor="",s.ctx.shadowOffsetX=0,s.ctx.shadowOffsetY=0,s.ctx.shadowBlur=0),t.textDecorationLine.length&&(s.ctx.fillStyle=At(t.textDecorationColor||t.color),t.textDecorationLine.forEach(function(t){switch(t){case 1:var A=s.fontMetrics.getMetrics(i,o).baseline;s.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+A),e.bounds.width,1);break;case 2:s.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:var r=s.fontMetrics.getMetrics(i,o).middle;s.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+r),e.bounds.width,1)}}))}),[2]})})},e.prototype.renderReplacedElement=function(e,t,A){if(A&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var r=fi(e),n=ni(t);this.path(n),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(A,0,0,e.intrinsicWidth,e.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return r(this,void 0,void 0,function(){var A,r,o,s,a,l,u,c,f,h,p,g,B,m;return n(this,function(n){switch(n.label){case 0:this.applyEffects(t.effects,4),A=t.container,r=t.curves,o=A.styles,s=0,a=A.textNodes,n.label=1;case 1:return s<a.length?(l=a[s],[4,this.renderTextNode(l,o)]):[3,4];case 2:n.sent(),n.label=3;case 3:return s++,[3,1];case 4:if(!(A instanceof Kr))return[3,8];n.label=5;case 5:return n.trys.push([5,7,,8]),[4,this.options.cache.match(A.src)];case 6:return g=n.sent(),this.renderReplacedElement(A,r,g),[3,8];case 7:return n.sent(),Tt.getInstance(this.options.id).error("Error loading image "+A.src),[3,8];case 8:if(A instanceof kr&&this.renderReplacedElement(A,r,A.canvas),!(A instanceof Gr))return[3,12];n.label=9;case 9:return n.trys.push([9,11,,12]),[4,this.options.cache.match(A.svg)];case 10:return g=n.sent(),this.renderReplacedElement(A,r,g),[3,12];case 11:return n.sent(),Tt.getInstance(this.options.id).error("Error loading svg "+A.svg.substring(0,255)),[3,12];case 12:return A instanceof rn&&A.tree?[4,new e({id:this.options.id,scale:this.options.scale,backgroundColor:A.backgroundColor,x:0,y:0,scrollX:0,scrollY:0,width:A.width,height:A.height,cache:this.options.cache,windowWidth:A.width,windowHeight:A.height}).render(A.tree)]:[3,14];case 13:u=n.sent(),this.ctx.drawImage(u,0,0,A.width,A.width,A.bounds.left,A.bounds.top,A.bounds.width,A.bounds.height),n.label=14;case 14:if(A instanceof $r&&(c=Math.min(A.bounds.width,A.bounds.height),A.type===Jr?A.checked&&(this.ctx.save(),this.path([new qn(A.bounds.left+.39363*c,A.bounds.top+.79*c),new qn(A.bounds.left+.16*c,A.bounds.top+.5549*c),new qn(A.bounds.left+.27347*c,A.bounds.top+.44071*c),new qn(A.bounds.left+.39694*c,A.bounds.top+.5649*c),new qn(A.bounds.left+.72983*c,A.bounds.top+.23*c),new qn(A.bounds.left+.84*c,A.bounds.top+.34085*c),new qn(A.bounds.left+.39363*c,A.bounds.top+.79*c)]),this.ctx.fillStyle=At(707406591),this.ctx.fill(),this.ctx.restore()):A.type===qr&&A.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(A.bounds.left+c/2,A.bounds.top+c/2,c/4,0,2*Math.PI,!0),this.ctx.fillStyle=At(707406591),this.ctx.fill(),this.ctx.restore())),yi(A)&&A.value.length){switch(this.ctx.font=this.createFontStyle(o)[0],this.ctx.fillStyle=At(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign=Ui(A.styles.textAlign),m=fi(A),f=0,A.styles.textAlign){case xA.CENTER:f+=m.width/2;break;case xA.RIGHT:f+=m.width}h=m.add(f,0,0,-m.height/2+1),this.ctx.save(),this.path([new qn(m.left,m.top),new qn(m.left+m.width,m.top),new qn(m.left+m.width,m.top+m.height),new qn(m.left,m.top+m.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Rr(A.value,h),o.letterSpacing),this.ctx.restore(),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"}if(!wr(A.styles.display,2048))return[3,20];if(null===A.styles.listStyleImage)return[3,19];if((p=A.styles.listStyleImage).type!==dt.URL)return[3,18];g=void 0,B=p.url,n.label=15;case 15:return n.trys.push([15,17,,18]),[4,this.options.cache.match(B)];case 16:return g=n.sent(),this.ctx.drawImage(g,A.bounds.left-(g.width+10),A.bounds.top),[3,18];case 17:return n.sent(),Tt.getInstance(this.options.id).error("Error loading list-style-image "+B),[3,18];case 18:return[3,20];case 19:t.listValue&&A.styles.listStyleType!==bA.NONE&&(this.ctx.font=this.createFontStyle(o)[0],this.ctx.fillStyle=At(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",m=new i(A.bounds.left,A.bounds.top+We(A.styles.paddingTop,A.bounds.width),A.bounds.width,function(e,t){return De(e)&&"normal"===e.value?1.2*t:e.type===d.NUMBER_TOKEN?t*e.number:Ge(e)?We(e,t):t}(o.lineHeight,o.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Rr(t.listValue,m),o.letterSpacing),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),n.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(e){return r(this,void 0,void 0,function(){var t,A,r,i,o,s,a,l,u,c,d,f,h,p,g;return n(this,function(n){switch(n.label){case 0:return[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:n.sent(),t=0,A=e.negativeZIndex,n.label=2;case 2:return t<A.length?(g=A[t],[4,this.renderStack(g)]):[3,5];case 3:n.sent(),n.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:n.sent(),r=0,i=e.nonInlineLevel,n.label=7;case 7:return r<i.length?(g=i[r],[4,this.renderNode(g)]):[3,10];case 8:n.sent(),n.label=9;case 9:return r++,[3,7];case 10:o=0,s=e.nonPositionedFloats,n.label=11;case 11:return o<s.length?(g=s[o],[4,this.renderStack(g)]):[3,14];case 12:n.sent(),n.label=13;case 13:return o++,[3,11];case 14:a=0,l=e.nonPositionedInlineLevel,n.label=15;case 15:return a<l.length?(g=l[a],[4,this.renderStack(g)]):[3,18];case 16:n.sent(),n.label=17;case 17:return a++,[3,15];case 18:u=0,c=e.inlineLevel,n.label=19;case 19:return u<c.length?(g=c[u],[4,this.renderNode(g)]):[3,22];case 20:n.sent(),n.label=21;case 21:return u++,[3,19];case 22:d=0,f=e.zeroOrAutoZIndexOrTransformedOrOpacity,n.label=23;case 23:return d<f.length?(g=f[d],[4,this.renderStack(g)]):[3,26];case 24:n.sent(),n.label=25;case 25:return d++,[3,23];case 26:h=0,p=e.positiveZIndex,n.label=27;case 27:return h<p.length?(g=p[h],[4,this.renderStack(g)]):[3,30];case 28:n.sent(),n.label=29;case 29:return h++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},e.prototype.formatPath=function(e){var t=this;e.forEach(function(e,A){var r=ei(e)?e.start:e;0===A?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),ei(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)})},e.prototype.renderRepeat=function(e,t,A,r){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(A,r),this.ctx.fill(),this.ctx.translate(-A,-r)},e.prototype.resizeImage=function(e,t,A){if(e.width===t&&e.height===A)return e;var r=this.canvas.ownerDocument.createElement("canvas");r.width=t,r.height=A;var n=r.getContext("2d");return n.drawImage(e,0,0,e.width,e.height,0,0,t,A),r},e.prototype.renderBackgroundImage=function(e){return r(this,void 0,void 0,function(){var t,A,r,i,o,s;return n(this,function(a){switch(a.label){case 0:t=e.styles.backgroundImage.length-1,A=function(A){var i,o,s,a,l,u,c,d,f,h,p,g,B,m,w,E,v,y,C,U,Q,F,T,b,S,_,R,I,L,N,D;return n(this,function(n){switch(n.label){case 0:if(A.type!==dt.URL)return[3,5];i=void 0,o=A.url,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,r.options.cache.match(o)];case 2:return i=n.sent(),[3,4];case 3:return n.sent(),Tt.getInstance(r.options.id).error("Error loading background-image "+o),[3,4];case 4:return i&&(s=hi(e,t,[i.width,i.height,i.width/i.height]),E=s[0],F=s[1],T=s[2],C=s[3],U=s[4],m=r.ctx.createPattern(r.resizeImage(i,C,U),"repeat"),r.renderRepeat(E,m,F,T)),[3,6];case 5:A.type===dt.LINEAR_GRADIENT?(a=hi(e,t,[null,null,null]),E=a[0],F=a[1],T=a[2],C=a[3],U=a[4],l=wt(A.angle,C,U),u=l[0],c=l[1],d=l[2],f=l[3],h=l[4],(p=document.createElement("canvas")).width=C,p.height=U,g=p.getContext("2d"),B=g.createLinearGradient(c,f,d,h),mt(A.stops,u).forEach(function(e){return B.addColorStop(e.stop,At(e.color))}),g.fillStyle=B,g.fillRect(0,0,C,U),m=r.ctx.createPattern(p,"repeat"),r.renderRepeat(E,m,F,T)):function(e){return e.type===dt.RADIAL_GRADIENT}(A)&&(w=hi(e,t,[null,null,null]),E=w[0],v=w[1],y=w[2],C=w[3],U=w[4],Q=0===A.position.length?[ze]:A.position,F=We(Q[0],C),T=We(Q[Q.length-1],U),b=function(e,t,A,r,n){var i=0,o=0;switch(e.size){case ht.CLOSEST_SIDE:e.shape===ft.CIRCLE?i=o=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(A),Math.abs(A-n)):e.shape===ft.ELLIPSE&&(i=Math.min(Math.abs(t),Math.abs(t-r)),o=Math.min(Math.abs(A),Math.abs(A-n)));break;case ht.CLOSEST_CORNER:if(e.shape===ft.CIRCLE)i=o=Math.min(Et(t,A),Et(t,A-n),Et(t-r,A),Et(t-r,A-n));else if(e.shape===ft.ELLIPSE){var s=Math.min(Math.abs(A),Math.abs(A-n))/Math.min(Math.abs(t),Math.abs(t-r)),a=vt(r,n,t,A,!0),l=a[0],u=a[1];i=Et(l-t,(u-A)/s),o=s*i}break;case ht.FARTHEST_SIDE:e.shape===ft.CIRCLE?i=o=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(A),Math.abs(A-n)):e.shape===ft.ELLIPSE&&(i=Math.max(Math.abs(t),Math.abs(t-r)),o=Math.max(Math.abs(A),Math.abs(A-n)));break;case ht.FARTHEST_CORNER:if(e.shape===ft.CIRCLE)i=o=Math.max(Et(t,A),Et(t,A-n),Et(t-r,A),Et(t-r,A-n));else if(e.shape===ft.ELLIPSE){var s=Math.max(Math.abs(A),Math.abs(A-n))/Math.max(Math.abs(t),Math.abs(t-r)),c=vt(r,n,t,A,!1),l=c[0],u=c[1];i=Et(l-t,(u-A)/s),o=s*i}}return Array.isArray(e.size)&&(i=We(e.size[0],r),o=2===e.size.length?We(e.size[1],n):i),[i,o]}(A,F,T,C,U),S=b[0],_=b[1],S>0&&S>0&&(R=r.ctx.createRadialGradient(v+F,y+T,0,v+F,y+T,S),mt(A.stops,2*S).forEach(function(e){return R.addColorStop(e.stop,At(e.color))}),r.path(E),r.ctx.fillStyle=R,S!==_?(I=e.bounds.left+.5*e.bounds.width,L=e.bounds.top+.5*e.bounds.height,D=1/(N=_/S),r.ctx.save(),r.ctx.translate(I,L),r.ctx.transform(1,0,0,N,0,0),r.ctx.translate(-I,-L),r.ctx.fillRect(v,D*(y-L)+L,C,U*D),r.ctx.restore()):r.ctx.fill())),n.label=6;case 6:return t--,[2]}})},r=this,i=0,o=e.styles.backgroundImage.slice(0).reverse(),a.label=1;case 1:return i<o.length?(s=o[i],[5,A(s)]):[3,4];case 2:a.sent(),a.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},e.prototype.renderBorder=function(e,t,A){return r(this,void 0,void 0,function(){return n(this,function(r){return this.path(function(e,t){switch(t){case 0:return ci(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return ci(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return ci(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return ci(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}}(A,t)),this.ctx.fillStyle=At(e),this.ctx.fill(),[2]})})},e.prototype.renderNodeBackgroundAndBorders=function(e){return r(this,void 0,void 0,function(){var t,A,r,i,o,s,a,l,u=this;return n(this,function(n){switch(n.label){case 0:return this.applyEffects(e.effects,2),t=e.container.styles,A=!tt(t.backgroundColor)||t.backgroundImage.length,r=[{style:t.borderTopStyle,color:t.borderTopColor},{style:t.borderRightStyle,color:t.borderRightColor},{style:t.borderBottomStyle,color:t.borderBottomColor},{style:t.borderLeftStyle,color:t.borderLeftColor}],i=Ci(mi(t.backgroundClip,0),e.curves),A||t.boxShadow.length?(this.ctx.save(),this.path(i),this.ctx.clip(),tt(t.backgroundColor)||(this.ctx.fillStyle=At(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:n.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach(function(t){u.ctx.save();var A,r,n,i,o,s=ri(e.curves),a=t.inset?0:1e4,l=(A=s,r=-a+(t.inset?1:-1)*t.spread.number,n=(t.inset?1:-1)*t.spread.number,i=t.spread.number*(t.inset?-2:2),o=t.spread.number*(t.inset?-2:2),A.map(function(e,t){switch(t){case 0:return e.add(r,n);case 1:return e.add(r+i,n);case 2:return e.add(r+i,n+o);case 3:return e.add(r,n+o)}return e}));t.inset?(u.path(s),u.ctx.clip(),u.mask(l)):(u.mask(s),u.ctx.clip(),u.path(l)),u.ctx.shadowOffsetX=t.offsetX.number+a,u.ctx.shadowOffsetY=t.offsetY.number,u.ctx.shadowColor=At(t.color),u.ctx.shadowBlur=t.blur.number,u.ctx.fillStyle=t.inset?At(t.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()}),n.label=2;case 2:o=0,s=0,a=r,n.label=3;case 3:return s<a.length?(l=a[s]).style===Yt.NONE||tt(l.color)?[3,5]:[4,this.renderBorder(l.color,o++,e.curves)]:[3,6];case 4:n.sent(),n.label=5;case 5:return s++,[3,3];case 6:return[2]}})})},e.prototype.render=function(e){return r(this,void 0,void 0,function(){var t;return n(this,function(A){switch(A.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=At(this.options.backgroundColor),this.ctx.fillRect(this.options.x-this.options.scrollX,this.options.y-this.options.scrollY,this.options.width,this.options.height)),r=new ai(e,[]),n=new si(r),li(r,n,n,i=[]),ui(r.container,i),t=n,[4,this.renderStack(t)];case 1:return A.sent(),this.applyEffects([],2),[2,this.canvas]}var r,n,i})})},e}(),yi=function(e){return e instanceof tn||e instanceof en||e instanceof $r&&e.type!==qr&&e.type!==Jr},Ci=function(e,t){switch(e){case at.BORDER_BOX:return ri(t);case at.CONTENT_BOX:return function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]}(t);case at.PADDING_BOX:default:return ni(t)}},Ui=function(e){switch(e){case xA.CENTER:return"center";case xA.RIGHT:return"right";case xA.LEFT:default:return"left"}},Qi=function(){function e(e){this.canvas=e.canvas?e.canvas:document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.options=e,this.canvas.width=Math.floor(e.width*e.scale),this.canvas.height=Math.floor(e.height*e.scale),this.canvas.style.width=e.width+"px",this.canvas.style.height=e.height+"px",this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-e.x+e.scrollX,-e.y+e.scrollY),Tt.getInstance(e.id).debug("EXPERIMENTAL ForeignObject renderer initialized ("+e.width+"x"+e.height+" at "+e.x+","+e.y+") with scale "+e.scale)}return e.prototype.render=function(e){return r(this,void 0,void 0,function(){var t,A;return n(this,function(r){switch(r.label){case 0:return t=Ut(Math.max(this.options.windowWidth,this.options.width)*this.options.scale,Math.max(this.options.windowHeight,this.options.height)*this.options.scale,this.options.scrollX*this.options.scale,this.options.scrollY*this.options.scale,e),[4,Fi(t)];case 1:return A=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=At(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(A,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(),Fi=function(e){return new Promise(function(t,A){var r=new Image;r.onload=function(){t(r)},r.onerror=A,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))})},Ti=void 0,bi=function(e){return et.parse(Ie.create(e).parseComponentValue())};bt.setContext(window);var Si=function(e,t){return r(Ti,void 0,void 0,function(){var r,s,a,l,u,c,d,f,h,p,g,B,m,w,E,v,y,C,U,Q,F,T,b;return n(this,function(n){switch(n.label){case 0:if(!(r=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(s=r.defaultView))throw new Error("Document is not attached to a Window");return a=(Math.round(1e3*Math.random())+Date.now()).toString(16),l=mn(e)||"HTML"===e.tagName?function(e){var t=e.body,A=e.documentElement;if(!t||!A)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,A.scrollWidth),Math.max(t.offsetWidth,A.offsetWidth),Math.max(t.clientWidth,A.clientWidth)),n=Math.max(Math.max(t.scrollHeight,A.scrollHeight),Math.max(t.offsetHeight,A.offsetHeight),Math.max(t.clientHeight,A.clientHeight));return new i(0,0,r,n)}(r):o(e),u=l.width,c=l.height,d=l.left,f=l.top,h=A({},{allowTaint:!1,imageTimeout:15e3,proxy:void 0,useCORS:!1},t),p={backgroundColor:"#ffffff",cache:t.cache?t.cache:bt.create(a,h),logging:!0,removeContainer:!0,foreignObjectRendering:!1,scale:s.devicePixelRatio||1,windowWidth:s.innerWidth,windowHeight:s.innerHeight,scrollX:s.pageXOffset,scrollY:s.pageYOffset,x:d,y:f,width:Math.ceil(u),height:Math.ceil(c),id:a},g=A({},p,h,t),B=new i(g.scrollX,g.scrollY,g.windowWidth,g.windowHeight),Tt.create(a),Tt.getInstance(a).debug("Starting document clone"),m=new On(e,{id:a,onclone:g.onclone,ignoreElements:g.ignoreElements,inlineImages:g.foreignObjectRendering,copyStyles:g.foreignObjectRendering}),(w=m.clonedReferenceElement)?[4,m.toIFrame(r,B)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return E=n.sent(),v=r.documentElement?bi(getComputedStyle(r.documentElement).backgroundColor):ct.TRANSPARENT,y=r.body?bi(getComputedStyle(r.body).backgroundColor):ct.TRANSPARENT,C=t.backgroundColor,U="string"==typeof C?bi(C):4294967295,Q=e===r.documentElement?tt(v)?tt(y)?U:y:v:U,F={id:a,cache:g.cache,backgroundColor:Q,scale:g.scale,x:g.x,y:g.y,scrollX:g.scrollX,scrollY:g.scrollY,width:g.width,height:g.height,windowWidth:g.windowWidth,windowHeight:g.windowHeight},g.foreignObjectRendering?(Tt.getInstance(a).debug("Document cloned, using foreign object rendering"),[4,new Qi(F).render(w)]):[3,3];case 2:return T=n.sent(),[3,5];case 3:return Tt.getInstance(a).debug("Document cloned, using computed rendering"),bt.attachInstance(g.cache),Tt.getInstance(a).debug("Starting DOM parsing"),b=an(w),bt.detachInstance(),Q===b.styles.backgroundColor&&(b.styles.backgroundColor=ct.TRANSPARENT),Tt.getInstance(a).debug("Starting renderer"),[4,new vi(F).render(b)];case 4:T=n.sent(),n.label=5;case 5:return!0===g.removeContainer&&(_i(E)||Tt.getInstance(a).error("Cannot detach cloned iframe as it is not in the DOM anymore")),Tt.getInstance(a).debug("Finished rendering"),Tt.destroy(a),bt.destroy(a),[2,T]}})})},_i=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)};return function(e,t){return void 0===t&&(t={}),Si(e,t)}}()}]);